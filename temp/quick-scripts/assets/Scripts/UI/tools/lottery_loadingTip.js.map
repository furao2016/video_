{"version":3,"sources":["lottery_loadingTip.js"],"names":["cc","_decorator","ccclass","property","lottery_loadingTip","Integer","Node","timeId","startAction","actionNode","stopAllActions","node","active","setTimeout","GlobalMsg","getInstance","Send","lottery_EventDefine","sys","loadingOvertime","playLongTime","clearTimeout","callFunc","rotation","bind","repfor","repeatForever","sequence","delayTime","runAction","Component"],"mappings":";;;;;;;;;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qBAE8BA,GAAGC;IAAzBC,yBAAAA;IAASC,0BAAAA;IAEIC,6BAChBD,SAASH,GAAGK,OAAZ,WAEAF,SAASH,GAAGM,IAAZ,GAJJJ;;;;;;;;;;;;;;yUAOGK,SAAS;MALY;;AAIrB;;;;;mCAEW;AACP,iBAAKC,WAAL;AACH;;;oCACW;AACR,iBAAKC,UAAL,CAAgBC,cAAhB;AACH;AACD;;;;oCACY;AAAA;;AACR,iBAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,iBAAKL,MAAL,GAAcM,WAAW,YAAM;AAC3B,uBAAKF,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACAE,4CAAUC,WAAV,GAAwBC,IAAxB,CAA6BC,yCAAoBC,GAApB,CAAwBC,eAArD;AACH,aAHa,EAGX,KAAKC,YAHM,CAAd;AAIH;AACD;;;;mCACW;AACP,iBAAKT,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACAS,yBAAa,KAAKd,MAAlB;AACA,iBAAKA,MAAL,GAAc,IAAd;AACH;;;sCACa;AACV,gBAAIe,WAAWtB,GAAGsB,QAAH,CAAY,YAAY;AACnC,qBAAKb,UAAL,CAAgBc,QAAhB,IAA4B,EAA5B;AACA,qBAAKd,UAAL,CAAgBc,QAAhB,IAA4B,GAA5B;AACH,aAH0B,CAGzBC,IAHyB,CAGpB,IAHoB,CAAZ,CAAf;AAIA,gBAAIC,SAASzB,GAAG0B,aAAH,CAAiB1B,GAAG2B,QAAH,CAAY3B,GAAG4B,SAAH,CAAa,GAAb,CAAZ,EAA+BN,QAA/B,CAAjB,CAAb;AACA,iBAAKb,UAAL,CAAgBoB,SAAhB,CAA0BJ,MAA1B;AACH;;;;EAlC2CzB,GAAG8B;;;eAEhC;;;;;eAEF;;;kBAJI1B","file":"lottery_loadingTip.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\tools","sourcesContent":["import GlobalMsg from \"../../Core/Event/lottery_GlobalMsg\";\r\nimport { lottery_EventDefine } from \"../../Data/lottery_EventDefine\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n@ccclass\r\nexport default class lottery_loadingTip extends cc.Component {\r\n    @property(cc.Integer)//播放最长时间\r\n    playLongTime = 5000;\r\n    @property(cc.Node)\r\n    actionNode = null;\r\n    //定时器ID\r\n    timeId = null;\r\n    onEnable() {\r\n        this.startAction();\r\n    }\r\n    onDisable() {\r\n        this.actionNode.stopAllActions();\r\n    }\r\n    //开始播放\r\n    startPlay() {\r\n        this.node.active = true;\r\n        this.timeId = setTimeout(() => {\r\n            this.node.active = false;\r\n            GlobalMsg.getInstance().Send(lottery_EventDefine.sys.loadingOvertime);\r\n        }, this.playLongTime);\r\n    }\r\n    //停止播放\r\n    stopPlay() {\r\n        this.node.active = false;\r\n        clearTimeout(this.timeId);\r\n        this.timeId = null;\r\n    }\r\n    startAction() {\r\n        let callFunc = cc.callFunc(function () {\r\n            this.actionNode.rotation += 30;\r\n            this.actionNode.rotation %= 360;\r\n        }.bind(this));\r\n        let repfor = cc.repeatForever(cc.sequence(cc.delayTime(0.1), callFunc));\r\n        this.actionNode.runAction(repfor)\r\n    }\r\n}"]}