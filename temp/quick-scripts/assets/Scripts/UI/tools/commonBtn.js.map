{"version":3,"sources":["commonBtn.js"],"names":["commonBtn","node","downCallback","isSelect","defaultNode","cc","find","selectNode","is","active","radioBtn","on","Node","EventType","TOUCH_START","touchStart","TOUCH_CANCEL","touchCancle","TOUCH_END","touchEnd","select","groupBtn","group","index","arr","indexOf"],"mappings":";;;;;;;;;;;;;;;;;;IAAqBA;AAMjB,uBAAYC,IAAZ,EAAkBC,YAAlB,EAAgC;AAAA;;AAAA,aAHhCC,QAGgC,GAHrB,KAGqB;AAAA,aADhCD,YACgC,GADjB,IACiB;;AAC5B,aAAKD,IAAL,GAAYA,IAAZ;AACA,aAAKG,WAAL,GAAmBC,GAAGC,IAAH,CAAQ,SAAR,EAAmB,KAAKL,IAAxB,CAAnB;AACA,aAAKM,UAAL,GAAkBF,GAAGC,IAAH,CAAQ,QAAR,EAAkB,KAAKL,IAAvB,CAAlB;AACA,aAAKC,YAAL,GAAoBA,YAApB;AACH;AAPD;;;;;+BASOM,IAAI;AACP,iBAAKD,UAAL,CAAgBE,MAAhB,GAAyBD,EAAzB;AACA,iBAAKJ,WAAL,CAAiBK,MAAjB,GAA0B,CAACD,EAA3B;AACA,iBAAKL,QAAL,GAAgBK,EAAhB;AACH;;;;;;AAGL;;;;;kBApBqBR;;IAuBRU,mBAAAA;;;AAET,sBAAYT,IAAZ,EAAkBC,YAAlB,EAAgC;AAAA;;AAAA,wHACtBD,IADsB,EAChBC,YADgB;;AAE5B,cAAKD,IAAL,CAAUU,EAAV,CAAaN,GAAGO,IAAH,CAAQC,SAAR,CAAkBC,WAA/B,EAA4C,MAAKC,UAAjD;AACA,cAAKd,IAAL,CAAUU,EAAV,CAAaN,GAAGO,IAAH,CAAQC,SAAR,CAAkBG,YAA/B,EAA6C,MAAKC,WAAlD;AACA,cAAKhB,IAAL,CAAUU,EAAV,CAAaN,GAAGO,IAAH,CAAQC,SAAR,CAAkBK,SAA/B,EAA0C,MAAKC,QAA/C;AAJ4B;AAK/B;;;;qCAEY;AACT,iBAAKC,MAAL,CAAY,IAAZ;AACH;;;sCACa;AACV,iBAAKA,MAAL,CAAY,KAAZ;AACH;;;mCACU;AACP,iBAAKA,MAAL,CAAY,KAAZ;AACA,iBAAKlB,YAAL,IAAqB,KAAKA,YAAL,EAArB;AACH;;;;EAlByBF;AAoB9B;;;;;IAGaqB,mBAAAA;;;AAET,sBAAYpB,IAAZ,EAAkBC,YAAlB,EAAgCoB,KAAhC,EAAuC;AAAA;;AAAA,yHAC7BrB,IAD6B,EACvBC,YADuB;;AAAA,eADvCoB,KACuC,GAD/B,IAC+B;;AAEnC,eAAKrB,IAAL,CAAUU,EAAV,CAAaN,GAAGO,IAAH,CAAQC,SAAR,CAAkBK,SAA/B,EAA0C,OAAKC,QAA/C;AACA,eAAKG,KAAL,GAAaA,KAAb;AAHmC;AAItC;;;;mCACU;AACP,gBAAI,KAAKnB,QAAT,EAAmB;AACf,qBAAKiB,MAAL,CAAY,KAAZ;AACA,qBAAKE,KAAL,CAAWC,KAAX,GAAmB,IAAnB;AACH,aAHD,MAIK;AACD,qBAAKH,MAAL,CAAY,IAAZ;AACA,oBAAIG,QAAQ,KAAKD,KAAL,CAAWE,GAAX,CAAeC,OAAf,CAAuB,IAAvB,CAAZ;AACA,oBAAI,KAAKH,KAAL,CAAWC,KAAX,IAAoB,IAAxB,EAA8B;AAC1B,yBAAKD,KAAL,CAAWE,GAAX,CAAe,KAAKF,KAAL,CAAWC,KAA1B,EAAiCH,MAAjC,CAAwC,KAAxC;AACH;AACD,qBAAKE,KAAL,CAAWC,KAAX,GAAmBA,KAAnB;AACA,qBAAKrB,YAAL,IAAqB,KAAKA,YAAL,EAArB;AACH;AACJ;;;;EArByBF","file":"commonBtn.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\tools","sourcesContent":["export default class commonBtn {\r\n    defaultNode;\r\n    selectNode;\r\n    isSelect = false;\r\n    //按下回调\r\n    downCallback = null;\r\n    constructor(node, downCallback) {\r\n        this.node = node;\r\n        this.defaultNode = cc.find('default', this.node);\r\n        this.selectNode = cc.find('select', this.node);\r\n        this.downCallback = downCallback;\r\n    }\r\n\r\n    select(is) {\r\n        this.selectNode.active = is;\r\n        this.defaultNode.active = !is;\r\n        this.isSelect = is;\r\n    }\r\n}\r\n\r\n/**\r\n * 按下后，弹起的按钮\r\n */\r\nexport class radioBtn extends commonBtn {\r\n\r\n    constructor(node, downCallback) {\r\n        super(node, downCallback);\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.touchStart, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.touchCancle, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.touchEnd, this);\r\n    }\r\n\r\n    touchStart() {\r\n        this.select(true);\r\n    }\r\n    touchCancle() {\r\n        this.select(false);\r\n    }\r\n    touchEnd() {\r\n        this.select(false);\r\n        this.downCallback && this.downCallback()\r\n    }\r\n}\r\n/**\r\n * 按下后不弹起的按钮，当前组其他按钮按下，才弹起\r\n */\r\nexport class groupBtn extends commonBtn {\r\n    group = null;\r\n    constructor(node, downCallback, group) {\r\n        super(node, downCallback);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.touchEnd, this);\r\n        this.group = group;\r\n    }\r\n    touchEnd() {\r\n        if (this.isSelect) {\r\n            this.select(false);\r\n            this.group.index = null;\r\n        }\r\n        else {\r\n            this.select(true);\r\n            let index = this.group.arr.indexOf(this);\r\n            if (this.group.index != null) {\r\n                this.group.arr[this.group.index].select(false);\r\n            }\r\n            this.group.index = index;\r\n            this.downCallback && this.downCallback();\r\n        }\r\n    }\r\n}\r\n"]}