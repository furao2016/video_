{"version":3,"sources":["lottery_viewBaseComponent.js"],"names":["ViewStatus","cc","Enum","none","init","close","open","Class","extends","Component","properties","moduleName","default","visible","curStatus","Init","OnInit","Show","GlobalMsg","getInstance","Register","_onMessageHandel","bind","node","uuid","OnShow","active","Hide","Unregister","ViewComponentManager","Close","OnHide","Dispose","OnDispose","data","isHandle","type"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AACA,IAAIA,aAAaC,GAAGC,IAAH,CAAQ;AACrBC,UAAM,CADe;AAErBC,UAAM,CAFe;AAGrBC,WAAO,CAHc;AAIrBC,UAAM;AAJe,CAAR,CAAjB;AAMAL,GAAGM,KAAH,CAAS;AACLC,aAASP,GAAGQ,SADP;AAELC,gBAAY;AACRC,oBAAY;AACRC,qBAAS,EADD;AAERC,qBAAS;AAFD,SADJ;AAKRC,mBAAW;AACPF,qBAASZ,WAAWG;AADb;AALH,KAFP;AAWL;AACAY,QAZK,kBAYE;AACH,YAAI,KAAKD,SAAL,IAAkBd,WAAWI,IAAjC,EAAuC;AACvC,aAAKU,SAAL,GAAiBd,WAAWI,IAA5B;AACA,aAAKY,MAAL;AACH,KAhBI;AAiBLC,QAjBK,kBAiBE;AACH,YAAI,KAAKH,SAAL,KAAmBd,WAAWM,IAAlC,EAAwC;AACxC,aAAKQ,SAAL,GAAiBd,WAAWM,IAA5B;AACAY,oCAAUC,WAAV,GAAwBC,QAAxB,CAAiC,KAAKT,UAAtC,EAAkD,KAAKU,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAAlD,EAAoF,KAAKC,IAAL,CAAUC,IAA9F;AACA,aAAKC,MAAL;AACA,aAAKF,IAAL,CAAUG,MAAV,GAAmB,IAAnB;AACH,KAvBI;AAwBLC,QAxBK,kBAwBE;AACH,YAAI,KAAKb,SAAL,KAAmBd,WAAWM,IAAlC,EAAwC;AACxC,YAAI,KAAKQ,SAAL,KAAmBd,WAAWK,KAAlC,EAAyC;AACzC,aAAKS,SAAL,GAAiBd,WAAWK,KAA5B;AACAa,oCAAUC,WAAV,GAAwBS,UAAxB,CAAmC,KAAKjB,UAAxC,EAAoD,KAAKY,IAAL,CAAUC,IAA9D;AACAK,+CAAqBV,WAArB,GAAmCW,KAAnC,CAAyC,KAAKnB,UAA9C;AACA,aAAKoB,MAAL;AACA,aAAKR,IAAL,CAAUG,MAAV,GAAmB,KAAnB;AACH,KAhCI;AAiCLM,WAjCK,qBAiCK;AACN,YAAI,KAAKlB,SAAL,KAAmBd,WAAWG,IAAlC,EAAwC;AACxC,aAAKW,SAAL,GAAiBd,WAAWG,IAA5B;AACA,aAAK8B,SAAL;AACH,KArCI;;AAsCL;AACA;AACAjB,UAxCK,oBAwCI,CAAG,CAxCP;;AAyCL;AACAS,UA1CK,oBA0CI,CAAG,CA1CP;;AA2CL;AACAM,UA5CK,oBA4CI,CAAG,CA5CP;;AA6CL;AACAE,aA9CK,uBA8CO,CAAG,CA9CV;;AA+CL;AACAZ,oBAhDK,4BAgDYa,IAhDZ,EAgDkB;AACnB,YAAIC,WAAW,IAAf;AACA,gBAAQD,KAAKE,IAAb;AACI;AAASD,2BAAW,KAAX;AACL;AAFR;AAIA,eAAOA,QAAP;AACH;AAvDI,CAAT","file":"lottery_viewBaseComponent.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\UI","sourcesContent":["import GlobalMsg from \"../Core/Event/lottery_GlobalMsg\";\r\nimport ViewComponentManager from \"../Manager/lottery_viewComponentManager\";\r\nlet ViewStatus = cc.Enum({\r\n    none: 0,\r\n    init: 1,\r\n    close: 2,\r\n    open: 3\r\n})\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        moduleName: {\r\n            default: \"\",\r\n            visible: false\r\n        },\r\n        curStatus: {\r\n            default: ViewStatus.none\r\n        }\r\n    },\r\n    /*------------------生命周期函数---------------*/\r\n    Init() {\r\n        if (this.curStatus >= ViewStatus.init) return;\r\n        this.curStatus = ViewStatus.init\r\n        this.OnInit()\r\n    },\r\n    Show() {\r\n        if (this.curStatus === ViewStatus.open) return;\r\n        this.curStatus = ViewStatus.open\r\n        GlobalMsg.getInstance().Register(this.moduleName, this._onMessageHandel.bind(this), this.node.uuid);\r\n        this.OnShow()\r\n        this.node.active = true;\r\n    },\r\n    Hide() {\r\n        if (this.curStatus !== ViewStatus.open) return;\r\n        if (this.curStatus === ViewStatus.close) return;\r\n        this.curStatus = ViewStatus.close\r\n        GlobalMsg.getInstance().Unregister(this.moduleName, this.node.uuid);\r\n        ViewComponentManager.getInstance().Close(this.moduleName)\r\n        this.OnHide()\r\n        this.node.active = false;\r\n    },\r\n    Dispose() {\r\n        if (this.curStatus === ViewStatus.none) return;\r\n        this.curStatus = ViewStatus.none\r\n        this.OnDispose()\r\n    },\r\n    /*------------------子类重写函数---------------*/\r\n    /**初始化一些缓存的节点数据*/\r\n    OnInit() { },\r\n    /**显示界面，作用等同于onEnable*/\r\n    OnShow() { },\r\n    /**关闭界面，作用等同于onDisable*/\r\n    OnHide() { },\r\n    /**销毁界面，作用等同于onDestroy*/\r\n    OnDispose() { },\r\n    /**数据解析，接受controller层的数据消息，解析并显示 */\r\n    _onMessageHandel(data) {\r\n        let isHandle = true;\r\n        switch (data.type) {\r\n            default: isHandle = false;\r\n                break;\r\n        }\r\n        return isHandle;\r\n    }\r\n});\r\n"]}