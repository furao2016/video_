{"version":3,"sources":["lottery_TypeSelect.js"],"names":["cc","_decorator","ccclass","property","lottertList","CP1001","title","spriteName","lotteryCode","CP1002","CP1003","CP1004","CP1005","lotterySelect","Node","btnGroup","arr","index","closeBtn","on","EventType","TOUCH_END","closeBtnDown","submitBtn","submitBtnDown","listData","node","active","lotteryData","one","push","dataIndex","forEach","data","element","updateData","destroy","instantiate","itemPrefab","selectBtn","selectItem","addChild","Helper","getInstance","showTips","lottery_MsgStation","onSendLotteryChoice","Component","callback","group","nameLable0","find","defaultNode","getComponent","Label","nameLable1","selectNode","icon","Sprite","select","string","Utils","setSprite","groupBtn"],"mappings":"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","file":"lottery_TypeSelect.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\view_login","sourcesContent":["import commonBtn, { groupBtn } from \"../tools/commonBtn\";\r\nimport lottery_MsgStation from \"../../Data/lottery_MsgStation\";\r\nimport Utils from \"../../Core/Tools/lottery_Utils\";\r\nimport Helper from \"../tools/lottery_helper\";\r\nconst { ccclass, property } = cc._decorator;\r\nvar lottertList =\r\n{\r\n    CP1001: {\r\n        title: \"EBet 时时彩\",\r\n        spriteName: \"lottery_pc28\",\r\n        lotteryCode: 'CP1001',\r\n    },\r\n    CP1002: {\r\n        title: \"EBET 3D\",\r\n        spriteName: \"lottery_3d\",\r\n        lotteryCode: 'CP1002',\r\n    },\r\n    CP1003: {\r\n        title: \"EBet 快3\",\r\n        spriteName: \"lottery_k3\",\r\n        lotteryCode: 'CP1003',\r\n    },\r\n    CP1004: {\r\n        title: \"EBet PK10\",\r\n        spriteName: \"lottery_pk10\",\r\n        lotteryCode: 'CP1004',\r\n    },\r\n    CP1005: {\r\n        title: \"EBET 11选5\",\r\n        spriteName: \"lottery_11x5\",\r\n        lotteryCode: 'CP1005',\r\n    }\r\n};\r\n\r\n@ccclass\r\nexport default class lotterySelect extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    selectItem = null;\r\n    @property(cc.Node)\r\n    itemPrefab = null;\r\n    @property(cc.Node)\r\n    closeBtn = null;\r\n    @property(cc.Node)\r\n    submitBtn = null;\r\n    //彩种数据\r\n    lotteryTypeData;\r\n    //类数组\r\n    btnGroup = {\r\n        arr: [],\r\n        index: null\r\n    }\r\n\r\n    onLoad() {\r\n        this.closeBtn.on(cc.Node.EventType.TOUCH_END, this.closeBtnDown, this);\r\n        this.submitBtn.on(cc.Node.EventType.TOUCH_END, this.submitBtnDown, this);\r\n    }\r\n\r\n    show(listData) {\r\n        this.node.active = true;\r\n        this.lotteryData = [];\r\n        for (let one of listData) {\r\n            lottertList[one] && this.lotteryData.push(lottertList[one]);\r\n        }\r\n        let dataIndex = 0;\r\n        this.btnGroup.index = null;\r\n        this.btnGroup.arr.forEach(element => {\r\n            let data = this.lotteryData[dataIndex++];\r\n            if (data)\r\n                element.updateData(data);\r\n            else\r\n                element.destroy();\r\n        });\r\n        let data = this.lotteryData[dataIndex];\r\n        while (data) {\r\n            let one = cc.instantiate(this.itemPrefab);\r\n            one.active = true;\r\n            this.btnGroup.arr.push(new selectBtn(data, one, () => { }, this.btnGroup));\r\n            this.selectItem.addChild(one);\r\n            data = this.lotteryData[++dataIndex];\r\n        }\r\n    }\r\n    submitBtnDown() {\r\n        if (this.btnGroup.index == null) {\r\n            Helper.getInstance().showTips(\"请选择彩种\");\r\n        } else {\r\n            lottery_MsgStation.getInstance().onSendLotteryChoice(this.lotteryData[this.btnGroup.index].lotteryCode);\r\n        }\r\n    }\r\n    closeBtnDown() {\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\nclass selectBtn extends groupBtn {\r\n    nameLable0;\r\n    nameLable1;\r\n    icon;\r\n    constructor(data, node, callback, group) {\r\n        super(node, callback, group);\r\n        this.nameLable0 = cc.find('name', this.defaultNode).getComponent(cc.Label);\r\n        this.nameLable1 = cc.find('name', this.selectNode).getComponent(cc.Label);\r\n        this.icon = cc.find('icon', this.node).getComponent(cc.Sprite);\r\n        this.updateData(data);\r\n    }\r\n    updateData(data) {\r\n        this.select(false);\r\n        this.nameLable0.string = data.title;\r\n        this.nameLable1.string = data.title;\r\n        Utils.getInstance().setSprite(this.icon, data.spriteName, 'texture1');\r\n    }\r\n    clean() {\r\n        this.node.destroy();\r\n    }\r\n}\r\n\r\n"]}