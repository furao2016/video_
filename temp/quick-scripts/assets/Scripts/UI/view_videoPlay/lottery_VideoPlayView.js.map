{"version":3,"sources":["lottery_VideoPlayView.js"],"names":["cc","Class","extends","require","properties","exitBtn","Node","videoPlayBtn","videoCanvas","lottery_videoCom","inputEvents","bigCanvas","Sprite","OnInit","moduleName","on","EventType","TOUCH_END","exitBtnDown","videoPlayBtnDown","initVideo","OnShow","OnHide","OnDispose","_onMessageHandel","data","videoUrl","forEach","element","index","init","ebet","baccarat","isPlay","lottery_MsgStation","getInstance","onSendLogoutContent","onFullPlay","screenBtnDown","event","loadOver","changeTargetSprite","active","systemEvent","SystemEvent","KEY_DOWN","escEvent","exitScreen","spriteFrame","off","keyCode","KEY","escape"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASC,QAAQ,2BAAR,CADJ;AAELC,gBAAY;AACRC,iBAASL,GAAGM,IADJ;AAERC,sBAAcP,GAAGM,IAFT;AAGRE,qBAAa,CAACC,0BAAD,CAHL;AAIRC,qBAAaV,GAAGM,IAJR;AAKRK,mBAAWX,GAAGY;AALN,KAFP;AASL;AACAC,UAVK,oBAUI;AACL,aAAKC,UAAL,GAAkB,aAAlB;AACA,aAAKT,OAAL,CAAaU,EAAb,CAAgBf,GAAGM,IAAH,CAAQU,SAAR,CAAkBC,SAAlC,EAA6C,KAAKC,WAAlD,EAA+D,IAA/D;AACA,aAAKX,YAAL,CAAkBQ,EAAlB,CAAqBf,GAAGM,IAAH,CAAQU,SAAR,CAAkBC,SAAvC,EAAkD,KAAKE,gBAAvD,EAAyE,IAAzE;AACA,aAAKC,SAAL;AACH,KAfI;AAgBLC,UAhBK,oBAgBI,CAAG,CAhBP;AAiBLC,UAjBK,oBAiBI,CAAG,CAjBP;AAkBLC,aAlBK,uBAkBO,CAAG,CAlBV;AAmBLC,oBAnBK,4BAmBYC,IAnBZ,EAmBkB,CAEtB,CArBI;;AAsBL;AACAL,aAvBK,uBAuBO;AACR,YAAIM,WAAW,CAAC,mCAAD,EAAsC,qCAAtC,CAAf;AACA,aAAKlB,WAAL,CAAiBmB,OAAjB,CAAyB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AACzCD,oBAAQE,IAAR,CAAaJ,SAASG,KAAT,CAAb,EAA8BE,KAAKC,QAAnC;AACAJ,oBAAQK,MAAR,GAAiB,IAAjB;AACH,SAHD;AAIH,KA7BI;;AA8BL;AACA;AACAf,eAhCK,yBAgCS;AACVgB,qCAAmBC,WAAnB,GAAiCC,mBAAjC;AACH,KAlCI;;AAmCL;AACAjB,oBApCK,8BAoCc;AACfe,qCAAmBC,WAAnB,GAAiCE,UAAjC;AACH,KAtCI;;AAuCL;AACAC,iBAxCK,yBAwCSC,KAxCT,EAwCgBd,IAxChB,EAwCsB;AACvB,YAAI,CAAC,KAAKjB,WAAL,CAAiBiB,IAAjB,EAAuBe,QAA5B,EAAsC;AACtC,aAAKhC,WAAL,CAAiBiB,IAAjB,EAAuBgB,kBAAvB,CAA0C,KAAK9B,SAA/C;AACA,aAAKD,WAAL,CAAiBgC,MAAjB,GAA0B,IAA1B;AACA1C,WAAG2C,WAAH,CAAe5B,EAAf,CAAkBf,GAAG4C,WAAH,CAAe5B,SAAf,CAAyB6B,QAA3C,EAAqD,KAAKC,QAA1D,EAAoE,IAApE;AACH,KA7CI;;AA8CL;AACAC,cA/CK,wBA+CQ;AACT,aAAKpC,SAAL,CAAeqC,WAAf,GAA6B,IAA7B;AACA,aAAKtC,WAAL,CAAiBgC,MAAjB,GAA0B,KAA1B;AACA1C,WAAG2C,WAAH,CAAeM,GAAf,CAAmBjD,GAAG4C,WAAH,CAAe5B,SAAf,CAAyB6B,QAA5C,EAAsD,KAAKC,QAA3D,EAAqE,IAArE;AACH,KAnDI;AAoDLA,YApDK,oBAoDIP,KApDJ,EAoDW;AACZ,gBAAQA,MAAMW,OAAd;AACI,iBAAKlD,GAAGmD,GAAH,CAAOC,MAAZ;AACI,qBAAKL,UAAL;AACA;AAHR;AAKH;AA1DI,CAAT","file":"lottery_VideoPlayView.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\view_videoPlay","sourcesContent":["import lottery_MsgStation from \"../../Data/lottery_MsgStation\";\nimport lottery_videoCom from \"../videoCom/lottery_videoCom\"\ncc.Class({\n    extends: require(\"lottery_viewBaseComponent\"),\n    properties: {\n        exitBtn: cc.Node,\n        videoPlayBtn: cc.Node,\n        videoCanvas: [lottery_videoCom],\n        inputEvents: cc.Node,\n        bigCanvas: cc.Sprite\n    },\n    /*----------------------------------生命周期函数-----------------------------------------*/\n    OnInit() {\n        this.moduleName = \"videoSysPre\";\n        this.exitBtn.on(cc.Node.EventType.TOUCH_END, this.exitBtnDown, this);\n        this.videoPlayBtn.on(cc.Node.EventType.TOUCH_END, this.videoPlayBtnDown, this);\n        this.initVideo();\n    },\n    OnShow() { },\n    OnHide() { },\n    OnDispose() { },\n    _onMessageHandel(data) {\n\n    },\n    /*--------------------------------------相关设置-----------------------------------------*/\n    initVideo() {\n        let videoUrl = [\"ws://47.90.11.101:8081/lobbyB/L01\", \"ws://47.90.11.101:8081/lobbyB/L01-1\"];\n        this.videoCanvas.forEach((element, index) => {\n            element.init(videoUrl[index], ebet.baccarat);\n            element.isPlay = true;\n        });\n    },\n    /*-------------------------------------------事件-----------------------------------------*/\n    //退出\n    exitBtnDown() {\n        lottery_MsgStation.getInstance().onSendLogoutContent();\n    },\n    //全屏播放\n    videoPlayBtnDown() {\n        lottery_MsgStation.getInstance().onFullPlay();\n    },\n    //小窗口全屏播放\n    screenBtnDown(event, data) {\n        if (!this.videoCanvas[data].loadOver) return;\n        this.videoCanvas[data].changeTargetSprite(this.bigCanvas);\n        this.inputEvents.active = true;\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.escEvent, this);\n    },\n    //退出小屏的全屏播放\n    exitScreen() {\n        this.bigCanvas.spriteFrame = null;\n        this.inputEvents.active = false;\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.escEvent, this);\n    },\n    escEvent(event) {\n        switch (event.keyCode) {\n            case cc.KEY.escape:\n                this.exitScreen();\n                break;\n        }\n    }\n});"]}