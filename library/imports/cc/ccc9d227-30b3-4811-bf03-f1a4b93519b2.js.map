{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\tools/assets\\Scripts\\UI\\tools\\lottery_helper.js"],"names":["Helper","content","type","tipsLayer","showTips","addPrefabToNode","cc","find","node","getComponent","isPlay","loadingLayer","stopPlay","startPlay","prefabUrl","targetNode","director","getScene","zIndex","completeCallBack","resFun","err","prefab","lottery","AppLogMgr","log","instantiate","addChild","lottery_BaseResLoad","getInstance","LoadByKey","_instance","Res","TipsLayer","SingletonBase"],"mappings":";;;;;;;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;AACA;;;IAGqBA;;;;;;;;;;;;AASjB;;;;iCAISC,SAAmB;AAAA;;AAAA,gBAAVC,IAAU,uEAAH,CAAG;;AACxB;AACA,gBAAI,KAAKC,SAAT,EAAoB;AAChB,qBAAKA,SAAL,CAAeC,QAAf,CAAwBH,OAAxB,EAAiCC,IAAjC;AACH,aAFD,MAEO;AACH,qBAAKG,eAAL,CAAqB,kBAArB,EAAyCC,GAAGC,IAAH,CAAQ,QAAR,CAAzC,EAA4D,IAA5D,EAAkE,UAACC,IAAD,EAAU;AACxE,2BAAKL,SAAL,GAAiBK,KAAKC,YAAL,CAAkB,mBAAlB,CAAjB;AACA,2BAAKN,SAAL,CAAeC,QAAf,CAAwBH,OAAxB,EAAiCC,IAAjC;AACH,iBAHD;AAIH;AACJ;AACD;;;;;;;sCAI2B;AAAA;;AAAA,gBAAfQ,MAAe,uEAAN,IAAM;;AACvB,gBAAI,CAACA,MAAL,EAAa;AACT,qBAAKC,YAAL,IAAqB,KAAKA,YAAL,CAAkBC,QAAlB,EAArB;AACH,aAFD,MAGK,IAAI,KAAKD,YAAT,EACD,KAAKA,YAAL,CAAkBE,SAAlB,GADC,KAEA;AACD,qBAAKR,eAAL,CAAqB,qBAArB,EAA4CC,GAAGC,IAAH,CAAQ,QAAR,CAA5C,EAA+D,IAA/D,EAAqE,UAACC,IAAD,EAAU;AAC3E,2BAAKG,YAAL,GAAoBH,KAAKC,YAAL,CAAkB,oBAAlB,CAApB;AACA,2BAAKE,YAAL,CAAkBE,SAAlB;AACH,iBAHD;AAIH;AACJ;AACD;;;;;;;;;;wCAOgBC,WAA8E;AAAA,gBAAnEC,UAAmE,uEAAtDT,GAAGU,QAAH,CAAYC,QAAZ,EAAsD;AAAA,gBAA9BC,MAA8B,uEAArB,CAAqB;AAAA,gBAAlBC,gBAAkB;;;AAE1F,gBAAIC,SAAS,SAATA,MAAS,CAAUC,GAAV,EAAeC,MAAf,EAAuB;AAChC,oBAAID,GAAJ,EAAS;AACLf,uBAAGiB,OAAH,CAAWC,SAAX,CAAqBC,GAArB,CAAyB,+BAA+BX,SAA/B,GAA2C,MAApE;AACA;AACH;;AAED,oBAAIN,OAAOF,GAAGoB,WAAH,CAAeJ,MAAf,CAAX;AACAP,2BAAWY,QAAX,CAAoBnB,IAApB,EAA0BU,MAA1B;AACA,oBAAIC,gBAAJ,EAAsB;AAClBA,qCAAiBX,IAAjB;AACH;AACJ,aAXD;;AAaAoB,0CAAoBC,WAApB,GAAkCC,SAAlC,CAA4ChB,SAA5C,EAAuDA,SAAvD,EAAkEM,MAAlE;AACH;;;uCA7DqB;AAClB,gBAAIW,YAAY,IAAI/B,MAAJ,EAAhB;AACA+B,sBAAUC,GAAV,GAAgB,EAAhB;AACAD,sBAAUE,SAAV,GAAsB,IAAtB,CAHkB,CAGU;AAC5B,mBAAOF,SAAP;AACH;;;;EAR+BG;;kBAAflC","file":"lottery_helper.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\tools","sourcesContent":["import SingletonBase from '../../Singleton/SingletonBase';\r\nimport lottery_BaseResLoad from '../../Core/ResHandle/lottery_BaseResLoad'\r\n/**\r\n * 项目的辅助脚本，理应只提供辅助类的函数\r\n */\r\nexport default class Helper extends SingletonBase {\r\n    tipsLayer;\r\n    loadingLayer;\r\n    static _onNewObject() {\r\n        let _instance = new Helper();\r\n        _instance.Res = {};\r\n        _instance.TipsLayer = null; // 缓存tipslayer\r\n        return _instance;\r\n    }\r\n    /**\r\n     *  浮动提示\r\n     * @param content\r\n     */\r\n    showTips(content, type = 1) {\r\n        // content = cc.lottery.LanguageManager.GetLanguageText(content);\r\n        if (this.tipsLayer) {\r\n            this.tipsLayer.showTips(content, type);\r\n        } else {\r\n            this.addPrefabToNode(\"Prefab/tipsLayer\", cc.find(\"Canvas\"), 1000, (node) => {\r\n                this.tipsLayer = node.getComponent(\"lottery_tipsLayer\");\r\n                this.tipsLayer.showTips(content, type);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * 显示加载动画\r\n     * @param {*} isClose \r\n     */\r\n    showLoading(isPlay = true) {\r\n        if (!isPlay) {\r\n            this.loadingLayer && this.loadingLayer.stopPlay();\r\n        }\r\n        else if (this.loadingLayer)\r\n            this.loadingLayer.startPlay();\r\n        else {\r\n            this.addPrefabToNode(\"Prefab/loadingLayer\", cc.find(\"Canvas\"), 1000, (node) => {\r\n                this.loadingLayer = node.getComponent('lottery_loadingTip');\r\n                this.loadingLayer.startPlay();\r\n            })\r\n        }\r\n    }\r\n    /**\r\n    * 挂在预制资源到指定节点\r\n    * @param prefabUrl\r\n    * @param targetNode  挂在到的节点\r\n    * @param zIndex      层级\r\n    * @param completeCallBack  成功回掉\r\n    */\r\n    addPrefabToNode(prefabUrl, targetNode = cc.director.getScene(), zIndex = 0, completeCallBack) {\r\n\r\n        let resFun = function (err, prefab) {\r\n            if (err) {\r\n                cc.lottery.AppLogMgr.log(\"addPrefabToNode func load \" + prefabUrl + \" err\");\r\n                return;\r\n            }\r\n\r\n            let node = cc.instantiate(prefab);\r\n            targetNode.addChild(node, zIndex);\r\n            if (completeCallBack) {\r\n                completeCallBack(node);\r\n            }\r\n        };\r\n\r\n        lottery_BaseResLoad.getInstance().LoadByKey(prefabUrl, prefabUrl, resFun);\r\n    }\r\n}"]}