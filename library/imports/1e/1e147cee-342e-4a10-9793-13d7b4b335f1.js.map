{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\view_videoPlay/assets\\Scripts\\UI\\view_videoPlay\\lottery_VideoPlayView.js"],"names":["cc","Class","extends","require","properties","exitBtn","Node","videoPlayBtn","videoCanvas","lottery_videoCom","inputEvents","bigCanvas","Sprite","OnInit","moduleName","on","EventType","TOUCH_END","exitBtnDown","videoPlayBtnDown","initVideo","OnShow","OnHide","OnDispose","_onMessageHandel","data","videoUrl","forEach","element","index","init","ebet","baccarat","isPlay","lottery_MsgStation","getInstance","onSendLogoutContent","onFullPlay","screenBtnDown","event","loadOver","changeTargetSprite","active","systemEvent","SystemEvent","KEY_DOWN","escEvent","exitScreen","spriteFrame","off","keyCode","KEY","escape"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASC,QAAQ,2BAAR,CADJ;AAELC,gBAAY;AACRC,iBAASL,GAAGM,IADJ;AAERC,sBAAcP,GAAGM,IAFT;AAGRE,qBAAa,CAACC,0BAAD,CAHL;AAIRC,qBAAaV,GAAGM,IAJR;AAKRK,mBAAWX,GAAGY;AALN,KAFP;AASL;AACAC,UAVK,oBAUI;AACL,aAAKC,UAAL,GAAkB,aAAlB;AACA,aAAKT,OAAL,CAAaU,EAAb,CAAgBf,GAAGM,IAAH,CAAQU,SAAR,CAAkBC,SAAlC,EAA6C,KAAKC,WAAlD,EAA+D,IAA/D;AACA,aAAKX,YAAL,CAAkBQ,EAAlB,CAAqBf,GAAGM,IAAH,CAAQU,SAAR,CAAkBC,SAAvC,EAAkD,KAAKE,gBAAvD,EAAyE,IAAzE;AACA,aAAKC,SAAL;AACH,KAfI;AAgBLC,UAhBK,oBAgBI,CAAG,CAhBP;AAiBLC,UAjBK,oBAiBI,CAAG,CAjBP;AAkBLC,aAlBK,uBAkBO,CAAG,CAlBV;AAmBLC,oBAnBK,4BAmBYC,IAnBZ,EAmBkB,CAEtB,CArBI;;AAsBL;AACAL,aAvBK,uBAuBO;AACR,YAAIM,WAAW,CAAC,mCAAD,EAAsC,qCAAtC,CAAf;AACA,aAAKlB,WAAL,CAAiBmB,OAAjB,CAAyB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AACzCD,oBAAQE,IAAR,CAAaJ,SAASG,KAAT,CAAb,EAA8BE,KAAKC,QAAnC;AACAJ,oBAAQK,MAAR,GAAiB,IAAjB;AACH,SAHD;AAIH,KA7BI;;AA8BL;AACA;AACAf,eAhCK,yBAgCS;AACVgB,qCAAmBC,WAAnB,GAAiCC,mBAAjC;AACH,KAlCI;;AAmCL;AACAjB,oBApCK,8BAoCc;AACfe,qCAAmBC,WAAnB,GAAiCE,UAAjC;AACH,KAtCI;;AAuCL;AACAC,iBAxCK,yBAwCSC,KAxCT,EAwCgBd,IAxChB,EAwCsB;AACvB,YAAI,CAAC,KAAKjB,WAAL,CAAiBiB,IAAjB,EAAuBe,QAA5B,EAAsC;AACtC,aAAKhC,WAAL,CAAiBiB,IAAjB,EAAuBgB,kBAAvB,CAA0C,KAAK9B,SAA/C;AACA,aAAKD,WAAL,CAAiBgC,MAAjB,GAA0B,IAA1B;AACA1C,WAAG2C,WAAH,CAAe5B,EAAf,CAAkBf,GAAG4C,WAAH,CAAe5B,SAAf,CAAyB6B,QAA3C,EAAqD,KAAKC,QAA1D,EAAoE,IAApE;AACH,KA7CI;;AA8CL;AACAC,cA/CK,wBA+CQ;AACT,aAAKpC,SAAL,CAAeqC,WAAf,GAA6B,IAA7B;AACA,aAAKtC,WAAL,CAAiBgC,MAAjB,GAA0B,KAA1B;AACA1C,WAAG2C,WAAH,CAAeM,GAAf,CAAmBjD,GAAG4C,WAAH,CAAe5B,SAAf,CAAyB6B,QAA5C,EAAsD,KAAKC,QAA3D,EAAqE,IAArE;AACH,KAnDI;AAoDLA,YApDK,oBAoDIP,KApDJ,EAoDW;AACZ,gBAAQA,MAAMW,OAAd;AACI,iBAAKlD,GAAGmD,GAAH,CAAOC,MAAZ;AACI,qBAAKL,UAAL;AACA;AAHR;AAKH;AA1DI,CAAT","file":"lottery_VideoPlayView.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\view_videoPlay","sourcesContent":["import lottery_MsgStation from \"../../Data/lottery_MsgStation\";\r\nimport lottery_videoCom from \"../videoCom/lottery_videoCom\"\r\ncc.Class({\r\n    extends: require(\"lottery_viewBaseComponent\"),\r\n    properties: {\r\n        exitBtn: cc.Node,\r\n        videoPlayBtn: cc.Node,\r\n        videoCanvas: [lottery_videoCom],\r\n        inputEvents: cc.Node,\r\n        bigCanvas: cc.Sprite\r\n    },\r\n    /*----------------------------------生命周期函数-----------------------------------------*/\r\n    OnInit() {\r\n        this.moduleName = \"videoSysPre\";\r\n        this.exitBtn.on(cc.Node.EventType.TOUCH_END, this.exitBtnDown, this);\r\n        this.videoPlayBtn.on(cc.Node.EventType.TOUCH_END, this.videoPlayBtnDown, this);\r\n        this.initVideo();\r\n    },\r\n    OnShow() { },\r\n    OnHide() { },\r\n    OnDispose() { },\r\n    _onMessageHandel(data) {\r\n\r\n    },\r\n    /*--------------------------------------相关设置-----------------------------------------*/\r\n    initVideo() {\r\n        let videoUrl = [\"ws://47.90.11.101:8081/lobbyB/L01\", \"ws://47.90.11.101:8081/lobbyB/L01-1\"];\r\n        this.videoCanvas.forEach((element, index) => {\r\n            element.init(videoUrl[index], ebet.baccarat);\r\n            element.isPlay = true;\r\n        });\r\n    },\r\n    /*-------------------------------------------事件-----------------------------------------*/\r\n    //退出\r\n    exitBtnDown() {\r\n        lottery_MsgStation.getInstance().onSendLogoutContent();\r\n    },\r\n    //全屏播放\r\n    videoPlayBtnDown() {\r\n        lottery_MsgStation.getInstance().onFullPlay();\r\n    },\r\n    //小窗口全屏播放\r\n    screenBtnDown(event, data) {\r\n        if (!this.videoCanvas[data].loadOver) return;\r\n        this.videoCanvas[data].changeTargetSprite(this.bigCanvas);\r\n        this.inputEvents.active = true;\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.escEvent, this);\r\n    },\r\n    //退出小屏的全屏播放\r\n    exitScreen() {\r\n        this.bigCanvas.spriteFrame = null;\r\n        this.inputEvents.active = false;\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.escEvent, this);\r\n    },\r\n    escEvent(event) {\r\n        switch (event.keyCode) {\r\n            case cc.KEY.escape:\r\n                this.exitScreen();\r\n                break;\r\n        }\r\n    }\r\n});"]}