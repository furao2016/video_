{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\view_videoSys/assets\\Scripts\\UI\\view_videoSys\\videoMsgFactory.js"],"names":["videoStageTime","videosMsgFatory","stanardFlow","_msgList","period","anlyArr","arr","arguments","one","push","videosMsg","data","firstToDay","commonToDay","endToDay","closePanToDay","time","type","console","log","_root"],"mappings":";;;;;;;;;;;;;;AAAA,IAAMA,iBAAiB,CAAC,EAAD,EAAK,EAAL,GAAW,CAAX,EAAc,CAAd,EAAiB,EAAjB,CAAvB,EAA6C;AAC7C;;IACqBC;;;;aASjBC,cAAc,CAAC,CAAC,CAAD,CAAD,EAAM,CAAC,CAAD,CAAN,EAAW,CAAC,CAAD,CAAX,EAAgB,CAAC,CAAD,CAAhB,EAAqB,CAAC,CAAD,CAArB,EAA0B,CAAC,CAAD,EAAI,CAAJ,CAA1B;aAEdC,WAAW;aAEXC,SAAS;;;;;AAAG;;AAEZ;qCACa;AACT,iBAAKD,QAAL,GAAgB,KAAKE,OAAL,CAAa,CAAC,CAAC,CAAD,EAAI,KAAJ,CAAD,CAAb,CAAhB;AACH;AACD;;;;mCACW;AACP,iBAAKF,QAAL,GAAgB,EAAhB;AACH;AACD;;;;sCACc;AACV,iBAAKA,QAAL,GAAgB,KAAKE,OAAL,CAAa,KAAKH,WAAlB,CAAhB;AACH;AACD;;;;wCACgB;AACZ,iBAAKC,QAAL,GAAgB,KAAKE,OAAL,CAAa,CAAC,CAAC,CAAD,EAAI,IAAJ,CAAD,CAAb,CAAhB;AACH;AACD;;;;;AA+BA;kCACU;AACN,gBAAIC,MAAM,EAAV;AADM;AAAA;AAAA;;AAAA;AAEN,qCAAgBC,UAAU,CAAV,CAAhB,8HAA8B;AAAA,wBAArBC,GAAqB;;AAC1BF,wBAAIG,IAAJ,CAAS,IAAIC,SAAJ,CAAcF,IAAI,CAAJ,CAAd,EAAsBA,IAAI,CAAJ,CAAtB,CAAT;AACH;AAJK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKN,mBAAOF,GAAP;AACH;AACD;;;;qCACaK,MAAM;AACf,iBAAKP,MAAL,GAAcO,IAAd;AACH;;;4BAzCa;AACV,oBAAQ,KAAKP,MAAb;AACI,qBAAK,CAAC,CAAN;AACI,yBAAKQ,UAAL;AACA;AACJ,qBAAK,CAAL;AACI,yBAAKC,WAAL;AACA;AACJ,qBAAK,CAAL;AACI,yBAAKC,QAAL;AACA;AACJ,qBAAK,CAAL;AACI,yBAAKC,aAAL;AACA;AACJ;AACI,yBAAKZ,QAAL,GAAgB,EAAhB;AACA;AAfR;AAiBA,mBAAO,KAAKA,QAAZ;AACH;AACD;;;;0BACkBa,MAAM;AAAA;AAAA;AAAA;;AAAA;AACpB,sCAAgB,KAAKb,QAArB,mIAA+B;AAAA,wBAAtBK,GAAsB;;AAC3B,wBAAIA,IAAIS,IAAJ,IAAY,CAAhB,EAAmB;AACfT,4BAAIG,IAAJ,GAAWK,IAAX;AACA;AACH;AACJ;AANmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOpBE,oBAAQC,GAAR,CAAY,kBAAZ;AACH;;;8BA3DY;AACT,gBAAI,CAAC,KAAKC,KAAV,EACI,KAAKA,KAAL,GAAa,IAAInB,eAAJ,EAAb;AACJ,mBAAO,KAAKmB,KAAZ;AACH;;AAED;;AAEA;;AAEA;;;;;;;AAgEJ;;;kBA5EqBnB;;IA6EfS,YAEG;AACL,mBAAYO,IAAZ,EAAkBN,IAAlB,EAAwB;AAAA;;AACpB,SAAKM,IAAL,GAAYA,IAAZ;AACA,SAAKN,IAAL,GAAYA,IAAZ;AACH,EALI","file":"videoMsgFactory.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\view_videoSys","sourcesContent":["const videoStageTime = [16, 10, , 8, 7, 10]; //16+10+8+7+10 = 51秒\r\n//消息工厂,想把监听也放在这里,不知道对不对\r\nexport default class videosMsgFatory {\r\n    static _root;\r\n    static ins() {\r\n        if (!this._root)\r\n            this._root = new videosMsgFatory();\r\n        return this._root;\r\n    }\r\n\r\n    //标准流程\r\n    stanardFlow = [[1], [2], [3], [4], [5], [6, 7]];\r\n    //数组队列\r\n    _msgList = [];\r\n    //当前期类型\r\n    period = 2; // -1第一期 0 常规期 1 最后一期 ,2封盘\r\n\r\n    /**第一期开盘特殊处理 */\r\n    firstToDay() {\r\n        this._msgList = this.anlyArr([[1, 10000]]);\r\n    }\r\n    /**最后一期开盘特殊处理*/\r\n    endToDay() {\r\n        this._msgList = [];\r\n    }\r\n    /**常规期处理*/\r\n    commonToDay() {\r\n        this._msgList = this.anlyArr(this.stanardFlow);\r\n    }\r\n    /**封盘*/\r\n    closePanToDay() {\r\n        this._msgList = this.anlyArr([[8, 3000]]);\r\n    }\r\n    /**获取消息队列*/\r\n    get msgList() {\r\n        switch (this.period) {\r\n            case -1:\r\n                this.firstToDay();\r\n                break;\r\n            case 0:\r\n                this.commonToDay();\r\n                break;\r\n            case 1:\r\n                this.endToDay();\r\n                break;\r\n            case 2:\r\n                this.closePanToDay();\r\n                break;\r\n            default:\r\n                this._msgList = [];\r\n                break;\r\n        }\r\n        return this._msgList;\r\n    }\r\n    /**设置倒计时*/\r\n    set countDownTime(time) {\r\n        for (let one of this._msgList) {\r\n            if (one.type == 2) {\r\n                one.data = time;\r\n                return;\r\n            }\r\n        }\r\n        console.log(\"没有倒计时序列？？？程序已经错了\");\r\n    }\r\n    /**分析数组 */\r\n    anlyArr() {\r\n        let arr = [];\r\n        for (let one of arguments[0]) {\r\n            arr.push(new videosMsg(one[0], one[1]));\r\n        }\r\n        return arr;\r\n    }\r\n    /**切换期数*/\r\n    changePeriod(data) {\r\n        this.period = data;\r\n    }\r\n}\r\n\r\n//单个视频消息\r\nclass videosMsg {\r\n    type;//类型\r\n    data;//数据\r\n    constructor(type, data) {\r\n        this.type = type;\r\n        this.data = data;\r\n    }\r\n}"]}