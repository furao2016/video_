{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\view_login/assets\\Scripts\\UI\\view_login\\lottery_Login.js"],"names":["cc","_decorator","ccclass","property","lotteryLogin","Node","btnGruop","arr","index","i","length","content","children","push","loginCotentBtn","sumbitBtn","on","EventType","TOUCH_END","submitInfor","systemEvent","lottery_EventDefine","loginView","keyboradNum","setContent","off","user","editbox","string","password","Helper","getInstance","showTips","lottery_MsgStation","onSendEnterLogin","event","btn","value","getUserData","delBtnNode","active","str","substr","Component","node","downCallback","group","touchEnd","find","getComponent","EditBox","delBtnDown","editBoxChange","editBoxBegin","isSelect","groupBtn"],"mappings":"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","file":"lottery_Login.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\view_login","sourcesContent":["import { groupBtn } from \"../tools/commonBtn\";\r\nimport { lottery_EventDefine } from \"../../Data/lottery_EventDefine\";\r\nimport lottery_MsgStation from \"../../Data/lottery_MsgStation\";\r\nimport Helper from \"../tools/lottery_helper\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class lotteryLogin extends cc.Component {\r\n    //BtnArr\r\n    btnGruop = {\r\n        arr: [],\r\n        index: null\r\n    }\r\n\r\n    @property(cc.Node)\r\n    content = null;\r\n\r\n    @property(cc.Node)\r\n    sumbitBtn = null;\r\n\r\n    onLoad() {\r\n        for (let i = 0, length = this.content.children.length; i < length; i++) {\r\n            this.btnGruop.arr.push(new loginCotentBtn(this.content.children[i], () => { }, this.btnGruop));\r\n        }\r\n        this.sumbitBtn.on(cc.Node.EventType.TOUCH_END, this.submitInfor, this);\r\n    }\r\n    onEnable() {\r\n        cc.systemEvent.on(lottery_EventDefine.loginView.keyboradNum, this.setContent, this);\r\n    }\r\n    onDisable() {\r\n        cc.systemEvent.off(lottery_EventDefine.loginView.keyboradNum, this.setContent, this);\r\n    }\r\n\r\n    /**\r\n     * 提交按钮\r\n     */\r\n    submitInfor() {\r\n        let user = this.btnGruop.arr[0].editbox.string;\r\n        let password = this.btnGruop.arr[1].editbox.string;\r\n        if (user == '')\r\n            Helper.getInstance().showTips(\"用户名不能为空\");\r\n        else if (password == '')\r\n            Helper.getInstance().showTips(\"密码不能为空\");\r\n        else\r\n            lottery_MsgStation.getInstance().onSendEnterLogin(user, password);\r\n    }\r\n\r\n    /**\r\n     * 通过虚拟键盘输入文本框\r\n     * @param {*} event \r\n     */\r\n    setContent(event) {\r\n        if (this.btnGruop.index == null) return;\r\n        let btn = this.btnGruop.arr[this.btnGruop.index];\r\n        let value = event.getUserData();\r\n        if (value != -1) {\r\n            btn.editbox.string += value;\r\n            btn.delBtnNode.active = true;\r\n        }\r\n        else {\r\n            let str = btn.editbox.string;\r\n            str = str.substr(0, str.length - 1);\r\n            btn.editbox.string = str;\r\n            btn.delBtnNode.active = str.length ? true : false\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 需要绑定输入框\r\n */\r\nclass loginCotentBtn extends groupBtn {\r\n    delBtnNode;\r\n    editbox;\r\n    constructor(node, downCallback, group) {\r\n        super(node, downCallback, group);\r\n        this.node.off(cc.Node.EventType.TOUCH_END, this.touchEnd, this);//嗯 这里的写法有点奇怪\r\n        this.editbox = cc.find('editbox', this.node).getComponent(cc.EditBox);\r\n        this.delBtnNode = cc.find('deleteBtn', this.node);\r\n        this.delBtnNode.on(cc.Node.EventType.TOUCH_END, this.delBtnDown, this);\r\n        this.editbox.node.on('text-changed', this.editBoxChange, this);\r\n        this.editbox.node.on('editing-did-began', this.editBoxBegin, this);\r\n    }\r\n    editBoxChange() {\r\n        this.delBtnNode.active = this.editbox.string == \"\" ? false : true;\r\n    }\r\n    editBoxBegin() {\r\n        if (!this.isSelect) this.touchEnd();\r\n        this.delBtnNode.active = this.editbox.string == \"\" ? false : true;\r\n    }\r\n    delBtnDown() {\r\n        this.editbox.string = '';\r\n        this.delBtnNode.active = false;\r\n        this.touchEnd();\r\n    }\r\n}"]}