{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\Core\\Config/assets\\Scripts\\Core\\Config\\ConfigReader.js"],"names":["ConfigReader","path","func","col","callback","err","res","ReadCsv","cc","error","lottery_BaseResLoad","getInstance","LoadByKey","bind","text","CsvTableData","Create","SingletonBase"],"mappings":";;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;;;AACA;;;IAGqBA;;;AACjB,4BAAc;AAAA;;AAAA;AAEb;;;;mCAMUC,MAAMC,MAAe;AAAA,gBAATC,GAAS,uEAAH,CAAG;;AAC5B,gBAAIC,WAAW,SAAXA,QAAW,CAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC/B,oBAAI,CAACD,GAAL,EACIH,KAAK,KAAKK,OAAL,CAAaD,GAAb,EAAkBH,GAAlB,CAAL,EADJ,KAGIK,GAAGC,KAAH,CAASJ,GAAT;AACP,aALD;AAMAK,0CAAoBC,WAApB,GAAkCC,SAAlC,CAA4CX,IAA5C,EAAkDA,IAAlD,EAAwDG,SAASS,IAAT,CAAc,IAAd,CAAxD;AACH;AACD;;;;;;gCAGQC,MAAMX,KAAK;AACf,mBAAOY,uBAAaC,MAAb,CAAoBF,IAApB,EAA0BX,GAA1B,CAAP;AACH;;;uCAlBqB;AAClB,mBAAO,IAAIH,YAAJ,EAAP;AACH;;;;EAPqCiB;;kBAArBjB","file":"ConfigReader.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\Core\\Config","sourcesContent":["import CsvTableData from \"CsvTableData\"\r\nimport lottery_BaseResLoad from 'lottery_BaseResLoad'\r\nimport SingletonBase from 'SingletonBase'\r\n/*\r\n配置表读取类\r\n*/\r\nexport default class ConfigReader extends SingletonBase {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    static _onNewObject() {\r\n        return new ConfigReader()\r\n    }\r\n\r\n    ReadCsvRes(path, func, col = 0) {\r\n        var callback = function (err, res) {\r\n            if (!err)\r\n                func(this.ReadCsv(res, col));\r\n            else\r\n                cc.error(err);\r\n        }\r\n        lottery_BaseResLoad.getInstance().LoadByKey(path, path, callback.bind(this));\r\n    }\r\n    /**\r\n    将字符串数据按照csv格式转换成CsvTableData对象\r\n    */\r\n    ReadCsv(text, col) {\r\n        return CsvTableData.Create(text, col);\r\n    }\r\n}"]}