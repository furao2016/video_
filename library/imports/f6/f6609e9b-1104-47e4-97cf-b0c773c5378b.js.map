{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\view_videoSys/assets\\Scripts\\UI\\view_videoSys\\lottery_VideoSysView.js"],"names":["cc","Class","extends","require","properties","tips","Node","bg","backBtn","videoFlow","lottery_videoFlow","OnInit","moduleName","OnShow","lottery_MsgStation","getInstance","onSendLinkHeGuan","onEnable","on","EventType","TOUCH_END","backBtnDown","systemEvent","SystemEvent","KEY_DOWN","escEvent","onDisable","off","OnHide","OnDispose","_onMessageHandel","data","type","active","setTimeout","lottery_VideoSysCtr","OnMessageHandle","startPlay","console","log","onBackToSys","event","keyCode","KEY","escape","stopPlay"],"mappings":"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","file":"lottery_VideoSysView.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\view_videoSys","sourcesContent":["import lottery_MsgStation from '../../Data/lottery_MsgStation'\nimport lottery_videoFlow from './lottery_videoFlow';\nimport lottery_VideoSysCtr from './lottery_VideoSysCtr';\ncc.Class({\n    extends: require(\"lottery_viewBaseComponent\"),\n    properties: {\n        tips: [cc.Node],\n        bg: cc.Node,\n        backBtn: cc.Node,//返回按钮\n        videoFlow: lottery_videoFlow\n    },\n    /*------------------子类重写函数---------------*/\n    OnInit() {\n        this.moduleName = \"videoSysPre\";\n    },\n    OnShow() {\n        lottery_MsgStation.getInstance().onSendLinkHeGuan();\n\n    },\n    onEnable() {\n        this.backBtn.on(cc.Node.EventType.TOUCH_END, this.backBtnDown, this);\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.escEvent, this);\n    },\n    onDisable() {\n        this.backBtn.off(cc.Node.EventType.TOUCH_END, this.backBtnDown, this);\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.escEvent, this);\n    },\n    OnHide() {\n    },\n    OnDispose() { },\n    _onMessageHandel(data) {\n        switch (data.type) {\n            case 1: //链接荷官端提示\n                this.tips[0].active = true;\n                this.tips[1].active = false;\n                this.tips[2].active = false;\n                this.backBtn.active = true;\n                break;\n            case 2: //链接成功提示\n                this.tips[0].active = false;\n                this.tips[1].active = true;\n                this.tips[2].active = false;\n                setTimeout(() => {\n                    lottery_VideoSysCtr.getInstance().OnMessageHandle({ type: 4 });\n                }, 500);\n                break;\n            case 3://连接失败\n                this.tips[0].active = false;\n                this.tips[1].active = false;\n                this.tips[2].active = true;\n                break;\n            case 4://开启视频流程\n                this.tips[0].active = false;\n                this.tips[1].active = false;\n                this.tips[2].active = false;\n                this.bg.active = false;\n                this.backBtn.active = false;\n                this.videoFlow.startPlay();\n                break;\n            default:\n                console.log(data);\n                break;\n        }\n    },\n    /**---------------------------------------------事件----------------------------------------------------- */\n    backBtnDown() {\n        lottery_MsgStation.getInstance().onBackToSys();\n    },\n    escEvent(event) {\n        switch (event.keyCode) {\n            case cc.KEY.escape:\n                console.log(\"退出事件\");\n                this.videoFlow.stopPlay();\n                this.backBtnDown();\n                break;\n        }\n    }\n});"]}