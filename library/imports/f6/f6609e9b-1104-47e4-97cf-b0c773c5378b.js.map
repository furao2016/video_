{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\view_videoSys/assets\\Scripts\\UI\\view_videoSys\\lottery_VideoSysView.js"],"names":["cc","Class","extends","require","properties","tips","Node","bg","backBtn","videoFlow","lottery_videoFlow","OnInit","moduleName","OnShow","lottery_MsgStation","getInstance","onSendLinkHeGuan","onEnable","on","EventType","TOUCH_END","backBtnDown","systemEvent","SystemEvent","KEY_DOWN","escEvent","onDisable","off","OnHide","OnDispose","_onMessageHandel","data","type","active","setTimeout","lottery_VideoSysCtr","OnMessageHandle","startPlay","console","log","onBackToSys","event","keyCode","KEY","escape","stopPlay"],"mappings":"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","file":"lottery_VideoSysView.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\UI\\view_videoSys","sourcesContent":["import lottery_MsgStation from '../../Data/lottery_MsgStation'\r\nimport lottery_videoFlow from './lottery_videoFlow';\r\nimport lottery_VideoSysCtr from './lottery_VideoSysCtr';\r\ncc.Class({\r\n    extends: require(\"lottery_viewBaseComponent\"),\r\n    properties: {\r\n        tips: [cc.Node],\r\n        bg: cc.Node,\r\n        backBtn: cc.Node,//返回按钮\r\n        videoFlow: lottery_videoFlow\r\n    },\r\n    /*------------------子类重写函数---------------*/\r\n    OnInit() {\r\n        this.moduleName = \"videoSysPre\";\r\n    },\r\n    OnShow() {\r\n        lottery_MsgStation.getInstance().onSendLinkHeGuan();\r\n\r\n    },\r\n    onEnable() {\r\n        this.backBtn.on(cc.Node.EventType.TOUCH_END, this.backBtnDown, this);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.escEvent, this);\r\n    },\r\n    onDisable() {\r\n        this.backBtn.off(cc.Node.EventType.TOUCH_END, this.backBtnDown, this);\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.escEvent, this);\r\n    },\r\n    OnHide() {\r\n    },\r\n    OnDispose() { },\r\n    _onMessageHandel(data) {\r\n        switch (data.type) {\r\n            case 1: //链接荷官端提示\r\n                this.tips[0].active = true;\r\n                this.tips[1].active = false;\r\n                this.tips[2].active = false;\r\n                this.backBtn.active = true;\r\n                break;\r\n            case 2: //链接成功提示\r\n                this.tips[0].active = false;\r\n                this.tips[1].active = true;\r\n                this.tips[2].active = false;\r\n                setTimeout(() => {\r\n                    lottery_VideoSysCtr.getInstance().OnMessageHandle({ type: 4 });\r\n                }, 500);\r\n                break;\r\n            case 3://连接失败\r\n                this.tips[0].active = false;\r\n                this.tips[1].active = false;\r\n                this.tips[2].active = true;\r\n                break;\r\n            case 4://开启视频流程\r\n                this.tips[0].active = false;\r\n                this.tips[1].active = false;\r\n                this.tips[2].active = false;\r\n                this.bg.active = false;\r\n                this.backBtn.active = false;\r\n                this.videoFlow.startPlay();\r\n                break;\r\n            default:\r\n                console.log(data);\r\n                break;\r\n        }\r\n    },\r\n    /**---------------------------------------------事件----------------------------------------------------- */\r\n    backBtnDown() {\r\n        lottery_MsgStation.getInstance().onBackToSys();\r\n    },\r\n    escEvent(event) {\r\n        switch (event.keyCode) {\r\n            case cc.KEY.escape:\r\n                console.log(\"退出事件\");\r\n                this.videoFlow.stopPlay();\r\n                this.backBtnDown();\r\n                break;\r\n        }\r\n    }\r\n});"]}