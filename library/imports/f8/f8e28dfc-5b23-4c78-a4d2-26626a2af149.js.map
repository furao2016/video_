{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Scripts\\LanguageTool/assets\\Scripts\\LanguageTool\\lottery_LanguageTool.js"],"names":["cc","Class","extends","Component","properties","languageID","default","tooltip","languageManager","visible","curLanguageEnum","changeLanguageEnum","args","onLoad","lottery_LanguageManager","getInstance","Register","node","uuid","changeLanguage","onEnable","onDestroy","UnRegister","lang","active","UpdateText","SetLanguageID","id","SetArgs","arguments"],"mappings":";;;;;;AAIA;;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAY;AACRC,qBAAS,EADD;AAERC,qBAAS;AAFD,SADJ;AAKRC,yBAAiB;AACbF,qBAAS,IADI;AAEbG,qBAAS;AAFI,SALT;AASRC,yBAAiB;AACbJ,qBAAS,CADI;AAEbG,qBAAS;AAFI,SATT;AAaRE,4BAAoB;AAChBL,qBAAS,CADO;AAEhBG,qBAAS;AAFO,SAbZ;AAiBRG,cAAM;AACFN,qBAAS,EADP;AAEFG,qBAAS;AAFP;AAjBE,KAHP;AAyBLI,UAzBK,oBAyBI;AACL,aAAKL,eAAL,GAAuBM,kCAAwBC,WAAxB,EAAvB;AACA,aAAKP,eAAL,CAAqBQ,QAArB,CAA8B,KAAKC,IAAL,CAAUC,IAAxC,EAA8C,KAAKC,cAAnD,EAAmE,IAAnE;AACH,KA5BI;AA6BLC,YA7BK,sBA6BM;AACP,YAAI,KAAKV,eAAL,KAAyB,KAAKC,kBAAlC,EAAsD;AAClD,iBAAKQ,cAAL,CAAoB,KAAKR,kBAAzB;AACH;AACJ,KAjCI;AAkCLU,aAlCK,uBAkCO;AACR,aAAKb,eAAL,CAAqBc,UAArB,CAAgC,KAAKL,IAAL,CAAUC,IAA1C;AACH,KApCI;AAqCLC,kBArCK,0BAqCUI,IArCV,EAqCgB;AACjB,YAAI,CAAC,KAAKN,IAAL,CAAUO,MAAf,EAAuB;AACnB,iBAAKb,kBAAL,GAA0BY,IAA1B;AACA;AACH;AACD,aAAKb,eAAL,GAAuB,KAAKC,kBAA5B;AACA,YAAI,KAAKN,UAAT,EACI,KAAKoB,UAAL;AACP,KA7CI;;AA8CL;AACAA,cA/CK,wBA+CQ,CAEZ,CAjDI;;AAkDL;AACAC,iBAnDK,yBAmDSC,EAnDT,EAmDa;AACd,aAAKtB,UAAL,GAAkBsB,EAAlB;AACA,YAAI,KAAKtB,UAAT,EACI,KAAKoB,UAAL;AACP,KAvDI;;AAwDL;AACAG,WAzDK,qBAyDK;AACN,aAAKhB,IAAL,GAAYiB,SAAZ;AACA,YAAI,KAAKxB,UAAT,EACI,KAAKoB,UAAL;AACP;AA7DI,CAAT,GANA","file":"lottery_LanguageTool.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\LanguageTool","sourcesContent":["/**\r\n * 多语言脚本基类，主要处理逻辑包括 事件的监听与反监听，文本刷新逻辑\r\n * 如果在关闭状态下 只记录修改状态 不刷新文本，打开后对比改变值与显示值，不相同就刷新\r\n */\r\nimport lottery_LanguageManager from \"lottery_LanguageManager\";\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        languageID: {\r\n            default: \"\",\r\n            tooltip: \"文本key\"\r\n        },\r\n        languageManager: {\r\n            default: null,\r\n            visible: false\r\n        },\r\n        curLanguageEnum: {\r\n            default: 0,\r\n            visible: false\r\n        },\r\n        changeLanguageEnum: {\r\n            default: 1,\r\n            visible: false\r\n        },\r\n        args: {\r\n            default: [],\r\n            visible: false\r\n        },\r\n    },\r\n    onLoad() {\r\n        this.languageManager = lottery_LanguageManager.getInstance();\r\n        this.languageManager.Register(this.node.uuid, this.changeLanguage, this);\r\n    },\r\n    onEnable() {\r\n        if (this.curLanguageEnum !== this.changeLanguageEnum) {\r\n            this.changeLanguage(this.changeLanguageEnum)\r\n        }\r\n    },\r\n    onDestroy() {\r\n        this.languageManager.UnRegister(this.node.uuid);\r\n    },\r\n    changeLanguage(lang) {\r\n        if (!this.node.active) {\r\n            this.changeLanguageEnum = lang\r\n            return;\r\n        }\r\n        this.curLanguageEnum = this.changeLanguageEnum;\r\n        if (this.languageID)\r\n            this.UpdateText();\r\n    },\r\n    /**子类重写的方法 */\r\n    UpdateText() {\r\n\r\n    },\r\n    /**动态设置语言ID 刷新一次文本*/\r\n    SetLanguageID(id) {\r\n        this.languageID = id;\r\n        if (this.languageID)\r\n            this.UpdateText();\r\n    },\r\n    /**设置格式化字符串的参数 采用动态参数 arguments*/\r\n    SetArgs() {\r\n        this.args = arguments;\r\n        if (this.languageID)\r\n            this.UpdateText();\r\n    }\r\n});"]}