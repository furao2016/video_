require=function o(a,s,l){function c(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return c(a[t][1][e]||e)},r,r.exports,o,a,s,l)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({AAC:[function(e,t,n){"use strict";cc._RF.push(t,"4da83ePCYdD9aA09Lcd0fys","AAC"),t.exports=function(e){(function(o){var n=o.AV={},r={}.hasOwnProperty,l=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},a=[].slice,s=function(e,t){return function(){return e.apply(t,arguments)}},c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},e=n.Base=function(){var s;function e(){}return s=/\b_super\b/,e.extend=function(e){var t,n,i,r,o,a;if(t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t}(this),"function"==typeof e)for(i in r=Object.keys(t.prototype),e.call(t,t),e={},o=t.prototype)n=o[i],c.call(r,i)<0&&(e[i]=n);for(i in a=t.__super__,e)"function"==typeof(n=e[i])&&s.test(n)?function(n,i){t.prototype[n]=function(){var e,t;return t=this._super,this._super=a[n],e=i.apply(this,arguments),this._super=t,e}}(i,n):t.prototype[i]=n;return t},e}(),u=n.Bitstream=function(){function t(e){this.stream=e,this.bitPosition=0}return t.prototype.copy=function(){var e;return(e=new t(this.stream.copy())).bitPosition=this.bitPosition,e},t.prototype.offset=function(){return 8*this.stream.offset+this.bitPosition},t.prototype.available=function(e){return this.stream.available((e+8-this.bitPosition)/8)},t.prototype.advance=function(e){var t;return t=this.bitPosition+e,this.stream.advance(t>>3),this.bitPosition=7&t},t.prototype.rewind=function(e){var t;return t=this.bitPosition-e,this.stream.rewind(Math.abs(t>>3)),this.bitPosition=7&t},t.prototype.seek=function(e){var t;return(t=this.offset())<e?this.advance(e-t):e<t?this.rewind(t-e):void 0},t.prototype.align=function(){if(0!==this.bitPosition)return this.bitPosition=0,this.stream.advance(1)},t.prototype.read=function(e,t){var n,i,r,o,a,s,l;if(0===e)return 0;if((l=e+this.bitPosition)<=8)n=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-e;else if(l<=16)n=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-e;else if(l<=24)n=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-e;else if(l<=32)n=this.stream.peekUInt32()<<this.bitPosition>>>32-e;else{if(!(l<=40))throw new Error("Too many bits!");i=4294967296*this.stream.peekUInt8(0),r=this.stream.peekUInt8(1)<<24>>>0,o=this.stream.peekUInt8(2)<<16,a=this.stream.peekUInt8(3)<<8,s=this.stream.peekUInt8(4),n=i+r+o+a+s,n%=Math.pow(2,40-this.bitPosition),n=Math.floor(n/Math.pow(2,40-this.bitPosition-e))}return t&&(l<32?n>>>e-1&&(n=-1*((1<<e>>>0)-n)):n/Math.pow(2,e-1)|0&&(n=-1*(Math.pow(2,e)-n))),this.advance(e),n},t.prototype.peek=function(e,t){var n,i,r,o,a,s,l;if(0===e)return 0;if((l=e+this.bitPosition)<=8)n=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-e;else if(l<=16)n=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-e;else if(l<=24)n=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-e;else if(l<=32)n=this.stream.peekUInt32()<<this.bitPosition>>>32-e;else{if(!(l<=40))throw new Error("Too many bits!");i=4294967296*this.stream.peekUInt8(0),r=this.stream.peekUInt8(1)<<24>>>0,o=this.stream.peekUInt8(2)<<16,a=this.stream.peekUInt8(3)<<8,s=this.stream.peekUInt8(4),n=i+r+o+a+s,n%=Math.pow(2,40-this.bitPosition),n=Math.floor(n/Math.pow(2,40-this.bitPosition-e))}return t&&(l<32?n>>>e-1&&(n=-1*((1<<e>>>0)-n)):n/Math.pow(2,e-1)|0&&(n=-1*(Math.pow(2,e)-n))),n},t.prototype.readLSB=function(e,t){var n,i;if(0===e)return 0;if(40<e)throw new Error("Too many bits!");return i=e+this.bitPosition,n=this.stream.peekUInt8(0)>>>this.bitPosition,8<i&&(n|=this.stream.peekUInt8(1)<<8-this.bitPosition),16<i&&(n|=this.stream.peekUInt8(2)<<16-this.bitPosition),24<i&&(n+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0),32<i&&(n+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)),32<=i?n%=Math.pow(2,e):n&=(1<<e)-1,t&&(i<32?n>>>e-1&&(n=-1*((1<<e>>>0)-n)):n/Math.pow(2,e-1)|0&&(n=-1*(Math.pow(2,e)-n))),this.advance(e),n},t.prototype.peekLSB=function(e,t){var n,i;if(0===e)return 0;if(40<e)throw new Error("Too many bits!");return i=e+this.bitPosition,n=this.stream.peekUInt8(0)>>>this.bitPosition,8<i&&(n|=this.stream.peekUInt8(1)<<8-this.bitPosition),16<i&&(n|=this.stream.peekUInt8(2)<<16-this.bitPosition),24<i&&(n+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0),32<i&&(n+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)),32<=i?n%=Math.pow(2,e):n&=(1<<e)-1,t&&(i<32?n>>>e-1&&(n=-1*((1<<e>>>0)-n)):n/Math.pow(2,e-1)|0&&(n=-1*(Math.pow(2,e)-n))),n},t}(),p=n.Buffer=function(){var i,n;function r(e){var t;if(e instanceof Uint8Array)this.data=e;else if(e instanceof ArrayBuffer||Array.isArray(e)||"number"==typeof e||(null!=(t=o.Buffer)?t.isBuffer(e):void 0))this.data=new Uint8Array(e);else if(e.buffer instanceof ArrayBuffer)this.data=new Uint8Array(e.buffer,e.byteOffset,e.length*e.BYTES_PER_ELEMENT);else{if(!(e instanceof r))throw new Error("Constructing buffer with unknown type.");this.data=e.data}this.length=this.data.length,this.next=null,this.prev=null}return r.allocate=function(e){return new r(e)},r.prototype.copy=function(){return new r(new Uint8Array(this.data))},r.prototype.slice=function(e,t){return null==t&&(t=this.length),0===e&&t>=this.length?new r(this.data):new r(this.data.subarray(e,e+t))},i=o.BlobBuilder||o.MozBlobBuilder||o.WebKitBlobBuilder,n=o.URL||o.webkitURL||o.mozURL,r.makeBlob=function(e,t){var n;null==t&&(t="application/octet-stream");try{return new Blob([e],{type:t})}catch(e){}return null!=i?((n=new i).append(e),n.getBlob(t)):null},r.makeBlobURL=function(e,t){return null!=n?n.createObjectURL(this.makeBlob(e,t)):void 0},r.revokeBlobURL=function(e){return null!=n?n.revokeObjectURL(e):void 0},r.prototype.toBlob=function(){return r.makeBlob(this.data.buffer)},r.prototype.toBlobURL=function(){return r.makeBlobURL(this.data.buffer)},r}(),y=n.UnderflowError=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.name="UnderflowError",this.stack=(new Error).stack}return l(t,e),t}(Error),v=n.BufferList=function(){function t(){this.first=null,this.last=null,this.numBuffers=0,this.availableBytes=0,this.availableBuffers=0}return t.prototype.copy=function(){var e;return(e=new t).first=this.first,e.last=this.last,e.numBuffers=this.numBuffers,e.availableBytes=this.availableBytes,e.availableBuffers=this.availableBuffers,e},t.prototype.append=function(e){var t;return e.prev=this.last,null!=(t=this.last)&&(t.next=e),this.last=e,null==this.first&&(this.first=e),this.availableBytes+=e.length,this.availableBuffers++,this.numBuffers++},t.prototype.advance=function(){return!!this.first&&(this.availableBytes-=this.first.length,this.availableBuffers--,this.first=this.first.next,null!=this.first)},t.prototype.rewind=function(){var e;return!(this.first&&!this.first.prev)&&(this.first=(null!=(e=this.first)?e.prev:void 0)||this.last,this.first&&(this.availableBytes+=this.first.length,this.availableBuffers++),null!=this.first)},t.prototype.reset=function(){var e;for(e=[];this.rewind(););return e},t}(),t=n.BufferList=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.on=function(e,t){var n;return null==this.events&&(this.events={}),null==(n=this.events)[e]&&(n[e]=[]),this.events[e].push(t)},t.prototype.off=function(e,t){var n,i;if(null!=this.events)if(null!=(i=this.events)?i[e]:void 0){if(null==t)return this.events[e];if(~(n=this.events[e].indexOf(t)))return this.events[e].splice(n,1)}else if(null==e)return{}},t.prototype.once=function(e,t){var n;return this.on(e,n=function(){return this.off(e,n),t.apply(this,arguments)})},t.prototype.emit=function(){var e,t,n,i,r,o;if(t=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],null!=(r=this.events)?r[t]:void 0)for(o=this.events[t].slice(),n=0,i=o.length;n<i;n++)o[n].apply(this,e)},t}(e),h=n.Stream=function(){var e,i,n,r,o,a,s,l,t,c,u,h,f;function d(e){this.list=e,this.localOffset=0,this.offset=0}return e=new ArrayBuffer(16),f=new Uint8Array(e),t=new Int8Array(e),u=new Uint16Array(e),s=new Int16Array(e),h=new Uint32Array(e),l=new Int32Array(e),n=new Float32Array(e),"undefined"!=typeof Float64Array&&null!==Float64Array&&(r=new Float64Array(e)),c=13330===new Uint16Array(new Uint8Array([18,52]).buffer)[0],d.fromBuffer=function(e){var t;return(t=new v).append(e),new d(t)},d.prototype.copy=function(){var e;return(e=new d(this.list.copy())).localOffset=this.localOffset,e.offset=this.offset,e},d.prototype.available=function(e){return e<=this.list.availableBytes-this.localOffset},d.prototype.remainingBytes=function(){return this.list.availableBytes-this.localOffset},d.prototype.advance=function(e){if(!this.available(e))throw new y;for(this.localOffset+=e,this.offset+=e;this.list.first&&this.localOffset>=this.list.first.length;)this.localOffset-=this.list.first.length,this.list.advance();return this},d.prototype.rewind=function(e){if(e>this.offset)throw new y;for(this.list.first||(this.list.rewind(),this.localOffset=this.list.first.length),this.localOffset-=e,this.offset-=e;this.list.first.prev&&this.localOffset<0;)this.list.rewind(),this.localOffset+=this.list.first.length;return this},d.prototype.seek=function(e){return e>this.offset?this.advance(e-this.offset):e<this.offset?this.rewind(this.offset-e):void 0},d.prototype.readUInt8=function(){var e;if(!this.available(1))throw new y;return e=this.list.first.data[this.localOffset],this.localOffset+=1,this.offset+=1,this.localOffset===this.list.first.length&&(this.localOffset=0,this.list.advance()),e},d.prototype.peekUInt8=function(e){var t;if(null==e&&(e=0),!this.available(e+1))throw new y;for(e=this.localOffset+e,t=this.list.first;t;){if(t.length>e)return t.data[e];e-=t.length,t=t.next}return 0},d.prototype.read=function(e,t){var n,i,r;if(null==t&&(t=!1),t===c)for(n=i=0;i<e;n=i+=1)f[n]=this.readUInt8();else for(n=r=e-1;0<=r;n=r+=-1)f[n]=this.readUInt8()},d.prototype.peek=function(e,t,n){var i,r,o;if(null==n&&(n=!1),n===c)for(i=r=0;r<e;i=r+=1)f[i]=this.peekUInt8(t+i);else for(i=o=0;o<e;i=o+=1)f[e-i-1]=this.peekUInt8(t+i)},d.prototype.readInt8=function(){return this.read(1),t[0]},d.prototype.peekInt8=function(e){return null==e&&(e=0),this.peek(1,e),t[0]},d.prototype.readUInt16=function(e){return this.read(2,e),u[0]},d.prototype.peekUInt16=function(e,t){return null==e&&(e=0),this.peek(2,e,t),u[0]},d.prototype.readInt16=function(e){return this.read(2,e),s[0]},d.prototype.peekInt16=function(e,t){return null==e&&(e=0),this.peek(2,e,t),s[0]},d.prototype.readUInt24=function(e){return e?this.readUInt16(!0)+(this.readUInt8()<<16):(this.readUInt16()<<8)+this.readUInt8()},d.prototype.peekUInt24=function(e,t){return null==e&&(e=0),t?this.peekUInt16(e,!0)+(this.peekUInt8(e+2)<<16):(this.peekUInt16(e)<<8)+this.peekUInt8(e+2)},d.prototype.readInt24=function(e){return e?this.readUInt16(!0)+(this.readInt8()<<16):(this.readInt16()<<8)+this.readUInt8()},d.prototype.peekInt24=function(e,t){return null==e&&(e=0),t?this.peekUInt16(e,!0)+(this.peekInt8(e+2)<<16):(this.peekInt16(e)<<8)+this.peekUInt8(e+2)},d.prototype.readUInt32=function(e){return this.read(4,e),h[0]},d.prototype.peekUInt32=function(e,t){return null==e&&(e=0),this.peek(4,e,t),h[0]},d.prototype.readInt32=function(e){return this.read(4,e),l[0]},d.prototype.peekInt32=function(e,t){return null==e&&(e=0),this.peek(4,e,t),l[0]},d.prototype.readFloat32=function(e){return this.read(4,e),n[0]},d.prototype.peekFloat32=function(e,t){return null==e&&(e=0),this.peek(4,e,t),n[0]},d.prototype.readFloat64=function(e){return this.read(8,e),r?r[0]:o()},o=function(){var e,t,n,i,r,o;return i=h[0],(n=h[1])&&2147483648!==n?(o=1-2*(n>>>31),t=1048575&n,2047===(e=n>>>20&2047)?t?NaN:o*(1/0):(e-=1023,r=(1048576|t)*Math.pow(2,e-20),r+=i*Math.pow(2,e-52),o*r)):0},d.prototype.peekFloat64=function(e,t){return null==e&&(e=0),this.peek(8,e,t),r?r[0]:o()},d.prototype.readFloat80=function(e){return this.read(10,e),a()},a=function(){var e,t,n,i,r,o,a;return i=h[0],r=h[1],e=f[9],t=f[8],a=1-2*(e>>>7),0===(n=(127&e)<<8|t)&&0===r&&0===i?0:32767===n?0===r&&0===i?a*(1/0):NaN:(n-=16383,o=r*Math.pow(2,n-31),o+=i*Math.pow(2,n-63),a*o)},d.prototype.peekFloat80=function(e,t){return null==e&&(e=0),this.peek(10,e,t),a()},d.prototype.readBuffer=function(e){var t,n,i,r;for(n=p.allocate(e),i=n.data,t=r=0;r<e;t=r+=1)i[t]=this.readUInt8();return n},d.prototype.peekBuffer=function(e,t){var n,i,r,o;for(null==e&&(e=0),i=p.allocate(t),r=i.data,n=o=0;o<t;n=o+=1)r[n]=this.peekUInt8(e+n);return i},d.prototype.readSingleBuffer=function(e){var t;return t=this.list.first.slice(this.localOffset,e),this.advance(t.length),t},d.prototype.peekSingleBuffer=function(e,t){return this.list.first.slice(this.localOffset+e,t)},d.prototype.readString=function(e,t){return null==t&&(t="ascii"),i.call(this,0,e,t,!0)},d.prototype.peekString=function(e,t,n){return null==e&&(e=0),null==n&&(n="ascii"),i.call(this,e,t,n,!1)},i=function(e,t,n,i){var r,o,a,s,l,c,u,h,f,d,p,y,v;switch(n=n.toLowerCase(),f=null===t?0:-1,null==t&&(t=1/0),u=e+t,p="",n){case"ascii":case"latin1":for(;e<u&&(c=this.peekUInt8(e++))!==f;)p+=String.fromCharCode(c);break;case"utf8":case"utf-8":for(;e<u&&(r=this.peekUInt8(e++))!==f;)0==(128&r)?p+=String.fromCharCode(r):192==(224&r)?(o=63&this.peekUInt8(e++),p+=String.fromCharCode((31&r)<<6|o)):224==(240&r)?(o=63&this.peekUInt8(e++),a=63&this.peekUInt8(e++),p+=String.fromCharCode((15&r)<<12|o<<6|a)):240==(248&r)&&(o=63&this.peekUInt8(e++),a=63&this.peekUInt8(e++),s=63&this.peekUInt8(e++),d=((15&r)<<18|o<<12|a<<6|s)-65536,p+=String.fromCharCode(55296+(d>>10),56320+(1023&d)));break;case"utf16-be":case"utf16be":case"utf16le":case"utf16-le":case"utf16bom":case"utf16-bom":switch(n){case"utf16be":case"utf16-be":h=!1;break;case"utf16le":case"utf16-le":h=!0;break;case"utf16bom":case"utf16-bom":if(t<2||(l=this.peekUInt16(e))===f)return i&&this.advance(e+=2),p;h=65534===l,e+=2}for(;e<u&&(y=this.peekUInt16(e,h))!==f;)if(e+=2,y<55296||57343<y)p+=String.fromCharCode(y);else{if(56319<y)throw new Error("Invalid utf16 sequence.");if((v=this.peekUInt16(e,h))<56320||57343<v)throw new Error("Invalid utf16 sequence.");p+=String.fromCharCode(y,v),e+=2}y===f&&(e+=2);break;default:throw new Error("Unknown encoding: "+n)}return i&&this.advance(e),p},d}(),f=n.Decoder=function(e){var n;function t(e,t){var n,i,r,o;this.demuxer=e,this.format=t,n=new v,this.stream=new h(n),this.bitstream=new u(this.stream),this.receivedFinalBuffer=!1,this.waiting=!1,this.demuxer.on("cookie",(i=this,function(e){var t;try{return i.setCookie(e)}catch(e){return t=e,i.emit("error",t)}})),this.demuxer.on("data",(r=this,function(e){if(n.append(e),r.waiting)return r.decode()})),this.demuxer.on("end",(o=this,function(){if(o.receivedFinalBuffer=!0,o.waiting)return o.decode()})),this.init()}return l(t,e),t.prototype.init=function(){},t.prototype.setCookie=function(e){},t.prototype.readChunk=function(){},t.prototype.decode=function(){var t,e,n;this.waiting=!this.receivedFinalBuffer,e=this.bitstream.offset();try{n=this.readChunk()}catch(e){if(!((t=e)instanceof y))return this.emit("error",t),!1}return n?(this.emit("data",n),this.receivedFinalBuffer&&this.emit("end"),!0):(this.receivedFinalBuffer?this.emit("end"):(this.bitstream.seek(e),this.waiting=!0),!1)},t.prototype.seek=function(e){var t;return t=this.demuxer.seek(e),this.stream.seek(t.offset),t.timestamp},n={},t.register=function(e,t){return n[e]=t},t.find=function(e){return n[e]||null},t}(t),d=n.Demuxer=function(e){var a;function t(e,t){var n,i,r,o,a;(n=new v).append(t),this.stream=new h(n),i=!1,e.on("data",(r=this,function(e){var t;i=!0,n.append(e);try{return r.readChunk(e)}catch(e){return t=e,r.emit("error",t)}})),e.on("error",(o=this,function(e){return o.emit("error",e)})),e.on("end",(a=this,function(){return i||a.readChunk(t),a.emit("end")})),this.seekPoints=[],this.init()}return l(t,e),t.probe=function(e){return!1},t.prototype.init=function(){},t.prototype.readChunk=function(e){},t.prototype.addSeekPoint=function(e,t){var n;return n=this.searchTimestamp(t),this.seekPoints.splice(n,0,{offset:e,timestamp:t})},t.prototype.searchTimestamp=function(e,t){var n,i,r,o;if((i=0)<(n=this.seekPoints.length)&&this.seekPoints[n-1].timestamp<e)return n;for(;i<n;)r=i+n>>1,(o=this.seekPoints[r].timestamp)<e?i=r+1:e<=o&&(n=r);return n>this.seekPoints.length&&(n=this.seekPoints.length),n},t.prototype.seek=function(e){var t;return this.format&&0<this.format.framesPerPacket&&0<this.format.bytesPerPacket?{timestamp:e,offset:this.format.bytesPerPacket*e/this.format.framesPerPacket}:(t=this.searchTimestamp(e),this.seekPoints[t])},a=[],t.register=function(e){return a.push(e)},t.find=function(e){var t,n,i,r,o;for(i=h.fromBuffer(e),r=0,o=a.length;r<o;r++){t=a[r],n=i.offset;try{if(t.probe(i))return t}catch(e){e}i.seek(n)}return null},t}(t),g=n.AudioDevice=function(e){var o;function n(e,t){this.sampleRate=e,this.channels=t,this.updateTime=s(this.updateTime,this),this.playing=!1,this.currentTime=0,this._lastTime=0}return l(n,e),n.prototype.start=function(){if(!this.playing){if(this.playing=!0,null==this.device&&(this.device=n.create(this.sampleRate,this.channels)),!this.device)throw new Error("No supported audio device found.");return this._lastTime=this.device.getDeviceTime(),this._timer=setInterval(this.updateTime,200),this.device.on("refill",this.refill=(t=this,function(e){return t.emit("refill",e)}));var t}},n.prototype.stop=function(){if(this.playing)return this.playing=!1,this.device&&this.device.off("refill",this.refill),clearInterval(this._timer)},n.prototype.destroy=function(){var e;return this.stop(),null!=(e=this.device)?e.destroy():void 0},n.prototype.seek=function(e){return this.currentTime=e,this.playing&&(this._lastTime=this.device.getDeviceTime()),this.emit("timeUpdate",this.currentTime)},n.prototype.updateTime=function(){var e;return e=this.device.getDeviceTime(),this.currentTime+=(e-this._lastTime)/this.device.sampleRate*1e3|0,this._lastTime=e,this.emit("timeUpdate",this.currentTime)},o=[],n.register=function(e){return o.push(e)},n.create=function(e,t){var n,i,r;for(i=0,r=o.length;i<r;i++)if((n=o[i]).supported)return new n(e,t);return null},n}(t),i=(n.MozillaAudioDevice=function(e){var n,t;function i(e,t){this.sampleRate=e,this.channels=t,this.refill=s(this.refill,this),this.audio=new Audio,this.audio.mozSetup(this.channels,this.sampleRate),this.writePosition=0,this.prebufferSize=this.sampleRate/2,this.tail=null,this.timer=n(this.refill,100)}return l(i,e),g.register(i),i.supported=!cc.sys.isNative&&("undefined"!=typeof Audio&&null!==Audio&&"mozWriteAudio"in new Audio),i.prototype.refill=function(){var e,t,n,i;this.tail&&(i=this.audio.mozWriteAudio(this.tail),this.writePosition+=i,this.writePosition<this.tail.length?this.tail=this.tail.subarray(i):this.tail=null),n=this.audio.mozCurrentSampleOffset(),0<(e=n+this.prebufferSize-this.writePosition)&&(t=new Float32Array(e),this.emit("refill",t),(i=this.audio.mozWriteAudio(t))<t.length&&(this.tail=t.subarray(i)),this.writePosition+=i)},i.prototype.destroy=function(){return t(this.timer)},i.prototype.getDeviceTime=function(){return this.audio.mozCurrentSampleOffset()/this.channels},n=function(e,t){var n,i;return null==(n=p.makeBlobURL("setInterval(function() { postMessage('ping'); }, "+t+");"))?setInterval(e,t):((i=new Worker(n)).onmessage=e,i.url=n,i)},t=function(e){return e.terminate?(e.terminate(),URL.revokeObjectURL(e.url)):clearInterval(e)},i}(t),n.Asset=function(e){function t(e){var t,n;this.source=e,this._decode=s(this._decode,this),this.findDecoder=s(this.findDecoder,this),this.probe=s(this.probe,this),this.buffered=0,this.duration=null,this.format=null,this.metadata=null,this.active=!1,this.demuxer=null,this.decoder=null,this.source.once("data",this.probe),this.source.on("error",(t=this,function(e){return t.emit("error",e),t.stop()})),this.source.on("progress",(n=this,function(e){return n.buffered=e,n.emit("buffer",n.buffered)}))}return l(t,e),t.fromBuffer=function(e){return new t(new C(e))},t.fromBufferSource=function(e){return new n.Asset(new n.BufferSource)},t.prototype.start=function(e){if(!this.active)return null!=e&&(this.shouldDecode=e),null==this.shouldDecode&&(this.shouldDecode=!0),this.active=!0,this.source.start(),this.decoder&&this.shouldDecode?this._decode():void 0},t.prototype.stop=function(){if(this.active)return this.active=!1,this.source.pause()},t.prototype.get=function(e,t){var n;if("format"===e||"duration"===e||"metadata"===e)return null!=this[e]?t(this[e]):(this.once(e,(n=this,function(e){return n.stop(),t(e)})),this.start())},t.prototype.decodePacket=function(){return this.decoder.decode()},t.prototype.decodeToBuffer=function(o){var a,s,l;return l=0,a=[],this.on("data",s=function(e){return l+=e.length,a.push(e)}),this.once("end",function(){var e,t,n,i,r;for(e=new Float32Array(l),i=n=0,r=a.length;i<r;i++)t=a[i],e.set(t,n),n+=t.length;return this.off("data",s),o(e)}),this.start()},t.prototype.probe=function(e){var t,n,i,r;if(this.active)return(t=d.find(e))?(this.demuxer=new t(this.source,e),this.demuxer.on("format",this.findDecoder),this.demuxer.on("duration",(n=this,function(e){return n.duration=e,n.emit("duration",n.duration)})),this.demuxer.on("metadata",(i=this,function(e){return i.metadata=e,i.emit("metadata",i.metadata)})),this.demuxer.on("error",(r=this,function(e){return r.emit("error",e),r.stop()}))):this.emit("error","A demuxer for this container was not found.")},t.prototype.findDecoder=function(e){var t,a,s,n,i,r;if(this.format=e,this.active)return this.emit("format",this.format),(t=f.find(this.format.formatID))?(this.decoder=new t(this.demuxer,this.format),this.format.floatingPoint?this.decoder.on("data",(n=this,function(e){return n.emit("data",e)})):(a=Math.pow(2,this.format.bitsPerChannel-1),this.decoder.on("data",(s=this,function(e){var t,n,i,r,o;for(t=new Float32Array(e.length),n=r=0,o=e.length;r<o;n=++r)i=e[n],t[n]=i/a;return s.emit("data",t)}))),this.decoder.on("error",(i=this,function(e){return i.emit("error",e),i.stop()})),this.decoder.on("end",(r=this,function(){return r.emit("end")})),this.emit("decodeStart"),this.shouldDecode?this._decode():void 0):this.emit("error","A decoder for "+this.format.formatID+" was not found.")},t.prototype._decode=function(){for(;this.decoder.decode()&&this.active;);if(this.active)return this.decoder.once("data",this._decode)},t.prototype.destroy=function(){var e,t,n;return this.stop(),null!=(e=this.demuxer)&&e.off(),null!=(t=this.decoder)&&t.off(),null!=(n=this.source)&&n.off(),this.off()},t}(t)),m=n.Resampler=function(){function e(e,t,n,i){this.fromSampleRate=+e,this.toSampleRate=+t,this.channels=0|n,this.inputBufferLength=i,this.initialize()}return e.prototype.initialize=function(){if(!(0<this.fromSampleRate&&0<this.toSampleRate&&0<this.channels))throw new Error("Invalid settings specified for the resampler.");if(this.fromSampleRate==this.toSampleRate)this.resampler=this.bypassResampler,this.ratioWeight=1;else{this.ratioWeight=this.fromSampleRate/this.toSampleRate,this.fromSampleRate<this.toSampleRate?(this.compileLinearInterpolationFunction(),this.lastWeight=1):(this.compileMultiTapFunction(),this.tailExists=!1,this.lastWeight=0);var e=Math.ceil(this.inputBufferLength*this.toSampleRate/this.fromSampleRate/this.channels*1.01)*this.channels+this.channels;this.outputBuffer=new Float32Array(e),this.lastOutput=new Float32Array(this.channels)}},e.prototype.compileLinearInterpolationFunction=function(){for(var e="var outputOffset = 0;        var bufferLength = buffer.length;        if (bufferLength > 0) {          var weight = this.lastWeight;          var firstWeight = 0;          var secondWeight = 0;          var sourceOffset = 0;          var outputOffset = 0;          var outputBuffer = this.outputBuffer;          for (; weight < 1; weight += "+this.ratioWeight+") {            secondWeight = weight % 1;            firstWeight = 1 - secondWeight;",t=0;t<this.channels;++t)e+="outputBuffer[outputOffset++] = (this.lastOutput["+t+"] * firstWeight) + (buffer["+t+"] * secondWeight);";e+="}          weight -= 1;          for (bufferLength -= "+this.channels+", sourceOffset = Math.floor(weight) * "+this.channels+"; sourceOffset < bufferLength;) {            secondWeight = weight % 1;            firstWeight = 1 - secondWeight;";for(var t=0;t<this.channels;++t)e+="outputBuffer[outputOffset++] = (buffer[sourceOffset"+(0<t?" + "+t:"")+"] * firstWeight) + (buffer[sourceOffset + "+(this.channels+t)+"] * secondWeight);";e+="weight += "+this.ratioWeight+";            sourceOffset = Math.floor(weight) * "+this.channels+";          }";for(var t=0;t<this.channels;++t)e+="this.lastOutput["+t+"] = buffer[sourceOffset++];";e+="this.lastWeight = weight % 1;        }        return this.outputBuffer;",this.resampler=Function("buffer",e)},e.prototype.compileMultiTapFunction=function(){for(var e="var outputOffset = 0;        var bufferLength = buffer.length;        if (bufferLength > 0) {          var weight = 0;",t=0;t<this.channels;++t)e+="var output"+t+" = 0;";for(e+="var actualPosition = 0;          var amountToNext = 0;          var alreadyProcessedTail = !this.tailExists;          this.tailExists = false;          var outputBuffer = this.outputBuffer;          var currentPosition = 0;          do {            if (alreadyProcessedTail) {              weight = "+this.ratioWeight+";",t=0;t<this.channels;++t)e+="output"+t+" = 0;";for(e+="}            else {              weight = this.lastWeight;",t=0;t<this.channels;++t)e+="output"+t+" = this.lastOutput["+t+"];";for(e+="alreadyProcessedTail = true;            }            while (weight > 0 && actualPosition < bufferLength) {              amountToNext = 1 + actualPosition - currentPosition;              if (weight >= amountToNext) {",t=0;t<this.channels;++t)e+="output"+t+" += buffer[actualPosition++] * amountToNext;";for(e+="currentPosition = actualPosition;                weight -= amountToNext;              }              else {",t=0;t<this.channels;++t)e+="output"+t+" += buffer[actualPosition"+(0<t?" + "+t:"")+"] * weight;";for(e+="currentPosition += weight;                weight = 0;                break;              }            }            if (weight <= 0) {",t=0;t<this.channels;++t)e+="outputBuffer[outputOffset++] = output"+t+" / "+this.ratioWeight+";";for(e+="}            else {              this.lastWeight = weight;",t=0;t<this.channels;++t)e+="this.lastOutput["+t+"] = output"+t+";";e+="this.tailExists = true;              break;            }          } while (actualPosition < bufferLength);        }        return this.outputBuffer;",this.resampler=Function("buffer",e)},e.prototype.bypassResampler=function(e){return e},e}(),_=(n.WebAudioDevice=function(e){var n,i=null,r=o.AudioContext||o.webkitAudioContext;function t(e,t){this.sampleRate=e,this.channels=t,this.refill=s(this.refill,this),this.context=null!=i?i:i=new r,this.deviceSampleRate=this.context.sampleRate,this.bufferSize=Math.ceil(4096/(this.deviceSampleRate/this.sampleRate)*this.channels),this.bufferSize+=this.bufferSize%this.channels,this.deviceSampleRate!==this.sampleRate&&(this.resampler=new m(this.sampleRate,this.deviceSampleRate,this.channels,this.bufferSize)),this.node=this.context[n](4096,this.channels,this.channels),this.node.onaudioprocess=this.refill,this.node.connect(this.context.destination)}return l(t,e),g.register(t),t.supported=r&&("function"==typeof r.prototype[n="createScriptProcessor"]||"function"==typeof r.prototype[n="createJavaScriptNode"]),t.init=function(){if(t.supported)if(i){if("suspended"===i.state){i.close();var e=(i=new r)[n](4096,1,1);e.connect(i.destination)}}else{var e=(i=new r)[n](4096,1,1);e.connect(i.destination)}},t.prototype.refill=function(e){var t,n,i,r,o,a,s,l,c,u;for(a=e.outputBuffer,t=a.numberOfChannels,n=new Array(t),r=s=0;s<t;r=s+=1)n[r]=a.getChannelData(r);for(i=new Float32Array(this.bufferSize),this.emit("refill",i),this.resampler&&(i=this.resampler.resampler(i)),r=l=0,u=a.length;l<u;r=l+=1)for(o=c=0;c<t;o=c+=1)n[o][r]=i[r*t+o]},t.prototype.destroy=function(){return this.node.disconnect(0)},t.prototype.getDeviceTime=function(){return this.context.currentTime*this.sampleRate},t}(t),n.Filter=function(){function e(e,t){e&&t&&Object.defineProperty(this,"value",{get:function(){return e[t]}})}return e.prototype.process=function(e){},e}()),b=n.BalanceFilter=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.process=function(e){var t,n,i,r;if(0!==this.value)for(n=Math.max(-50,Math.min(50,this.value)),t=i=0,r=e.length;i<r;t=i+=2)e[t]*=Math.min(1,(50-n)/50),e[t+1]*=Math.min(1,(50+n)/50)},t}(_),w=n.VolumeFilter=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.process=function(e){var t,n,i,r;if(!(100<=this.value))for(n=Math.max(0,Math.min(100,this.value))/100,t=i=0,r=e.length;i<r;t=i+=1)e[t]*=n},t}(_);n.Player=function(e){function t(e){var t,n,i,r,o,a;this.asset=e,this.startPlaying=s(this.startPlaying,this),this.playing=!1,this.buffered=0,this.currentTime=0,this.duration=0,this.volume=100,this.pan=0,this.metadata={},this.filters=[new w(this,"volume"),new b(this,"pan")],this.asset.on("buffer",(t=this,function(e){return t.buffered=e,t.emit("buffer",t.buffered)})),this.asset.on("decodeStart",(n=this,function(){return n.queue=new k(n.asset),n.queue.once("ready",n.startPlaying)})),this.asset.on("format",(i=this,function(e){return i.format=e,i.emit("format",i.format)})),this.asset.on("metadata",(r=this,function(e){return r.metadata=e,r.emit("metadata",r.metadata)})),this.asset.on("duration",(o=this,function(e){return o.duration=e,o.emit("duration",o.duration)})),this.asset.on("error",(a=this,function(e){return a.emit("error",e)}))}return l(t,e),t.fromBuffer=function(e){return new t(i.fromBuffer(e))},t.fromBufferSource=function(){return new n.Player(n.Asset.fromBufferSource())},t.prototype.preload=function(){if(this.asset)return this.startedPreloading=!0,this.asset.start(!1)},t.prototype.play=function(){var e;if(!this.playing)return this.startedPreloading||this.preload(),this.playing=!0,null!=(e=this.device)?e.start():void 0},t.prototype.pause=function(){var e;if(this.playing)return this.playing=!1,null!=(e=this.device)?e.stop():void 0},t.prototype.togglePlayback=function(){return this.playing?this.pause():this.play()},t.prototype.stop=function(){var e;return this.pause(),this.asset.stop(),null!=(e=this.device)?e.destroy():void 0},t.prototype.seek=function(e){var t,n;return null!=(t=this.device)&&t.stop(),this.queue.once("ready",(n=this,function(){var e,t;if(null!=(e=n.device)&&e.seek(n.currentTime),n.playing)return null!=(t=n.device)?t.start():void 0})),e=e/1e3*this.format.sampleRate,e=this.asset.decoder.seek(e),this.currentTime=e/this.format.sampleRate*1e3|0,this.queue.reset(),this.currentTime},t.prototype.startPlaying=function(){var s,l,t,c;return s=this.queue.read(),l=0,this.device=new g(this.format.sampleRate,this.format.channelsPerFrame),this.device.on("timeUpdate",(t=this,function(e){return t.currentTime=e,t.emit("progress",t.currentTime)})),this.refill=(c=this,function(e){var t,n,i,r,o,a;if(c.playing){for(s||(s=c.queue.read(),l=0),t=0;s&&t<e.length;){for(n=Math.min(s.length-l,e.length-t),i=0;i<n;i+=1)e[t++]=s[l++];l===s.length&&(s=c.queue.read(),l=0)}for(a=c.filters,r=0,o=a.length;r<o;r++)a[r].process(e)}}),this.device.on("refill",this.refill),this.playing&&this.device.start(),this.emit("ready")},t.prototype.destroy=function(){var e,t;return this.stop(),null!=(e=this.device)&&e.off(),null!=(t=this.asset)&&t.destroy(),this.off()},t}(t);var k=n.Queue=function(e){function t(e){var t;this.asset=e,this.write=s(this.write,this),this.readyMark=2,this.finished=!1,this.buffering=!0,this.ended=!1,this.buffers=[],this.asset.on("data",this.write),this.asset.on("end",(t=this,function(){return t.ended=!0})),this.asset.decodePacket()}return l(t,e),t.prototype.write=function(e){if(e&&this.buffers.push(e),this.buffering)return this.buffers.length>=this.readyMark||this.ended?(this.buffering=!1,this.emit("ready")):this.asset.decodePacket()},t.prototype.read=function(){return 0===this.buffers.length?null:(this.asset.decodePacket(),this.buffers.shift())},t.prototype.reset=function(){return this.buffers.length=0,this.buffering=!0,this.asset.decodePacket()},t}(t),C=n.BufferSource=function(e){var t,n;function i(e){this.loop=s(this.loop,this),e instanceof v?this.list=e:(this.list=new v,null!=e&&this.list.append(new p(e))),this.paused=!0}return l(i,e),n=o.setImmediate||function(e){return o.setTimeout(e,0)},t=o.clearImmediate||function(e){return o.clearTimeout(e)},i.prototype.start=function(){return this.paused=!1,null},i.prototype.add=function(e){this.bytesLoaded+=e.length,this.list.append(new p(e)),this.emit("data",this.list.first),this.list.advance()},i.prototype.loop=function(){return this.emit("progress",(this.list.numBuffers-this.list.availableBuffers+1)/this.list.numBuffers*100|0),this.emit("data",this.list.first),this.list.advance()?n(this.loop):this.emit("end")},i.prototype.pause=function(){return t(this._timer),this.paused=!0},i.prototype.reset=function(){return this.pause(),this.list.rewind()},i}(t)})(e),t=e,r=t.AV,g=r.Demuxer.extend(function(){r.Demuxer.register(this),this.probe=function(e){for(var t=e.offset;e.available(2);)if(65520==(65526&e.readUInt16()))return e.seek(t),!0;return e.seek(t),!1},this.prototype.init=function(){this.bitstream=new r.Bitstream(this.stream)},this.readHeader=function(e){if(4095!==e.read(12))throw new Error("Invalid ADTS header.");var t={};e.advance(3);var n=!!e.read(1);return t.profile=e.read(2)+1,t.samplingIndex=e.read(4),e.advance(1),t.chanConfig=e.read(3),e.advance(4),t.frameLength=e.read(13),e.advance(11),t.numFrames=e.read(2)+1,n||e.advance(16),t},this.prototype.readChunk=function(){if(!this.sentHeader){var e=this.stream.offset,t=g.readHeader(this.bitstream);this.emit("format",{formatID:"aac ",sampleRate:F[t.samplingIndex],channelsPerFrame:t.chanConfig,bitsPerChannel:16});var n=new Uint8Array(2);n[0]=t.profile<<3|t.samplingIndex>>1&7,n[1]=(1&t.samplingIndex)<<7|t.chanConfig<<3,this.emit("cookie",new r.Buffer(n)),this.stream.seek(e),this.sentHeader=!0}for(;this.stream.available(1);){var i=this.stream.readSingleBuffer(this.stream.remainingBytes());this.emit("data",i)}}}),m=function(){function w(e){this.ics=new C(e),this.channelPair=new Array(8),this.idSelect=new Int32Array(8),this.chSelect=new Int32Array(8),this.gain=new Array(16)}w.BEFORE_TNS=0,w.AFTER_TNS=1,w.AFTER_IMDCT=2;var k=new Float32Array([1.0905077326652577,1.189207115002721,1.4142135623730951,2]);return w.prototype={decode:function(e,t){var n=this.channelPair,i=this.idSelect,r=this.chSelect;this.couplingPoint=2*e.read(1),this.coupledCount=e.read(3);for(var o=0,a=0;a<=this.coupledCount;a++)o++,n[a]=e.read(1),i[a]=e.read(4),n[a]?(r[a]=e.read(2),3===r[a]&&o++):r[a]=2;this.couplingPoint+=e.read(1),this.couplingPoint|=this.couplingPoint>>>1;var s=e.read(1),l=k[e.read(2)];this.ics.decode(e,t,!1);for(var c=this.ics.info.groupCount,u=this.ics.info.maxSFB,h=this.ics.bandTypes,a=0;a<o;a++){var f=0,d=1,p=0,y=1;0<a&&(d=this.couplingPoint===w.AFTER_IMDCT?1:e.read(1),p=d?T.decodeScaleFactor(e)-60:0,y=Math.pow(l,-p));var v=this.gain[a]=new Float32Array(120);if(this.couplingPoint===w.AFTER_IMDCT)v[0]=y;else for(var g=0;g<c;g++)for(var m=0;m<u;m++)if(h[f]!==C.ZERO_BT){if(0===d){var _=T.decodeScaleFactor(e)-60;if(0!==_){var b=1;_=p+=_,s||(b-=2*(1&_),_>>>=1),y=Math.pow(l,-_)*b}}v[f++]=y}}},applyIndependentCoupling:function(e,t){for(var n=this.gain[e][0],i=this.ics.data,r=0;r<t.length;r++)t[r]+=n*i[r]},applyDependentCoupling:function(e,t){for(var n=this.ics.info,i=n.swbOffsets,r=n.groupCount,o=n.maxSFB,a=this.ics.bandTypes,s=this.ics.data,l=0,c=0,u=this.gain[e],h=0;h<r;h++){for(var f=n.groupLength[h],d=0;d<o;d++,l++)if(a[l]!==C.ZERO_BT)for(var p=u[l],y=0;y<f;y++)for(var v=i[d];v<i[swb+1];v++)t[c+128*y+v]+=p*s[c+128*y+v];c+=128*f}}},w}(),_=function(){function e(e){this.ms_used=[],this.left=new C(e),this.right=new C(e)}return e.prototype.decode=function(e,t){var n=this.left,i=this.right,r=this.ms_used;if(this.commonWindow=!!e.read(1)){n.info.decode(e,t,!0),i.info=n.info;var o=e.read(2);switch(this.maskPresent=!!o,o){case 1:for(var a=n.info.groupCount*n.info.maxSFB,s=0;s<a;s++)r[s]=!!e.read(1);break;case 0:case 2:for(var l=!!o,s=0;s<128;s++)r[s]=l;break;default:throw new Error("Reserved ms mask type: "+o)}}else for(var s=0;s<128;s++)r[s]=!1;n.decode(e,t,this.commonWindow),i.decode(e,t,this.commonWindow)},e}(),r.Decoder.extend(function(){r.Decoder.register("mp4a",this),r.Decoder.register("aac ",this);this.prototype.init=function(){this.format.floatingPoint=!0},this.prototype.setCookie=function(e){var t=r.Stream.fromBuffer(e),n=new r.Bitstream(t);if(this.config={},this.config.profile=n.read(5),31===this.config.profile&&(this.config.profile=32+n.read(6)),this.config.sampleIndex=n.read(4),15===this.config.sampleIndex){this.config.sampleRate=n.read(24);for(var i=0;i<F.length;i++)if(F[i]===this.config.sampleRate){this.config.sampleIndex=i;break}}else this.config.sampleRate=F[this.config.sampleIndex];switch(this.config.chanConfig=n.read(4),this.format.channelsPerFrame=this.config.chanConfig,this.config.profile){case 1:case 2:case 4:if(n.read(1))throw new Error("frameLengthFlag not supported");if(this.config.frameLength=1024,n.read(1)&&n.advance(14),n.read(1)&&(16<this.config.profile&&(this.config.sectionDataResilience=n.read(1),this.config.scalefactorResilience=n.read(1),this.config.spectralDataResilience=n.read(1)),n.advance(1)),0===this.config.chanConfig)throw n.advance(4),new Error("PCE unimplemented");break;default:throw new Error("AAC profile "+this.config.profile+" not supported.")}this.filter_bank=new o(!1,this.config.chanConfig)};this.prototype.readChunk=function(){var e=this.bitstream;4095===e.peek(12)&&g.readHeader(e),this.cces=[];for(var t=[],n=this.config,i=n.frameLength,r=null;7!==(r=e.read(3));){var o=e.read(4);switch(r){case 0:case 3:var a=new C(this.config);a.id=o,t.push(a),a.decode(e,n,!1);break;case 1:var s=new _(this.config);s.id=o,t.push(s),s.decode(e,n);break;case 2:var l=new m(this.config);this.cces.push(l),l.decode(e,n);break;case 4:var c=e.read(1),u=e.read(8);255===u&&(u+=e.read(8)),c&&e.align(),e.advance(8*u);break;case 5:throw new Error("TODO: PCE_ELEMENT");case 6:15===o&&(o+=e.read(8)-1),e.advance(8*o);break;default:throw new Error("Unknown element")}}e.align(),this.process(t);for(var h=this.data,f=h.length,d=new Float32Array(i*f),p=0,y=0;y<i;y++)for(var v=0;v<f;v++)d[p++]=h[v][y]/32768;return d},this.prototype.process=function(e){for(var t=this.config.chanConfig,n=1*this.config.frameLength,i=this.data=[],r=0;r<t;r++)i[r]=new Float32Array(n);for(var o=0,r=0;r<e.length&&o<t;r++){var a=e[r];if(a instanceof C)o+=this.processSingle(a,o);else if(a instanceof _)this.processPair(a,o),o+=2;else{if(!(a instanceof m))throw new Error("Unknown element found.");o++}}},this.prototype.processSingle=function(e,t){var n=this.config.profile,i=e.info,r=e.data;if(1===n)throw new Error("Main prediction unimplemented");if(4===n)throw new Error("LTP prediction unimplemented");if(this.applyChannelCoupling(e,m.BEFORE_TNS,r,null),e.tnsPresent&&e.tns.process(e,r,!1),this.applyChannelCoupling(e,m.AFTER_TNS,r,null),this.filter_bank.process(i,r,this.data[t],t),4===n)throw new Error("LTP prediction unimplemented");if(this.applyChannelCoupling(e,m.AFTER_IMDCT,this.data[t],null),e.gainPresent)throw new Error("Gain control not implemented");if(this.sbrPresent)throw new Error("SBR not implemented");return 1},this.prototype.processPair=function(e,t){var n=this.config.profile,i=e.left,r=e.right,o=i.info,a=r.info,s=i.data,l=r.data;if(e.commonWindow&&e.maskPresent&&this.processMS(e,s,l),1===n)throw new Error("Main prediction unimplemented");if(this.processIS(e,s,l),4===n)throw new Error("LTP prediction unimplemented");if(this.applyChannelCoupling(e,m.BEFORE_TNS,s,l),i.tnsPresent&&i.tns.process(i,s,!1),r.tnsPresent&&r.tns.process(r,l,!1),this.applyChannelCoupling(e,m.AFTER_TNS,s,l),this.filter_bank.process(o,s,this.data[t],t),this.filter_bank.process(a,l,this.data[t+1],t+1),4===n)throw new Error("LTP prediction unimplemented");if(this.applyChannelCoupling(e,m.AFTER_IMDCT,this.data[t],this.data[t+1]),i.gainPresent)throw new Error("Gain control not implemented");if(r.gainPresent)throw new Error("Gain control not implemented");if(this.sbrPresent)throw new Error("SBR not implemented")},this.prototype.processIS=function(e,t,n){for(var i=e.right,r=i.info,o=r.swbOffsets,a=r.groupCount,s=r.maxSFB,l=i.bandTypes,c=i.sectEnd,u=i.scaleFactors,h=0,f=0,d=0;d<a;d++){for(var p=0;p<s;){var y=c[h];if(l[h]===C.INTENSITY_BT||l[h]===C.INTENSITY_BT2)for(;p<y;p++,h++){var v=l[h]===C.INTENSITY_BT?1:-1;e.maskPresent&&(v*=e.ms_used[h]?-1:1);for(var g=v*u[h],m=0;m<r.groupLength[d];m++)for(var _=f+128*m+o[p],b=o[p+1]-o[p],w=0;w<b;w++)n[_+w]=t[_+w]*g}else h+=y-p,p=y}f+=128*r.groupLength[d]}},this.prototype.processMS=function(e,t,n){for(var i=e.left,r=i.info,o=r.swbOffsets,a=r.groupCount,s=r.maxSFB,l=i.bandTypes,c=e.right.bandTypes,u=0,h=0,f=0;f<a;f++){for(var d=0;d<s;d++,h++)if(e.ms_used[h]&&l[h]<C.NOISE_BT&&c[h]<C.NOISE_BT)for(var p=0;p<r.groupLength[f];p++)for(var y=u+128*p+o[d],v=0;v<o[d+1]-o[d];v++){var g=t[y+v]-n[y+v];t[y+v]+=n[y+v],n[y+v]=g}u+=128*r.groupLength[f]}},this.prototype.applyChannelCoupling=function(e,t,n,i){for(var r=this.cces,o=e instanceof _,a=t===m.AFTER_IMDCT?"applyIndependentCoupling":"applyDependentCoupling",s=0;s<r.length;s++){var l=r[s],c=0;if(l.couplingPoint===t)for(var u=0;u<l.coupledCount;u++){var h=l.chSelect[u];l.channelPair[u]===o&&l.idSelect[u]===e.id?(1!==h&&(l[a](c,n),h&&c++),2!==h&&l[a](c++,i)):c+=1+(3===h?1:0)}}}}),i=function(){function e(e){switch(this.length=e){case 64:this.roots=n(64);break;case 512:this.roots=i(512);break;case 60:this.roots=n(60);break;case 480:this.roots=i(480);break;default:throw new Error("unexpected FFT length: "+e)}this.rev=new Array(e);for(var t=0;t<e;t++)this.rev[t]=new Float32Array(2);this.a=new Float32Array(2),this.b=new Float32Array(2),this.c=new Float32Array(2),this.d=new Float32Array(2),this.e1=new Float32Array(2),this.e2=new Float32Array(2)}function n(e){for(var t=2*Math.PI/e,n=Math.cos(t),i=Math.sin(t),r=new Array(e),o=0;o<e;o++)r[o]=new Float32Array(2);r[0][0]=1;for(var a=r[0][1]=0,o=1;o<e;o++)r[o][0]=r[o-1][0]*n+a*i,a=a*n-r[o-1][0]*i,r[o][1]=-a;return r}function i(e){for(var t=2*Math.PI/e,n=Math.cos(t),i=Math.sin(t),r=new Array(e),o=0;o<e;o++)r[o]=new Float32Array(3);r[0][0]=1,r[0][1]=0,r[0][2]=0;for(var o=1;o<e;o++)r[o][0]=r[o-1][0]*n+r[o-1][2]*i,r[o][2]=r[o-1][2]*n-r[o-1][0]*i,r[o][1]=-r[o][2];return r}return e.prototype.process=function(e,t){for(var n=this.length,i=t?2:1,r=t?n:1,o=this.rev,a=this.roots,s=0,l=0;l<n;l++){o[l][0]=e[s][0],o[l][1]=e[s][1];for(var c=n>>>1;c<=s&&0<c;)s-=c,c>>=1;s+=c}for(var u,h=this.a,f=this.b,d=this.c,p=this.d,y=this.e1,v=this.e2,l=0;l<n;l++)e[l][0]=o[l][0],e[l][1]=o[l][1];for(var l=0;l<n;l+=4)u=e[l],h[0]=u[0]+e[l+1][0],h[1]=u[1]+e[l+1][1],f[0]=e[l+2][0]+e[l+3][0],f[1]=e[l+2][1]+e[l+3][1],d[0]=u[0]-e[l+1][0],d[1]=u[1]-e[l+1][1],p[0]=e[l+2][0]-e[l+3][0],p[1]=e[l+2][1]-e[l+3][1],u[0]=h[0]+f[0],u[1]=h[1]+f[1],e[l+2][0]=h[0]-f[0],e[l+2][1]=h[1]-f[1],y[0]=d[0]-p[1],y[1]=d[1]+p[0],v[0]=d[0]+p[1],v[1]=d[1]-p[0],t?(e[l+1][0]=v[0],e[l+1][1]=v[1],e[l+3][0]=y[0],e[l+3][1]=y[1]):(e[l+1][0]=y[0],e[l+1][1]=y[1],e[l+3][0]=v[0],e[l+3][1]=v[1]);for(var l=4;l<n;l<<=1)for(var g=l<<1,m=n/g,_=0;_<n;_+=g)for(var c=0;c<l;c++){var b=c*m,w=e[l+_+c],k=e[_+c],C=a[b][0],S=a[b][i],T=w[0]*C-w[1]*S,O=w[0]*S+w[1]*C;w[0]=(k[0]-T)*r,w[1]=(k[1]-O)*r,k[0]=(k[0]+T)*r,k[1]=(k[1]+O)*r}},e}(),o=function(){function e(e,t){if(e)throw new Error("WHA?? No small frames allowed.");this.length=1024,this.shortLength=128,this.mid=(this.length-this.shortLength)/2,this.trans=this.shortLength/2,this.mdctShort=new l(2*this.shortLength),this.mdctLong=new l(2*this.length),this.overlaps=new Array(t);for(var n=0;n<t;n++)this.overlaps[n]=new Float32Array(this.length);this.buf=new Float32Array(2*this.length)}function t(e){for(var t=new Float32Array(e),n=0;n<e;n++)t[n]=Math.sin((n+.5)*(Math.PI/(2*e)));return t}function n(e,t){for(var n=Math.PI/t,i=new Float32Array(t),r=0,o=new Float32Array(t),a=e*n*(e*n),s=0;s<t;s++){for(var l=s*(t-s)*a,c=1,u=50;0<u;u--)c=c*l/(u*u)+1;r+=c,o[s]=r}r++;for(var s=0;s<t;s++)i[s]=Math.sqrt(o[s]/r);return i}var i=t(1024),r=t(128),o=n(4,1024),a=n(6,128),_=[i,o],b=[r,a];return e.prototype.process=function(e,t,n,i){var r=this.overlaps[i],o=e.windowShape[1],a=e.windowShape[0],s=_[o],l=b[o],c=_[a],u=b[a],h=this.length,f=this.shortLength,d=this.mid,p=this.trans,y=this.buf,v=this.mdctLong,g=this.mdctShort;switch(e.windowSequence){case C.ONLY_LONG_SEQUENCE:v.process(t,0,y,0);for(var m=0;m<h;m++)n[m]=r[m]+y[m]*c[m];for(var m=0;m<h;m++)r[m]=y[h+m]*s[h-1-m];break;case C.LONG_START_SEQUENCE:v.process(t,0,y,0);for(var m=0;m<h;m++)n[m]=r[m]+y[m]*c[m];for(var m=0;m<d;m++)r[m]=y[h+m];for(var m=0;m<f;m++)r[d+m]=y[h+d+m]*l[f-m-1];for(var m=0;m<d;m++)r[d+f+m]=0;break;case C.EIGHT_SHORT_SEQUENCE:for(var m=0;m<8;m++)g.process(t,m*f,y,2*m*f);for(var m=0;m<d;m++)n[m]=r[m];for(var m=0;m<f;m++)n[d+m]=r[d+m]+y[m]*u[m],n[d+1*f+m]=r[d+1*f+m]+y[1*f+m]*l[f-1-m]+y[2*f+m]*l[m],n[d+2*f+m]=r[d+2*f+m]+y[3*f+m]*l[f-1-m]+y[4*f+m]*l[m],n[d+3*f+m]=r[d+3*f+m]+y[5*f+m]*l[f-1-m]+y[6*f+m]*l[m],m<p&&(n[d+4*f+m]=r[d+4*f+m]+y[7*f+m]*l[f-1-m]+y[8*f+m]*l[m]);for(var m=0;m<f;m++)p<=m&&(r[d+4*f+m-h]=y[7*f+m]*l[f-1-m]+y[8*f+m]*l[m]),r[d+5*f+m-h]=y[9*f+m]*l[f-1-m]+y[10*f+m]*l[m],r[d+6*f+m-h]=y[11*f+m]*l[f-1-m]+y[12*f+m]*l[m],r[d+7*f+m-h]=y[13*f+m]*l[f-1-m]+y[14*f+m]*l[m],r[d+8*f+m-h]=y[15*f+m]*l[f-1-m];for(var m=0;m<d;m++)r[d+f+m]=0;break;case C.LONG_STOP_SEQUENCE:v.process(t,0,y,0);for(var m=0;m<d;m++)n[m]=r[m];for(var m=0;m<f;m++)n[d+m]=r[d+m]+y[d+m]*u[m];for(var m=0;m<d;m++)n[d+f+m]=r[d+f+m]+y[d+f+m];for(var m=0;m<h;m++)r[m]=y[h+m]*s[h-1-m]}},e}(),s=[!(a=[[[1,0,0,0,0,0],[5,16,1,0,0,0],[5,17,-1,0,0,0],[5,18,0,0,0,-1],[5,19,0,1,0,0],[5,20,0,0,0,1],[5,21,0,0,-1,0],[5,22,0,0,1,0],[5,23,0,-1,0,0],[7,96,1,-1,0,0],[7,97,-1,1,0,0],[7,98,0,0,-1,1],[7,99,0,1,-1,0],[7,100,0,-1,1,0],[7,101,0,0,1,-1],[7,102,1,1,0,0],[7,103,0,0,-1,-1],[7,104,-1,-1,0,0],[7,105,0,-1,-1,0],[7,106,1,0,-1,0],[7,107,0,1,0,-1],[7,108,-1,0,1,0],[7,109,0,0,1,1],[7,110,1,0,1,0],[7,111,0,-1,0,1],[7,112,0,1,1,0],[7,113,0,1,0,1],[7,114,-1,0,-1,0],[7,115,1,0,0,1],[7,116,-1,0,0,-1],[7,117,1,0,0,-1],[7,118,-1,0,0,1],[7,119,0,-1,0,-1],[9,480,1,1,-1,0],[9,481,-1,1,-1,0],[9,482,1,-1,1,0],[9,483,0,1,1,-1],[9,484,0,1,-1,1],[9,485,0,-1,1,1],[9,486,0,-1,1,-1],[9,487,1,-1,-1,0],[9,488,1,0,-1,1],[9,489,0,1,-1,-1],[9,490,-1,1,1,0],[9,491,-1,0,1,-1],[9,492,-1,-1,1,0],[9,493,0,-1,-1,1],[9,494,1,-1,0,1],[9,495,1,-1,0,-1],[9,496,-1,1,0,-1],[9,497,-1,-1,-1,0],[9,498,0,-1,-1,-1],[9,499,0,1,1,1],[9,500,1,0,1,-1],[9,501,1,1,0,1],[9,502,-1,1,0,1],[9,503,1,1,1,0],[10,1008,-1,-1,0,1],[10,1009,-1,0,-1,-1],[10,1010,1,1,0,-1],[10,1011,1,0,-1,-1],[10,1012,-1,0,-1,1],[10,1013,-1,-1,0,-1],[10,1014,-1,0,1,1],[10,1015,1,0,1,1],[11,2032,1,-1,1,-1],[11,2033,-1,1,-1,1],[11,2034,-1,1,1,-1],[11,2035,1,-1,-1,1],[11,2036,1,1,1,1],[11,2037,-1,-1,1,1],[11,2038,1,1,-1,-1],[11,2039,-1,-1,1,-1],[11,2040,-1,-1,-1,-1],[11,2041,1,1,-1,1],[11,2042,1,-1,1,1],[11,2043,-1,1,1,1],[11,2044,-1,1,-1,-1],[11,2045,-1,-1,-1,1],[11,2046,1,-1,-1,-1],[11,2047,1,1,1,-1]],[[3,0,0,0,0,0],[4,2,1,0,0,0],[5,6,-1,0,0,0],[5,7,0,0,0,1],[5,8,0,0,-1,0],[5,9,0,0,0,-1],[5,10,0,-1,0,0],[5,11,0,0,1,0],[5,12,0,1,0,0],[6,26,0,-1,1,0],[6,27,-1,1,0,0],[6,28,0,1,-1,0],[6,29,0,0,1,-1],[6,30,0,1,0,-1],[6,31,0,0,-1,1],[6,32,-1,0,0,-1],[6,33,1,-1,0,0],[6,34,1,0,-1,0],[6,35,-1,-1,0,0],[6,36,0,0,-1,-1],[6,37,1,0,1,0],[6,38,1,0,0,1],[6,39,0,-1,0,1],[6,40,-1,0,1,0],[6,41,0,1,0,1],[6,42,0,-1,-1,0],[6,43,-1,0,0,1],[6,44,0,-1,0,-1],[6,45,-1,0,-1,0],[6,46,1,1,0,0],[6,47,0,1,1,0],[6,48,0,0,1,1],[6,49,1,0,0,-1],[7,100,0,1,-1,1],[7,101,1,0,-1,1],[7,102,-1,1,-1,0],[7,103,0,-1,1,-1],[7,104,1,-1,1,0],[7,105,1,1,0,-1],[7,106,1,0,1,1],[7,107,-1,1,1,0],[7,108,0,-1,-1,1],[7,109,1,1,1,0],[7,110,-1,0,1,-1],[7,111,-1,-1,-1,0],[7,112,-1,0,-1,1],[7,113,1,-1,-1,0],[7,114,1,1,-1,0],[8,230,1,-1,0,1],[8,231,-1,1,0,-1],[8,232,-1,-1,1,0],[8,233,-1,0,1,1],[8,234,-1,-1,0,1],[8,235,-1,-1,0,-1],[8,236,0,-1,-1,-1],[8,237,1,0,1,-1],[8,238,1,0,-1,-1],[8,239,0,1,-1,-1],[8,240,0,1,1,1],[8,241,-1,1,0,1],[8,242,-1,0,-1,-1],[8,243,0,1,1,-1],[8,244,1,-1,0,-1],[8,245,0,-1,1,1],[8,246,1,1,0,1],[8,247,1,-1,1,-1],[8,248,-1,1,-1,1],[9,498,1,-1,-1,1],[9,499,-1,-1,-1,-1],[9,500,-1,1,1,-1],[9,501,-1,1,1,1],[9,502,1,1,1,1],[9,503,-1,-1,1,-1],[9,504,1,-1,1,1],[9,505,-1,1,-1,-1],[9,506,-1,-1,1,1],[9,507,1,1,-1,-1],[9,508,1,-1,-1,-1],[9,509,-1,-1,-1,1],[9,510,1,1,-1,1],[9,511,1,1,1,-1]],[[1,0,0,0,0,0],[4,8,1,0,0,0],[4,9,0,0,0,1],[4,10,0,1,0,0],[4,11,0,0,1,0],[5,24,1,1,0,0],[5,25,0,0,1,1],[6,52,0,1,1,0],[6,53,0,1,0,1],[6,54,1,0,1,0],[6,55,0,1,1,1],[6,56,1,0,0,1],[6,57,1,1,1,0],[7,116,1,1,1,1],[7,117,1,0,1,1],[7,118,1,1,0,1],[8,238,2,0,0,0],[8,239,0,0,0,2],[8,240,0,0,1,2],[8,241,2,1,0,0],[8,242,1,2,1,0],[9,486,0,0,2,1],[9,487,0,1,2,1],[9,488,1,2,0,0],[9,489,0,1,1,2],[9,490,2,1,1,0],[9,491,0,0,2,0],[9,492,0,2,1,0],[9,493,0,1,2,0],[9,494,0,2,0,0],[9,495,0,1,0,2],[9,496,2,0,1,0],[9,497,1,2,1,1],[9,498,0,2,1,1],[9,499,1,1,2,0],[9,500,1,1,2,1],[10,1002,1,2,0,1],[10,1003,1,0,2,0],[10,1004,1,0,2,1],[10,1005,0,2,0,1],[10,1006,2,1,1,1],[10,1007,1,1,1,2],[10,1008,2,1,0,1],[10,1009,1,0,1,2],[10,1010,0,0,2,2],[10,1011,0,1,2,2],[10,1012,2,2,1,0],[10,1013,1,2,2,0],[10,1014,1,0,0,2],[10,1015,2,0,0,1],[10,1016,0,2,2,1],[11,2034,2,2,0,0],[11,2035,1,2,2,1],[11,2036,1,1,0,2],[11,2037,2,0,1,1],[11,2038,1,1,2,2],[11,2039,2,2,1,1],[11,2040,0,2,2,0],[11,2041,0,2,1,2],[12,4084,1,0,2,2],[12,4085,2,2,0,1],[12,4086,2,1,2,0],[12,4087,2,2,2,0],[12,4088,0,2,2,2],[12,4089,2,2,2,1],[12,4090,2,1,2,1],[12,4091,1,2,1,2],[12,4092,1,2,2,2],[13,8186,0,2,0,2],[13,8187,2,0,2,0],[13,8188,1,2,0,2],[14,16378,2,0,2,1],[14,16379,2,1,1,2],[14,16380,2,1,0,2],[15,32762,2,2,2,2],[15,32763,2,2,1,2],[15,32764,2,1,2,2],[15,32765,2,0,1,2],[15,32766,2,0,0,2],[16,65534,2,2,0,2],[16,65535,2,0,2,2]],[[4,0,1,1,1,1],[4,1,0,1,1,1],[4,2,1,1,0,1],[4,3,1,1,1,0],[4,4,1,0,1,1],[4,5,1,0,0,0],[4,6,1,1,0,0],[4,7,0,0,0,0],[4,8,0,0,1,1],[4,9,1,0,1,0],[5,20,1,0,0,1],[5,21,0,1,1,0],[5,22,0,0,0,1],[5,23,0,1,0,1],[5,24,0,0,1,0],[5,25,0,1,0,0],[7,104,2,1,1,1],[7,105,1,1,2,1],[7,106,1,2,1,1],[7,107,1,1,1,2],[7,108,2,1,1,0],[7,109,2,1,0,1],[7,110,1,2,1,0],[7,111,2,0,1,1],[7,112,0,1,2,1],[8,226,0,1,1,2],[8,227,1,1,2,0],[8,228,0,2,1,1],[8,229,1,0,1,2],[8,230,1,2,0,1],[8,231,1,1,0,2],[8,232,1,0,2,1],[8,233,2,1,0,0],[8,234,2,0,1,0],[8,235,1,2,0,0],[8,236,2,0,0,1],[8,237,0,1,0,2],[8,238,0,2,1,0],[8,239,0,0,1,2],[8,240,0,1,2,0],[8,241,0,2,0,1],[8,242,1,0,0,2],[8,243,0,0,2,1],[8,244,1,0,2,0],[8,245,2,0,0,0],[8,246,0,0,0,2],[9,494,0,2,0,0],[9,495,0,0,2,0],[9,496,1,2,2,1],[9,497,2,2,1,1],[9,498,2,1,2,1],[9,499,1,1,2,2],[9,500,1,2,1,2],[9,501,2,1,1,2],[10,1004,1,2,2,0],[10,1005,2,2,1,0],[10,1006,2,1,2,0],[10,1007,0,2,2,1],[10,1008,0,1,2,2],[10,1009,2,2,0,1],[10,1010,0,2,1,2],[10,1011,2,0,2,1],[10,1012,1,0,2,2],[10,1013,2,2,2,1],[10,1014,1,2,0,2],[10,1015,2,0,1,2],[10,1016,2,1,0,2],[10,1017,1,2,2,2],[11,2036,2,1,2,2],[11,2037,2,2,1,2],[11,2038,0,2,2,0],[11,2039,2,2,0,0],[11,2040,0,0,2,2],[11,2041,2,0,2,0],[11,2042,0,2,0,2],[11,2043,2,0,0,2],[11,2044,2,2,2,2],[11,2045,0,2,2,2],[11,2046,2,2,2,0],[12,4094,2,2,0,2],[12,4095,2,0,2,2]],[[1,0,0,0],[4,8,-1,0],[4,9,1,0],[4,10,0,1],[4,11,0,-1],[5,24,1,-1],[5,25,-1,1],[5,26,-1,-1],[5,27,1,1],[7,112,-2,0],[7,113,0,2],[7,114,2,0],[7,115,0,-2],[8,232,-2,-1],[8,233,2,1],[8,234,-1,-2],[8,235,1,2],[8,236,-2,1],[8,237,2,-1],[8,238,-1,2],[8,239,1,-2],[8,240,-3,0],[8,241,3,0],[8,242,0,-3],[8,243,0,3],[9,488,-3,-1],[9,489,1,3],[9,490,3,1],[9,491,-1,-3],[9,492,-3,1],[9,493,3,-1],[9,494,1,-3],[9,495,-1,3],[9,496,-2,2],[9,497,2,2],[9,498,-2,-2],[9,499,2,-2],[10,1e3,-3,-2],[10,1001,3,-2],[10,1002,-2,3],[10,1003,2,-3],[10,1004,3,2],[10,1005,2,3],[10,1006,-3,2],[10,1007,-2,-3],[10,1008,0,-4],[10,1009,-4,0],[10,1010,4,1],[10,1011,4,0],[11,2024,-4,-1],[11,2025,0,4],[11,2026,4,-1],[11,2027,-1,-4],[11,2028,1,4],[11,2029,-1,4],[11,2030,-4,1],[11,2031,1,-4],[11,2032,3,-3],[11,2033,-3,-3],[11,2034,-3,3],[11,2035,-2,4],[11,2036,-4,-2],[11,2037,4,2],[11,2038,2,-4],[11,2039,2,4],[11,2040,3,3],[11,2041,-4,2],[12,4084,-2,-4],[12,4085,4,-2],[12,4086,3,-4],[12,4087,-4,-3],[12,4088,-4,3],[12,4089,3,4],[12,4090,-3,4],[12,4091,4,3],[12,4092,4,-3],[12,4093,-3,-4],[13,8188,4,-4],[13,8189,-4,4],[13,8190,4,4],[13,8191,-4,-4]],[[4,0,0,0],[4,1,1,0],[4,2,0,-1],[4,3,0,1],[4,4,-1,0],[4,5,1,1],[4,6,-1,1],[4,7,1,-1],[4,8,-1,-1],[6,36,2,-1],[6,37,2,1],[6,38,-2,1],[6,39,-2,-1],[6,40,-2,0],[6,41,-1,2],[6,42,2,0],[6,43,1,-2],[6,44,1,2],[6,45,0,-2],[6,46,-1,-2],[6,47,0,2],[6,48,2,-2],[6,49,-2,2],[6,50,-2,-2],[6,51,2,2],[7,104,-3,1],[7,105,3,1],[7,106,3,-1],[7,107,-1,3],[7,108,-3,-1],[7,109,1,3],[7,110,1,-3],[7,111,-1,-3],[7,112,3,0],[7,113,-3,0],[7,114,0,-3],[7,115,0,3],[7,116,3,2],[8,234,-3,-2],[8,235,-2,3],[8,236,2,3],[8,237,3,-2],[8,238,2,-3],[8,239,-2,-3],[8,240,-3,2],[8,241,3,3],[9,484,3,-3],[9,485,-3,-3],[9,486,-3,3],[9,487,1,-4],[9,488,-1,-4],[9,489,4,1],[9,490,-4,1],[9,491,-4,-1],[9,492,1,4],[9,493,4,-1],[9,494,-1,4],[9,495,0,-4],[9,496,-4,2],[9,497,-4,-2],[9,498,2,4],[9,499,-2,-4],[9,500,-4,0],[9,501,4,2],[9,502,4,-2],[9,503,-2,4],[9,504,4,0],[9,505,2,-4],[9,506,0,4],[10,1014,-3,-4],[10,1015,-3,4],[10,1016,3,-4],[10,1017,4,-3],[10,1018,3,4],[10,1019,4,3],[10,1020,-4,3],[10,1021,-4,-3],[11,2044,4,4],[11,2045,-4,4],[11,2046,-4,-4],[11,2047,4,-4]],[[1,0,0,0],[3,4,1,0],[3,5,0,1],[4,12,1,1],[6,52,2,1],[6,53,1,2],[6,54,2,0],[6,55,0,2],[7,112,3,1],[7,113,1,3],[7,114,2,2],[7,115,3,0],[7,116,0,3],[8,234,2,3],[8,235,3,2],[8,236,1,4],[8,237,4,1],[8,238,1,5],[8,239,5,1],[8,240,3,3],[8,241,2,4],[8,242,0,4],[8,243,4,0],[9,488,4,2],[9,489,2,5],[9,490,5,2],[9,491,0,5],[9,492,6,1],[9,493,5,0],[9,494,1,6],[9,495,4,3],[9,496,3,5],[9,497,3,4],[9,498,5,3],[9,499,2,6],[9,500,6,2],[9,501,1,7],[10,1004,3,6],[10,1005,0,6],[10,1006,6,0],[10,1007,4,4],[10,1008,7,1],[10,1009,4,5],[10,1010,7,2],[10,1011,5,4],[10,1012,6,3],[10,1013,2,7],[10,1014,7,3],[10,1015,6,4],[10,1016,5,5],[10,1017,4,6],[10,1018,3,7],[11,2038,7,0],[11,2039,0,7],[11,2040,6,5],[11,2041,5,6],[11,2042,7,4],[11,2043,4,7],[11,2044,5,7],[11,2045,7,5],[12,4092,7,6],[12,4093,6,6],[12,4094,6,7],[12,4095,7,7]],[[3,0,1,1],[4,2,2,1],[4,3,1,0],[4,4,1,2],[4,5,0,1],[4,6,2,2],[5,14,0,0],[5,15,2,0],[5,16,0,2],[5,17,3,1],[5,18,1,3],[5,19,3,2],[5,20,2,3],[6,42,3,3],[6,43,4,1],[6,44,1,4],[6,45,4,2],[6,46,2,4],[6,47,3,0],[6,48,0,3],[6,49,4,3],[6,50,3,4],[6,51,5,2],[7,104,5,1],[7,105,2,5],[7,106,1,5],[7,107,5,3],[7,108,3,5],[7,109,4,4],[7,110,5,4],[7,111,0,4],[7,112,4,5],[7,113,4,0],[7,114,2,6],[7,115,6,2],[7,116,6,1],[7,117,1,6],[8,236,3,6],[8,237,6,3],[8,238,5,5],[8,239,5,0],[8,240,6,4],[8,241,0,5],[8,242,4,6],[8,243,7,1],[8,244,7,2],[8,245,2,7],[8,246,6,5],[8,247,7,3],[8,248,1,7],[8,249,5,6],[8,250,3,7],[9,502,6,6],[9,503,7,4],[9,504,6,0],[9,505,4,7],[9,506,0,6],[9,507,7,5],[9,508,7,6],[9,509,6,7],[10,1020,5,7],[10,1021,7,0],[10,1022,0,7],[10,1023,7,7]],[[1,0,0,0],[3,4,1,0],[3,5,0,1],[4,12,1,1],[6,52,2,1],[6,53,1,2],[6,54,2,0],[6,55,0,2],[7,112,3,1],[7,113,2,2],[7,114,1,3],[8,230,3,0],[8,231,0,3],[8,232,2,3],[8,233,3,2],[8,234,1,4],[8,235,4,1],[8,236,2,4],[8,237,1,5],[9,476,4,2],[9,477,3,3],[9,478,0,4],[9,479,4,0],[9,480,5,1],[9,481,2,5],[9,482,1,6],[9,483,3,4],[9,484,5,2],[9,485,6,1],[9,486,4,3],[10,974,0,5],[10,975,2,6],[10,976,5,0],[10,977,1,7],[10,978,3,5],[10,979,1,8],[10,980,8,1],[10,981,4,4],[10,982,5,3],[10,983,6,2],[10,984,7,1],[10,985,0,6],[10,986,8,2],[10,987,2,8],[10,988,3,6],[10,989,2,7],[10,990,4,5],[10,991,9,1],[10,992,1,9],[10,993,7,2],[11,1988,6,0],[11,1989,5,4],[11,1990,6,3],[11,1991,8,3],[11,1992,0,7],[11,1993,9,2],[11,1994,3,8],[11,1995,4,6],[11,1996,3,7],[11,1997,0,8],[11,1998,10,1],[11,1999,6,4],[11,2e3,2,9],[11,2001,5,5],[11,2002,8,0],[11,2003,7,0],[11,2004,7,3],[11,2005,10,2],[11,2006,9,3],[11,2007,8,4],[11,2008,1,10],[11,2009,7,4],[11,2010,6,5],[11,2011,5,6],[11,2012,4,8],[11,2013,4,7],[11,2014,3,9],[11,2015,11,1],[11,2016,5,8],[11,2017,9,0],[11,2018,8,5],[12,4038,10,3],[12,4039,2,10],[12,4040,0,9],[12,4041,11,2],[12,4042,9,4],[12,4043,6,6],[12,4044,12,1],[12,4045,4,9],[12,4046,8,6],[12,4047,1,11],[12,4048,9,5],[12,4049,10,4],[12,4050,5,7],[12,4051,7,5],[12,4052,2,11],[12,4053,1,12],[12,4054,12,2],[12,4055,11,3],[12,4056,3,10],[12,4057,5,9],[12,4058,6,7],[12,4059,8,7],[12,4060,11,4],[12,4061,0,10],[12,4062,7,6],[12,4063,12,3],[12,4064,10,0],[12,4065,10,5],[12,4066,4,10],[12,4067,6,8],[12,4068,2,12],[12,4069,9,6],[12,4070,9,7],[12,4071,4,11],[12,4072,11,0],[12,4073,6,9],[12,4074,3,11],[12,4075,5,10],[13,8152,8,8],[13,8153,7,8],[13,8154,12,5],[13,8155,3,12],[13,8156,11,5],[13,8157,7,7],[13,8158,12,4],[13,8159,11,6],[13,8160,10,6],[13,8161,4,12],[13,8162,7,9],[13,8163,5,11],[13,8164,0,11],[13,8165,12,6],[13,8166,6,10],[13,8167,12,0],[13,8168,10,7],[13,8169,5,12],[13,8170,7,10],[13,8171,9,8],[13,8172,0,12],[13,8173,11,7],[13,8174,8,9],[13,8175,9,9],[13,8176,10,8],[13,8177,7,11],[13,8178,12,7],[13,8179,6,11],[13,8180,8,11],[13,8181,11,8],[13,8182,7,12],[13,8183,6,12],[14,16368,8,10],[14,16369,10,9],[14,16370,8,12],[14,16371,9,10],[14,16372,9,11],[14,16373,9,12],[14,16374,10,11],[14,16375,12,9],[14,16376,10,10],[14,16377,11,9],[14,16378,12,8],[14,16379,11,10],[14,16380,12,10],[14,16381,12,11],[15,32764,10,12],[15,32765,11,11],[15,32766,11,12],[15,32767,12,12]],[[4,0,1,1],[4,1,1,2],[4,2,2,1],[5,6,2,2],[5,7,1,0],[5,8,0,1],[5,9,1,3],[5,10,3,2],[5,11,3,1],[5,12,2,3],[5,13,3,3],[6,28,2,0],[6,29,0,2],[6,30,2,4],[6,31,4,2],[6,32,1,4],[6,33,4,1],[6,34,0,0],[6,35,4,3],[6,36,3,4],[6,37,3,0],[6,38,0,3],[6,39,4,4],[6,40,2,5],[6,41,5,2],[7,84,1,5],[7,85,5,1],[7,86,5,3],[7,87,3,5],[7,88,5,4],[7,89,4,5],[7,90,6,2],[7,91,2,6],[7,92,6,3],[7,93,4,0],[7,94,6,1],[7,95,0,4],[7,96,1,6],[7,97,3,6],[7,98,5,5],[7,99,6,4],[7,100,4,6],[8,202,6,5],[8,203,7,2],[8,204,3,7],[8,205,2,7],[8,206,5,6],[8,207,8,2],[8,208,7,3],[8,209,5,0],[8,210,7,1],[8,211,0,5],[8,212,8,1],[8,213,1,7],[8,214,8,3],[8,215,7,4],[8,216,4,7],[8,217,2,8],[8,218,6,6],[8,219,7,5],[8,220,1,8],[8,221,3,8],[8,222,8,4],[8,223,4,8],[8,224,5,7],[8,225,8,5],[8,226,5,8],[9,454,7,6],[9,455,6,7],[9,456,9,2],[9,457,6,0],[9,458,6,8],[9,459,9,3],[9,460,3,9],[9,461,9,1],[9,462,2,9],[9,463,0,6],[9,464,8,6],[9,465,9,4],[9,466,4,9],[9,467,10,2],[9,468,1,9],[9,469,7,7],[9,470,8,7],[9,471,9,5],[9,472,7,8],[9,473,10,3],[9,474,5,9],[9,475,10,4],[9,476,2,10],[9,477,10,1],[9,478,3,10],[9,479,9,6],[9,480,6,9],[9,481,8,0],[9,482,4,10],[9,483,7,0],[9,484,11,2],[10,970,7,9],[10,971,11,3],[10,972,10,6],[10,973,1,10],[10,974,11,1],[10,975,9,7],[10,976,0,7],[10,977,8,8],[10,978,10,5],[10,979,3,11],[10,980,5,10],[10,981,8,9],[10,982,11,5],[10,983,0,8],[10,984,11,4],[10,985,2,11],[10,986,7,10],[10,987,6,10],[10,988,10,7],[10,989,4,11],[10,990,1,11],[10,991,12,2],[10,992,9,8],[10,993,12,3],[10,994,11,6],[10,995,5,11],[10,996,12,4],[10,997,11,7],[10,998,12,5],[10,999,3,12],[10,1e3,6,11],[10,1001,9,0],[10,1002,10,8],[10,1003,10,0],[10,1004,12,1],[10,1005,0,9],[10,1006,4,12],[10,1007,9,9],[10,1008,12,6],[10,1009,2,12],[10,1010,8,10],[11,2022,9,10],[11,2023,1,12],[11,2024,11,8],[11,2025,12,7],[11,2026,7,11],[11,2027,5,12],[11,2028,6,12],[11,2029,10,9],[11,2030,8,11],[11,2031,12,8],[11,2032,0,10],[11,2033,7,12],[11,2034,11,0],[11,2035,10,10],[11,2036,11,9],[11,2037,11,10],[11,2038,0,11],[11,2039,11,11],[11,2040,9,11],[11,2041,10,11],[11,2042,12,0],[11,2043,8,12],[12,4088,12,9],[12,4089,10,12],[12,4090,9,12],[12,4091,11,12],[12,4092,12,11],[12,4093,0,12],[12,4094,12,10],[12,4095,12,12]],[[4,0,0,0],[4,1,1,1],[5,4,16,16],[5,5,1,0],[5,6,0,1],[5,7,2,1],[5,8,1,2],[5,9,2,2],[6,20,1,3],[6,21,3,1],[6,22,3,2],[6,23,2,0],[6,24,2,3],[6,25,0,2],[6,26,3,3],[7,54,4,1],[7,55,1,4],[7,56,4,2],[7,57,2,4],[7,58,4,3],[7,59,3,4],[7,60,3,0],[7,61,0,3],[7,62,5,1],[7,63,5,2],[7,64,2,5],[7,65,4,4],[7,66,1,5],[7,67,5,3],[7,68,3,5],[7,69,5,4],[8,140,4,5],[8,141,6,2],[8,142,2,6],[8,143,6,1],[8,144,6,3],[8,145,3,6],[8,146,1,6],[8,147,4,16],[8,148,3,16],[8,149,16,5],[8,150,16,3],[8,151,16,4],[8,152,6,4],[8,153,16,6],[8,154,4,0],[8,155,4,6],[8,156,0,4],[8,157,2,16],[8,158,5,5],[8,159,5,16],[8,160,16,7],[8,161,16,2],[8,162,16,8],[8,163,2,7],[8,164,7,2],[8,165,3,7],[8,166,6,5],[8,167,5,6],[8,168,6,16],[8,169,16,10],[8,170,7,3],[8,171,7,1],[8,172,16,9],[8,173,7,16],[8,174,1,16],[8,175,1,7],[8,176,4,7],[8,177,16,11],[8,178,7,4],[8,179,16,12],[8,180,8,16],[8,181,16,1],[8,182,6,6],[8,183,9,16],[8,184,2,8],[8,185,5,7],[8,186,10,16],[8,187,16,13],[8,188,8,3],[8,189,8,2],[8,190,3,8],[8,191,5,0],[8,192,16,14],[8,193,11,16],[8,194,7,5],[8,195,4,8],[8,196,6,7],[8,197,7,6],[8,198,0,5],[9,398,8,4],[9,399,16,15],[9,400,12,16],[9,401,1,8],[9,402,8,1],[9,403,14,16],[9,404,5,8],[9,405,13,16],[9,406,3,9],[9,407,8,5],[9,408,7,7],[9,409,2,9],[9,410,8,6],[9,411,9,2],[9,412,9,3],[9,413,15,16],[9,414,4,9],[9,415,6,8],[9,416,6,0],[9,417,9,4],[9,418,5,9],[9,419,8,7],[9,420,7,8],[9,421,1,9],[9,422,10,3],[9,423,0,6],[9,424,10,2],[9,425,9,1],[9,426,9,5],[9,427,4,10],[9,428,2,10],[9,429,9,6],[9,430,3,10],[9,431,6,9],[9,432,10,4],[9,433,8,8],[9,434,10,5],[9,435,9,7],[9,436,11,3],[9,437,1,10],[9,438,7,0],[9,439,10,6],[9,440,7,9],[9,441,3,11],[9,442,5,10],[9,443,10,1],[9,444,4,11],[9,445,11,2],[9,446,13,2],[9,447,6,10],[9,448,13,3],[9,449,2,11],[9,450,16,0],[9,451,5,11],[9,452,11,5],[10,906,11,4],[10,907,9,8],[10,908,7,10],[10,909,8,9],[10,910,0,16],[10,911,4,13],[10,912,0,7],[10,913,3,13],[10,914,11,6],[10,915,13,1],[10,916,13,4],[10,917,12,3],[10,918,2,13],[10,919,13,5],[10,920,8,10],[10,921,6,11],[10,922,10,8],[10,923,10,7],[10,924,14,2],[10,925,12,4],[10,926,1,11],[10,927,4,12],[10,928,11,1],[10,929,3,12],[10,930,1,13],[10,931,12,2],[10,932,7,11],[10,933,3,14],[10,934,5,12],[10,935,5,13],[10,936,14,4],[10,937,4,14],[10,938,11,7],[10,939,14,3],[10,940,12,5],[10,941,13,6],[10,942,12,6],[10,943,8,0],[10,944,11,8],[10,945,2,12],[10,946,9,9],[10,947,14,5],[10,948,6,13],[10,949,10,10],[10,950,15,2],[10,951,8,11],[10,952,9,10],[10,953,14,6],[10,954,10,9],[10,955,5,14],[10,956,11,9],[10,957,14,1],[10,958,2,14],[10,959,6,12],[10,960,1,12],[10,961,13,8],[10,962,0,8],[10,963,13,7],[10,964,7,12],[10,965,12,7],[10,966,7,13],[10,967,15,3],[10,968,12,1],[10,969,6,14],[10,970,2,15],[10,971,15,5],[10,972,15,4],[10,973,1,14],[10,974,9,11],[10,975,4,15],[10,976,14,7],[10,977,8,13],[10,978,13,9],[10,979,8,12],[10,980,5,15],[10,981,3,15],[10,982,10,11],[10,983,11,10],[10,984,12,8],[10,985,15,6],[10,986,15,7],[10,987,8,14],[10,988,15,1],[10,989,7,14],[10,990,9,0],[10,991,0,9],[10,992,9,13],[10,993,9,12],[10,994,12,9],[10,995,14,8],[10,996,10,13],[10,997,14,9],[10,998,12,10],[10,999,6,15],[10,1e3,7,15],[11,2002,9,14],[11,2003,15,8],[11,2004,11,11],[11,2005,11,14],[11,2006,1,15],[11,2007,10,12],[11,2008,10,14],[11,2009,13,11],[11,2010,13,10],[11,2011,11,13],[11,2012,11,12],[11,2013,8,15],[11,2014,14,11],[11,2015,13,12],[11,2016,12,13],[11,2017,15,9],[11,2018,14,10],[11,2019,10,0],[11,2020,12,11],[11,2021,9,15],[11,2022,0,10],[11,2023,12,12],[11,2024,11,0],[11,2025,12,14],[11,2026,10,15],[11,2027,13,13],[11,2028,0,13],[11,2029,14,12],[11,2030,15,10],[11,2031,15,11],[11,2032,11,15],[11,2033,14,13],[11,2034,13,0],[11,2035,0,11],[11,2036,13,14],[11,2037,15,12],[11,2038,15,13],[11,2039,12,15],[11,2040,14,0],[11,2041,14,14],[11,2042,13,15],[11,2043,12,0],[11,2044,14,15],[12,4090,0,14],[12,4091,0,12],[12,4092,15,14],[12,4093,15,0],[12,4094,0,15],[12,4095,15,15]]]),!(n=[[1,0,60],[3,4,59],[4,10,61],[4,11,58],[4,12,62],[5,26,57],[5,27,63],[6,56,56],[6,57,64],[6,58,55],[6,59,65],[7,120,66],[7,121,54],[7,122,67],[8,246,53],[8,247,68],[8,248,52],[8,249,69],[8,250,51],[9,502,70],[9,503,50],[9,504,49],[9,505,71],[10,1012,72],[10,1013,48],[10,1014,73],[10,1015,47],[10,1016,74],[10,1017,46],[11,2036,76],[11,2037,75],[11,2038,77],[11,2039,78],[11,2040,45],[11,2041,43],[12,4084,44],[12,4085,79],[12,4086,42],[12,4087,41],[12,4088,80],[12,4089,40],[13,8180,81],[13,8181,39],[13,8182,82],[13,8183,38],[13,8184,83],[14,16370,37],[14,16371,35],[14,16372,85],[14,16373,33],[14,16374,36],[14,16375,34],[14,16376,84],[14,16377,32],[15,32756,87],[15,32757,89],[15,32758,30],[15,32759,31],[16,65520,86],[16,65521,29],[16,65522,26],[16,65523,27],[16,65524,28],[16,65525,24],[16,65526,88],[17,131054,25],[17,131055,22],[17,131056,23],[18,262114,90],[18,262115,21],[18,262116,19],[18,262117,3],[18,262118,1],[18,262119,2],[18,262120,0],[19,524242,98],[19,524243,99],[19,524244,100],[19,524245,101],[19,524246,102],[19,524247,117],[19,524248,97],[19,524249,91],[19,524250,92],[19,524251,93],[19,524252,94],[19,524253,95],[19,524254,96],[19,524255,104],[19,524256,111],[19,524257,112],[19,524258,113],[19,524259,114],[19,524260,115],[19,524261,116],[19,524262,110],[19,524263,105],[19,524264,106],[19,524265,107],[19,524266,108],[19,524267,109],[19,524268,118],[19,524269,6],[19,524270,8],[19,524271,9],[19,524272,10],[19,524273,5],[19,524274,103],[19,524275,120],[19,524276,119],[19,524277,4],[19,524278,7],[19,524279,15],[19,524280,16],[19,524281,18],[19,524282,20],[19,524283,17],[19,524284,11],[19,524285,12],[19,524286,14],[19,524287,13]]),!0,!0,!1,!1,!0,!0,!0,!0,!0],T={findOffset:function(e,t){for(var n=0,i=t[n][0],r=e.read(i);r!==t[n][1];){var o=t[++n][0]-i;i=t[n][0],r<<=o,r|=e.read(o)}return n},signValues:function(e,t,n,i){for(var r=n;r<n+i;r++)t[r]&&e.read(1)&&(t[r]=-t[r])},getEscape:function(e,t){for(var n=4;e.read(1);)n++;var i=e.read(n)|1<<n;return t<0?-i:i},decodeScaleFactor:function(e){var t=this.findOffset(e,n);return n[t][2]},decodeSpectralData:function(e,t,n,i){var r=a[t-1],o=this.findOffset(e,r);if(n[i]=r[o][2],n[i+1]=r[o][3],t<5&&(n[i+2]=r[o][4],n[i+3]=r[o][5]),t<11)s[t-1]&&this.signValues(e,n,i,t<5?4:2);else{if(!(11===t||15<t))throw new Error("Huffman: unknown spectral codebook: "+t);this.signValues(e,n,i,t<5?4:2),16===Math.abs(n[i])&&(n[i]=this.getEscape(e,n[i])),16===Math.abs(n[i+1])&&(n[i+1]=this.getEscape(e,n[i+1]))}}},C=function(){function S(e){this.info=new n,this.bandTypes=new Int32Array(t),this.sectEnd=new Int32Array(t),this.data=new Float32Array(e.frameLength),this.scaleFactors=new Float32Array(t),this.randomState=523124044,this.tns=new N(e),this.specBuf=new Int32Array(4)}S.ZERO_BT=0,S.FIRST_PAIR_BT=5,S.ESC_BT=11,S.NOISE_BT=13,S.INTENSITY_BT2=14,S.INTENSITY_BT=15,S.ONLY_LONG_SEQUENCE=0,S.LONG_START_SEQUENCE=1,S.EIGHT_SHORT_SEQUENCE=2,S.LONG_STOP_SEQUENCE=3;var t=120,e=8;function n(){this.windowShape=new Int32Array(2),this.windowSequence=S.ONLY_LONG_SEQUENCE,this.groupLength=new Int32Array(e),this.ltpData1Present=!1,this.ltpData2Present=!1}return S.prototype={decode:function(e,t,n){if(this.globalGain=e.read(8),n||this.info.decode(e,t,n),this.decodeBandTypes(e,t),this.decodeScaleFactors(e),this.pulsePresent=e.read(1)){if(this.info.windowSequence===S.EIGHT_SHORT_SEQUENCE)throw new Error("Pulse tool not allowed in eight short sequence.");this.decodePulseData(e)}if((this.tnsPresent=e.read(1))&&this.tns.decode(e,this.info),this.gainPresent=e.read(1))throw new Error("TODO: decode gain control/SSR");this.decodeSpectralData(e)},decodeBandTypes:function(e,t){for(var n=this.info.windowSequence===S.EIGHT_SHORT_SEQUENCE?3:5,i=this.info.groupCount,r=this.info.maxSFB,o=this.bandTypes,a=this.sectEnd,s=0,l=(1<<n)-1,c=0;c<i;c++)for(var u=0;u<r;){var h,f=u,d=e.read(4);if(12===d)throw new Error("Invalid band type: 12");for(;(h=e.read(n))===l;)f+=h;if(r<(f+=h))throw new Error("Too many bands ("+f+" > "+r+")");for(;u<f;u++)o[s]=d,a[s++]=f}},decodeScaleFactors:function(e){for(var t=this.info.groupCount,n=this.info.maxSFB,i=[this.globalGain,this.globalGain-90,0],r=0,o=!0,a=this.scaleFactors,s=this.sectEnd,l=this.bandTypes,c=0;c<t;c++)for(var u=0;u<n;){var h=s[r];switch(l[r]){case S.ZERO_BT:for(;u<h;u++,r++)a[r]=0;break;case S.INTENSITY_BT:case S.INTENSITY_BT2:for(;u<h;u++,r++){i[2]+=T.decodeScaleFactor(e)-60;var f=Math.min(Math.max(i[2],-155),100);a[r]=x[200-f]}break;case S.NOISE_BT:for(;u<h;u++,r++){o?(i[1]+=e.read(9)-256,o=!1):i[1]+=T.decodeScaleFactor(e)-60;var f=Math.min(Math.max(i[1],-100),155);a[r]=-x[f+200]}break;default:for(;u<h;u++,r++){if(i[0]+=T.decodeScaleFactor(e)-60,255<i[0])throw new Error("Scalefactor out of range: "+i[0]);a[r]=x[i[0]-100+200]}}}},decodePulseData:function(e){var t=e.read(2)+1,n=e.read(6);if(n>=this.info.swbCount)throw new Error("Pulse SWB out of range: "+n);if(this.pulseOffset&&this.pulseOffset.length===t||(this.pulseOffset=new Int32Array(t),this.pulseAmp=new Int32Array(t)),this.pulseOffset[0]=this.info.swbOffsets[n]+e.read(5),this.pulseAmp[0]=e.read(4),1023<this.pulseOffset[0])throw new Error("Pulse offset out of range: "+this.pulseOffset[0]);for(var i=1;i<t;i++){if(this.pulseOffset[i]=e.read(5)+this.pulseOffset[i-1],1023<this.pulseOffset[i])throw new Error("Pulse offset out of range: "+this.pulseOffset[i]);this.pulseAmp[i]=e.read(4)}},decodeSpectralData:function(e){for(var t=this.data,n=this.info,i=n.maxSFB,r=n.groupCount,o=n.swbOffsets,a=this.bandTypes,s=this.scaleFactors,l=this.specBuf,c=0,u=0,h=0;h<r;h++){for(var f=n.groupLength[h],d=0;d<i;d++,u++){var p=a[u],y=c+o[d],v=o[d+1]-o[d];if(p===S.ZERO_BT||p===S.INTENSITY_BT||p===S.INTENSITY_BT2)for(var g=0;g<f;g++,y+=128)for(var m=y;m<y+v;m++)t[m]=0;else if(p===S.NOISE_BT)for(var g=0;g<f;g++,y+=128){for(var _=0,b=0;b<v;b++)this.randomState=1015568748*this.randomState|0,t[y+b]=this.randomState,_+=t[y+b]*t[y+b];for(var w=s[u]/Math.sqrt(_),b=0;b<v;b++)t[y+b]*=w}else for(var g=0;g<f;g++,y+=128)for(var k=S.FIRST_PAIR_BT<=p?2:4,b=0;b<v;b+=k){T.decodeSpectralData(e,p,l,0);for(var C=0;C<k;C++)t[y+b+C]=0<l[C]?A[l[C]]:-A[-l[C]],t[y+b+C]*=s[u]}}c+=f<<7}if(this.pulsePresent)throw new Error("TODO: add pulse data")}},n.prototype={decode:function(e,t,n){if(e.advance(1),this.windowSequence=e.read(2),this.windowShape[0]=this.windowShape[1],this.windowShape[1]=e.read(1),this.groupCount=1,this.groupLength[0]=1,this.windowSequence===S.EIGHT_SHORT_SEQUENCE){this.maxSFB=e.read(4);for(var i=0;i<7;i++)e.read(1)?this.groupLength[this.groupCount-1]++:(this.groupCount++,this.groupLength[this.groupCount-1]=1);this.windowCount=8,this.swbOffsets=B[t.sampleIndex],this.swbCount=M[t.sampleIndex],this.predictorPresent=!1}else this.maxSFB=e.read(6),this.windowCount=1,this.swbOffsets=L[t.sampleIndex],this.swbCount=R[t.sampleIndex],this.predictorPresent=!!e.read(1),this.predictorPresent&&this.decodePrediction(e,t,n)},decodePrediction:function(e,t,n){throw new Error("Prediction not implemented.")}},S}(),l=function(){function e(e){switch(this.N=e,this.N2=e>>>1,this.N4=e>>>2,this.N8=e>>>3,e){case 2048:this.sincos=c;break;case 256:this.sincos=u;break;case 1920:this.sincos=h;break;case 240:this.sincos=f;break;default:throw new Error("unsupported MDCT length: "+e)}this.fft=new i(this.N4),this.buf=new Array(this.N4);for(var t=0;t<this.N4;t++)this.buf[t]=new Float32Array(2);this.tmp=new Float32Array(2)}return e.prototype.process=function(e,t,n,i){for(var r=this.N2,o=this.N4,a=this.N8,s=this.buf,l=this.tmp,c=this.sincos,u=this.fft,h=0;h<o;h++)s[h][1]=e[t+2*h]*c[h][0]+e[t+r-1-2*h]*c[h][1],s[h][0]=e[t+r-1-2*h]*c[h][0]-e[t+2*h]*c[h][1];u.process(s,!1);for(var h=0;h<o;h++)l[0]=s[h][0],l[1]=s[h][1],s[h][1]=l[1]*c[h][0]+l[0]*c[h][1],s[h][0]=l[0]*c[h][0]-l[1]*c[h][1];for(var h=0;h<a;h+=2)n[i+2*h]=s[a+h][1],n[i+2+2*h]=s[a+1+h][1],n[i+1+2*h]=-s[a-1-h][0],n[i+3+2*h]=-s[a-2-h][0],n[i+o+2*h]=s[h][0],n[i+o+2+2*h]=s[1+h][0],n[i+o+1+2*h]=-s[o-1-h][1],n[i+o+3+2*h]=-s[o-2-h][1],n[i+r+2*h]=s[a+h][0],n[i+r+2+2*h]=s[a+1+h][0],n[i+r+1+2*h]=-s[a-1-h][1],n[i+r+3+2*h]=-s[a-2-h][1],n[i+r+o+2*h]=-s[h][1],n[i+r+o+2+2*h]=-s[1+h][1],n[i+r+o+1+2*h]=s[o-1-h][0],n[i+r+o+3+2*h]=s[o-2-h][0]},e}(),c=[[.031249997702054,11984224612e-15],[.031249813866531,.000107857810004],[.031249335895858,.000203730380198],[.031248563794535,.000299601032804],[.031247497569829,.000395468865451],[.031246137231775,.000491332975794],[.031244482793177,.000587192461525],[.031242534269608,.000683046420376],[.031240291679407,.000778893950134],[.031237755043684,.000874734148645],[.031234924386313,.000970566113826],[.031231799733938,.001066388943669],[.03122838111597,.001162201736253],[.031224668564585,.001258003589751],[.031220662114728,.001353793602441],[.031216361804108,.00144957087271],[.031211767673203,.001545334499065],[.031206879765253,.001641083580144],[.031201698126266,.001736817214719],[.031196222805014,.001832534501709],[.031190453853031,.001928234540186],[.031184391324617,.002023916429386],[.031178035276836,.002119579268713],[.031171385769513,.002215222157753],[.031164442865236,.002310844196278],[.031157206629353,.002406444484258],[.031149677129975,.002502022121865],[.031141854437973,.002597576209488],[.031133738626977,.002693105847734],[.031125329773375,.002788610137442],[.031116627956316,.002884088179689],[.031107633257703,.002979539075801],[.0310983457622,.003074961927355],[.031088765557222,.003170355836197],[.031078892732942,.003265719904442],[.031068727382288,.003361053234488],[.031058269600939,.003456354929021],[.031047519487329,.003551624091024],[.03103647714264,.00364685982379],[.031025142670809,.003742061230921],[.031013516178519,.003837227416347],[.031001597775203,.003932357484328],[.030989387573042,.004027450539462],[.030976885686963,.004122505686697],[.030964092234638,.00421752203134],[.030951007336485,.004312498679058],[.030937631115663,.004407434735897],[.030923963698074,.004502329308281],[.030910005212362,.004597181503027],[.030895755789908,.00469199042735],[.030881215564835,.004786755188872],[.030866384674,.004881474895632],[.030851263256996,.00497614865609],[.030835851456154,.005070775579142],[.030820149416533,.005165354774124],[.030804157285929,.005259885350819],[.030787875214864,.005354366419469],[.030771303356593,.005448797090784],[.030754441867095,.005543176475946],[.030737290905077,.005637503686619],[.030719850631972,.005731777834961],[.030702121211932,.005825998033626],[.030684102811835,.00592016339578],[.030665795601276,.006014273035101],[.03064719975257,.006108326065793],[.030628315440748,.006202321602594],[.030609142843557,.006296258760782],[.030589682141455,.006390136656185],[.030569933517616,.006483954405188],[.030549897157919,.006577711124743],[.030529573250956,.006671405932375],[.030508961988022,.006765037946194],[.030488063563118,.0068586062849],[.030466878172949,.006952110067791],[.030445406016919,.007045548414774],[.030423647297133,.007138920446372],[.030401602218392,.007232225283733],[.030379270988192,.007325462048634],[.030356653816724,.007418629863497],[.030333750916869,.00751172785139],[.030310562504198,.00760475513604],[.030287088796968,.007697710841838],[.030263330016124,.007790594093851],[.030239286385293,.007883404017824],[.030214958130781,.007976139740197],[.030190345481576,.008068800388104],[.030165448669342,.00816138508939],[.030140267928416,.00825389297261],[.030114803495809,.008346323167047],[.030089055611203,.008438674802711],[.030063024516947,.008530947010354],[.030036710458054,.008623138921475],[.030010113682202,.008715249668328],[.029983234439732,.008807278383932],[.02995607298364,.008899224202078],[.02992862956958,.008991086257336],[.02990090445586,.009082863685067],[.029872897903441,.009174555621425],[.029844610175929,.009266161203371],[.029816041539579,.009357679568679],[.029787192263292,.009449109855944],[.029758062618606,.009540451204587],[.029728652879702,.009631702754871],[.029698963323395,.0097228636479],[.029668994229134,.009813933025633],[.029638745879,.009904910030891],[.029608218557702,.009995793807363],[.029577412552575,.010086583499618],[.029546328153577,.010177278253107],[.029514965653285,.010267877214177],[.029483325346896,.010358379530076],[.02945140753222,.010448784348962],[.029419212509679,.010539090819911],[.029386740582307,.010629298092923],[.02935399205574,.010719405318933],[.02932096723822,.010809411649818],[.02928766644059,.010899316238403],[.02925408997629,.010989118238474],[.029220238161353,.011078816804778],[.029186111314406,.011168411093039],[.029151709756664,.011257900259961],[.029117033811927,.011347283463239],[.029082083806579,.011436559861563],[.029046860069582,.01152572861463],[.029011362932476,.01161478888315],[.028975592729373,.011703739828853],[.028939549796957,.0117925806145],[.028903234474475,.011881310403886],[.028866647103744,.011969928361855],[.028829788029135,.012058433654299],[.028792657597583,.012146825448172],[.028755256158571,.012235102911499],[.028717584064137,.012323265213377],[.028679641668864,.01241131152399],[.028641429329882,.012499241014612],[.028602947406859,.012587052857618],[.028564196262001,.012674746226488],[.02852517626005,.012762320295819],[.028485887768276,.012849774241331],[.028446331156478,.012937107239875],[.028406506796976,.013024318469437],[.028366415064615,.013111407109155],[.028326056336751,.013198372339315],[.028285430993258,.013285213341368],[.028244539416515,.013371929297933],[.028203381991411,.013458519392807],[.028161959105334,.013544982810971],[.028120271148172,.013631318738598],[.028078318512309,.013717526363062],[.028036101592619,.013803604872943],[.027993620786463,.013889553458039],[.027950876493687,.013975371309367],[.027907869116616,.014061057619178],[.027864599060052,.014146611580959],[.02782106673127,.014232032389445],[.027777272540012,.014317319240622],[.027733216898487,.014402471331737],[.027688900221361,.014487487861307],[.027644322925762,.014572368029123],[.027599485431266,.014657111036262],[.027554388159903,.01474171608509],[.027509031536144,.014826182379271],[.027463415986904,.014910509123778],[.027417541941533,.014994695524894],[.027371409831816,.015078740790225],[.027325020091965,.015162644128704],[.027278373158618,.015246404750603],[.027231469470833,.015330021867534],[.027184309470088,.01541349469246],[.027136893600268,.015496822439704],[.027089222307671,.015580004324954],[.027041296040997,.015663039565269],[.026993115251345,.015745927379091],[.026944680392213,.015828666986247],[.026895991919487,.015911257607961],[.026847050291442,.015993698466859],[.026797855968734,.016075988786976],[.026748409414401,.016158127793763],[.026698711093851,.016240114714099],[.026648761474864,.016321948776289],[.026598561027585,.016403629210082],[.026548110224519,.016485155246669],[.02649740954053,.016566526118696],[.02644645945283,.016647741060271],[.026395260440982,.016728799306966],[.02634381298689,.016809700095831],[.026292117574797,.016890442665397],[.02624017469128,.016971026255683],[.026187984825246,.017051450108208],[.026135548467924,.01713171346599],[.026082866112867,.01721181557356],[.026029938255941,.017291755676967],[.025976765395322,.017371533023784],[.025923348031494,.017451146863116],[.025869686667242,.017530596445607],[.025815781807646,.017609881023449],[.02576163396008,.017688999850383],[.025707243634204,.017767952181715],[.02565261134196,.017846737274313],[.025597737597568,.017925354386623],[.025542622917522,.018003802778671],[.025487267820581,.018082081712071],[.025431672827768,.018160190450031],[.025375838462365,.018238128257362],[.025319765249906,.018315894400484],[.025263453718173,.018393488147432],[.025206904397193,.018470908767865],[.025150117819228,.01854815553307],[.025093094518776,.018625227715971],[.025035835032562,.018702124591135],[.024978339899534,.01877884543478],[.024920609660858,.01885538952478],[.024862644859912,.018931756140672],[.024804446042284,.019007944563666],[.024746013755764,.019083954076646],[.024687348550337,.019159783964183],[.024628450978184,.019235433512536],[.02456932159367,.019310902009663],[.024509960953345,.019386188745225],[.024450369615932,.019461293010596],[.024390548142329,.019536214098866],[.024330497095598,.019610951304848],[.024270217040961,.019685503925087],[.024209708545799,.019759871257867],[.024148972179639,.019834052603212],[.024088008514157,.019908047262901],[.024026818123164,.019981854540467],[.023965401582609,.020055473741208],[.023903759470567,.020128904172192],[.023841892367236,.020202145142264],[.023779800854935,.020275195962052],[.023717485518092,.020348055943974],[.023654946943242,.020420724402244],[.023592185719023,.020493200652878],[.023529202436167,.020565484013703],[.023465997687496,.020637573804361],[.023402572067918,.020709469346314],[.023338926174419,.020781169962854],[.023275060606058,.020852674979108],[.023210975963963,.020923983722044],[.023146672851322,.020995095520475],[.02308215187338,.021066009705072],[.023017413637435,.021136725608363],[.022952458752826,.021207242564742],[.022887287830934,.021277559910478],[.022821901485173,.021347676983716],[.022756300330983,.021417593124488],[.022690484985827,.021487307674717],[.022624456069185,.021556819978223],[.022558214202547,.021626129380729],[.022491760009405,.021695235229869],[.022425094115252,.021764136875192],[.022358217147572,.021832833668171],[.022291129735838,.021901324962204],[.022223832511501,.021969610112625],[.022156326107988,.022037688476709],[.022088611160696,.022105559413676],[.022020688306983,.022173222284699],[.021952558186166,.022240676452909],[.02188422143951,.022307921283403],[.021815678710228,.022374956143245],[.021746930643469,.022441780401478],[.021677977886316,.022508393429127],[.02160882108778,.022574794599206],[.02153946089879,.022640983286719],[.02146989797219,.022706958868676],[.021400132962735,.022772720724087],[.021330166527077,.022838268233979],[.021259999323769,.022903600781391],[.02118963201325,.022968717751391],[.021119065257845,.023033618531071],[.021048299721754,.023098302509561],[.02097733607105,.023162769078031],[.02090617497367,.023227017629698],[.020834817099409,.023291047559828],[.020763263119915,.023354858265748],[.02069151370868,.023418449146848],[.020619569541038,.023481819604585],[.020547431294155,.023544969042494],[.020475099647023,.023607896866186],[.020402575280455,.023670602483363],[.020329858877078,.023733085303813],[.020256951121327,.023795344739427],[.020183852699437,.023857380204193],[.020110564299439,.023919191114211],[.02003708661115,.023980776887692],[.019963420326171,.024042136944968],[.019889566137877,.024103270708495],[.019815524741412,.024164177602859],[.019741296833681,.024224857054779],[.019666883113346,.02428530849312],[.019592284280817,.024345531348888],[.019517501038246,.024405525055242],[.019442534089523,.0244652890475],[.019367384140264,.024524822763141],[.019292051897809,.024584125641809],[.019216538071215,.024643197125323],[.019140843371246,.024702036657681],[.019064968510369,.024760643685063],[.018988914202748,.024819017655836],[.018912681164234,.024877158020562],[.018836270112363,.024935064232003],[.018759681766343,.024992735745123],[.018682916847054,.025050172017095],[.018605976077037,.025107372507308],[.018528860180486,.025164336677369],[.018451569883247,.02522106399111],[.018374105912805,.025277553914591],[.01829646899828,.025333805916107],[.018218659870421,.025389819466194],[.018140679261596,.02544559403763],[.01806252790579,.025501129105445],[.017984206538592,.02555642414692],[.017905715897192,.025611478641598],[.017827056720375,.025666292071285],[.017748229748511,.025720863920056],[.01766923572355,.02577519367426],[.017590075389012,.025829280822525],[.017510749489986,.025883124855762],[.017431258773116,.02593672526717],[.0173516039866,.025990081552242],[.01727178588018,.026043193208768],[.017191805205132,.026096059736841],[.017111662714267,.026148680638861],[.017031359161915,.026201055419541],[.016950895303924,.026253183585908],[.016870271897651,.026305064647313],[.016789489701954,.026356698115431],[.016708549477186,.026408083504269],[.016627451985187,.026459220330167],[.016546197989277,.026510108111806],[.01646478825425,.026560746370212],[.016383223546365,.026611134628757],[.016301504633341,.026661272413168],[.016219632284346,.02671115925153],[.016137607269996,.026760794674288],[.01605543036234,.026810178214254],[.015973102334858,.026859309406613],[.015890623962454,.026908187788922],[.015807996021446,.026956812901119],[.015725219289558,.027005184285527],[.015642294545918,.027053301486856],[.015559222571044,.027101164052208],[.015476004146842,.027148771531083],[.015392640056594,.02719612347538],[.015309131084956,.027243219439406],[.015225478017946,.027290058979875],[.015141681642938,.027336641655915],[.015057742748656,.027382967029073],[.014973662125164,.027429034663317],[.014889440563862,.02747484412504],[.014805078857474,.027520394983066],[.014720577800046,.027565686808654],[.014635938186934,.027610719175499],[.014551160814797,.02765549165974],[.014466246481592,.02770000383996],[.014381195986567,.027744255297195],[.014296010130247,.027788245614933],[.014210689714436,.02783197437912],[.014125235542201,.027875441178165],[.01403964841787,.027918645602941],[.01395392914702,.027961587246792],[.013868078536476,.028004265705534],[.013782097394294,.028046680577462],[.013695986529763,.028088831463351],[.01360974675339,.028130717966461],[.013523378876898,.02817233969254],[.013436883713214,.028213696249828],[.013350262076462,.028254787249062],[.01326351478196,.028295612303478],[.013176642646205,.028336171028814],[.013089646486871,.028376463043317],[.013002527122799,.028416487967743],[.01291528537399,.028456245425361],[.012827922061597,.02849573504196],[.012740438007915,.028534956445849],[.012652834036379,.028573909267859],[.01256511097155,.028612593141354],[.012477269639111,.028651007702224],[.012389310865858,.028689152588899],[.012301235479693,.028727027442343],[.012213044309615,.028764631906065],[.012124738185712,.028801965626115],[.012036317939156,.028839028251097],[.011947784402191,.028875819432161],[.01185913840813,.028912338823015],[.011770380791341,.028948586079925],[.011681512387245,.028984560861718],[.011592534032306,.029020262829785],[.011503446564022,.029055691648087],[.011414250820918,.029090846983152],[.011324947642537,.029125728504087],[.011235537869437,.029160335882573],[.011146022343175,.029194668792871],[.011056401906305,.029228726911828],[.010966677402371,.029262509918876],[.010876849675891,.029296017496036],[.010786919572361,.029329249327922],[.010696887938235,.029362205101743],[.010606755620926,.029394884507308],[.010516523468793,.029427287237024],[.010426192331137,.029459412985906],[.010335763058187,.029491261451573],[.010245236501099,.029522832334255],[.010154613511943,.029554125336796],[.010063894943698,.029585140164654],[.00997308165024,.029615876525905],[.00988217448634,.029646334131247],[.00979117430765,.029676512694001],[.009700081970699,.029706411930116],[.009608898332881,.029736031558168],[.009517624252453,.029765371299366],[.009426260588521,.029794430877553],[.009334808201034,.02982321001921],[.009243267950778,.029851708453456],[.009151640699363,.029879925912053],[.00905992730922,.029907862129408],[.008968128643591,.029935516842573],[.00887624556652,.029962889791254],[.008784278942845,.029989980717805],[.008692229638191,.030016789367235],[.008600098518961,.030043315487212],[.008507886452329,.030069558828062],[.00841559430623,.030095519142772],[.008323222949351,.030121196186994],[.008230773251129,.030146589719046],[.008138246081733,.030171699499915],[.008045642312067,.030196525293257],[.00795296281375,.030221066865402],[.007860208459119,.030245323985357],[.007767380121212,.030269296424803],[.007674478673766,.030292983958103],[.007581504991203,.030316386362302],[.007488459948628,.030339503417126],[.007395344421816,.030362334904989],[.007302159287206,.030384880610993],[.007208905421891,.030407140322928],[.007115583703613,.030429113831278],[.007022195010752,.03045080092922],[.006928740222316,.030472201412626],[.006835220217939,.030493315080068],[.006741635877866,.030514141732814],[.006647988082948,.030534681174838],[.006554277714635,.030554933212813],[.006460505654964,.030574897656119],[.006366672786553,.030594574316845],[.006272779992593,.030613963009786],[.006178828156839,.030633063552447],[.006084818163601,.030651875765048],[.005990750897737,.03067039947052],[.005896627244644,.030688634494512],[.00580244809025,.030706580665388],[.005708214321004,.030724237814232],[.005613926823871,.030741605774849],[.005519586486321,.030758684383764],[.005425194196321,.030775473480228],[.005330750842327,.030791972906214],[.005236257313276,.030808182506425],[.005141714498576,.030824102128288],[.005047123288102,.030839731621963],[.004952484572181,.030855070840339],[.004857799241589,.030870119639036],[.004763068187541,.030884877876411],[.004668292301681,.030899345413553],[.004573472476075,.030913522114288],[.004478609603205,.03092740784518],[.004383704575956,.03094100247553],[.00428875828761,.030954305877381],[.004193771631837,.030967317925516],[.004098745502689,.030980038497461],[.004003680794587,.030992467473486],[.003908578402316,.031004604736602],[.003813439221017,.031016450172571],[.003718264146176,.031028003669899],[.003623054073616,.031039265119839],[.003527809899492,.031050234416394],[.003432532520278,.031060911456318],[.00333722283276,.031071296139114],[.003241881734029,.031081388367037],[.003146510121474,.031091188045095],[.003051108892766,.031100695081051],[.00295567894586,.031109909385419],[.002860221178978,.031118830871473],[.002764736490604,.031127459455239],[.002669225779478,.031135795055501],[.002573689944583,.031143837593803],[.002478129885137,.031151586994444],[.002382546500589,.031159043184484],[.002286940690606,.031166206093743],[.002191313355067,.0311730756548],[.002095665394051,.031179651802998],[.001999997707835,.031185934476438],[.001904311196878,.031191923615985],[.00180860676182,.031197619165268],[.001712885303465,.031203021070678],[.001617147722782,.03120812928137],[.001521394920889,.031212943749264],[.001425627799047,.031217464429043],[.001329847258653,.031221691278159],[.001234054201231,.031225624256825],[.00113824952842,.031229263328024],[.001042434141971,.031232608457502],[.000946608943736,.031235659613775],[.000850774835656,.031238416768124],[.000754932719759,.031240879894597],[.000659083498149,.03124304897001],[.000563228072993,.031244923973948],[.00046736734652,.031246504888762],[.000371502221008,.031247791699571],[.000275633598775,.031248784394264],[.000179762382174,.031249482963498],[83889473581e-15,.031249887400697]],u=[[.088387931675923,.000271171628935],[.088354655998507,.002440238387037],[.08826815878011,.00460783523678],[.088128492123423,.006772656498875],[.087935740158418,.008933398165942],[.08769001899167,.011088758687994],[.087391476636423,.013237439756448],[.087040292923427,.015378147086172],[.086636679392621,.017509591195118],[.086180879165703,.019630488181053],[.085673166799686,.02173956049494],[.085113848121515,.023835537710479],[.084503260043847,.025917157289369],[.08384177036211,.027983165341813],[.083129777532952,.030032317381813],[.08236771043423,.032063379076803],[.081556028106671,.034075126991164],[.080695219477356,.036066349323177],[.079785803065216,.038035846634965],[.078828326668693,.039982432574992],[.077823367035766,.041904934592675],[.07677152951654,.043802194644686],[.075673447698606,.045673069892513],[.07452978302539,.047516433390863],[.073341224397728,.049331174766491],[.072108487758894,.051116200887052],[.070832315663343,.052870436519557],[.069513476829429,.054592824978055],[.068152765676348,.056282328760143],[.06675100184562,.057937930171918],[.065309029707361,.059558631940996],[.063827717851668,.061143457817234],[.062307958565413,.062691453160784],[.060750667294763,.064201685517134],[.059156782093749,.065673245178784],[.057527263059216,.06710524573322],[.055863091752499,.068496824596852],[.054165270608165,.069847143534609],[.052434822330188,.071155389164853],[.050672789275903,.072420773449336],[.048880232828135,.073642534167879],[.047058232755862,.074819935377512],[.045207886563797,.075952267855771],[.043330308831298,.077038849527912],[.041426630540984,.078079025877766],[.039497998397473,.079072170341994],[.037545574136653,.080017684687506],[.035570533825892,.080914999371817],[.033574067155622,.081763573886112],[.031557376722714,.082562897080836],[.029521677306074,.083312487473584],[.027468195134911,.084011893539132],[.025398167150101,.084660693981419],[.023312840259098,.08525849798732],[.021213470584847,.085804945462053],[.019101322709138,.086299707246093],[.016977668910873,.086742485313442],[.014843788399692,.087133012951149],[.012700966545425,.087471054919968],[.01055049410383,.087756407596056],[.008393666439096,.087988899093631],[.006231782743558,.08816838936851],[.004066145255116,.088294770302461],[.001898058472816,.088367965768336]],h=[[.032274858518097,13202404176e-15],[.032274642494505,.000118821372483],[.032274080835421,.000224439068308],[.03227317354686,.000330054360572],[.032271920638538,.000435666118218],[.032270322123873,.000541273210231],[.032268378019984,.000646874505642],[.032266088347691,.000752468873546],[.032263453131514,.000858055183114],[.032260472399674,.0009636323036],[.032257146184092,.001069199104358],[.03225347452039,.001174754454853],[.032249457447888,.001280297224671],[.032245095009606,.001385826283535],[.032240387252262,.001491340501313],[.032235334226272,.001596838748031],[.03222993598575,.00170231989389],[.032224192588507,.001807782809271],[.03221810409605,.001913226364749],[.032211670573582,.002018649431111],[.03220489209,.002124050879359],[.032197768717898,.002229429580728],[.03219030053356,.002334784406698],[.032182487616965,.002440114229003],[.032174330051782,.002545417919644],[.032165827925374,.002650694350905],[.03215698132879,.002755942395358],[.032147790356771,.002861160925883],[.032138255107744,.002966348815672],[.032128375683825,.00307150493825],[.032118152190814,.003176628167476],[.032107584738196,.003281717377568],[.032096673439141,.003386771443102],[.0320854184105,.003491789239036],[.032073819772804,.003596769640711],[.032061877650267,.003701711523874],[.032049592170778,.00380661376468],[.032036963465906,.003911475239711],[.032023991670893,.004016294825985],[.032010676924657,.004121071400967],[.031997019369789,.004225803842586],[.031983019152549,.004330491029241],[.031968676422869,.004435131839816],[.031953991334348,.004539725153692],[.031938964044252,.004644269850758],[.03192359471351,.004748764811426],[.031907883506716,.004853208916638],[.031891830592124,.004957601047881],[.031875436141648,.0050619400872],[.031858700330859,.005166224917208],[.031841623338985,.005270454421097],[.031824205348907,.005374627482653],[.031806446547156,.005478742986267],[.031788347123916,.005582799816945],[.031769907273017,.005686796860323],[.031751127191935,.005790733002674],[.031732007081789,.005894607130928],[.03171254714734,.005998418132675],[.031692747596989,.006102164896182],[.031672608642773,.006205846310406],[.031652130500364,.006309461265002],[.031631313389067,.006413008650337],[.031610157531816,.006516487357501],[.031588663155172,.006619896278321],[.031566830489325,.00672323430537],[.031544659768083,.006826500331981],[.031522151228878,.006929693252258],[.031499305112758,.007032811961088],[.031476121664387,.007135855354151],[.03145260113204,.007238822327937],[.031428743767604,.007341711779751],[.031404549826572,.00744452260773],[.031380019568042,.007547253710853],[.031355153254712,.007649903988952],[.031329951152882,.007752472342725],[.031304413532445,.007854957673748],[.031278540666888,.007957358884484],[.03125233283329,.0080596748783],[.031225790312316,.008161904559473],[.031198913388214,.008264046833205],[.031171702348814,.008366100605636],[.031144157485525,.008468064783849],[.031116279093331,.008569938275893],[.031088067470786,.008671719990782],[.031059522920014,.008773408838517],[.031030645746705,.008875003730092],[.03100143626011,.008976503577507],[.030971894773039,.00907790729378],[.030942021601857,.009179213792959],[.030911817066483,.009280421990133],[.030881281490382,.009381530801444],[.030850415200566,.009482539144097],[.030819218527589,.009583445936373],[.030787691805541,.009684250097643],[.030755835372048,.009784950548375],[.030723649568268,.009885546210147],[.030691134738883,.009986036005661],[.030658291232103,.010086418858753],[.030625119399655,.010186693694402],[.030591619596781,.010286859438745],[.030557792182239,.010386915019088],[.030523637518292,.010486859363916],[.03048915597071,.010586691402906],[.030454347908763,.010686410066936],[.030419213705216,.010786014288099],[.030383753736329,.010885502999714],[.030347968381849,.010984875136338],[.03031185802501,.011084129633775],[.030275423052523,.011183265429088],[.030238663854579,.011282281460612],[.030201580824838,.011381176667967],[.03016417436043,.011479949992062],[.030126444861948,.011578600375117],[.030088392733446,.011677126760663],[.03005001838243,.011775528093563],[.030011322219859,.011873803320018],[.029972304660138,.011971951387578],[.029932966121114,.012069971245157],[.02989330702407,.012167861843041],[.029853327793724,.012265622132901],[.029813028858222,.012363251067801],[.029772410649132,.012460747602215],[.029731473601443,.012558110692033],[.029690218153558,.012655339294575],[.029648644747289,.0127524323686],[.029606753827855,.01284938887432],[.029564545843872,.012946207773407],[.029522021247356,.013042888029011],[.02947918049371,.013139428605762],[.029436024041725,.013235828469789],[.02939255235357,.013332086588727],[.029348765894794,.013428201931728],[.029304665134313,.013524173469475],[.029260250544412,.013620000174189],[.029215522600735,.013715681019643],[.029170481782283,.013811214981173],[.029125128571406,.013906601035686],[.029079463453801,.014001838161674],[.029033486918505,.014096925339225],[.028987199457889,.014191861550031],[.028940601567655,.014286645777401],[.028893693746829,.014381277006273],[.028846476497755,.014475754223221],[.028798950326094,.014570076416472],[.028751115740811,.01466424257591],[.028702973254178,.014758251693091],[.02865452338176,.014852102761253],[.028605766642418,.014945794775326],[.028556703558297,.015039326731945],[.028507334654823,.015132697629457],[.028457660460698,.015225906467935],[.028407681507891,.015318952249187],[.028357398331639,.015411833976768],[.028306811470432,.015504550655988],[.028255921466016,.015597101293927],[.028204728863381,.015689484899442],[.02815323421076,.015781700483179],[.028101438059619,.015873747057582],[.028049340964652,.015965623636907],[.027996943483779,.016057329237229],[.027944246178133,.016148862876456],[.027891249612061,.016240223574335],[.027837954353113,.016331410352467],[.027784360972039,.016422422234315],[.02773047004278,.016513258245214],[.027676282142466,.016603917412384],[.027621797851405,.016694398764938],[.02756701775308,.016784701333894],[.027511942434143,.016874824152183],[.027456572484404,.016964766254662],[.027400908496833,.017054526678124],[.027344951067546,.017144104461307],[.027288700795801,.017233498644904],[.027232158283994,.017322708271577],[.027175324137651,.01741173238596],[.027118198965418,.017500570034678],[.02706078337906,.017589220266351],[.027003077993454,.017677682131607],[.026945083426576,.017765954683088],[.026886800299502,.017854036975468],[.026828229236397,.017941928065456],[.026769370864511,.018029627011808],[.02671022581417,.01811713287534],[.026650794718768,.018204444718934],[.026591078214767,.018291561607551],[.02653107694168,.018378482608238],[.026470791542075,.018465206790142],[.026410222661558,.018551733224515],[.026349370948775,.01863806098473],[.026288237055398,.018724189146286],[.026226821636121,.018810116786819],[.026165125348656,.018895842986112],[.026103148853718,.018981366826109],[.026040892815028,.019066687390916],[.025978357899296,.019151803766819],[.025915544776223,.01923671504229],[.025852454118485,.019321420307998],[.025789086601733,.019405918656817],[.025725442904582,.019490209183837],[.025661523708606,.019574290986376],[.025597329698327,.019658163163984],[.025532861561211,.019741824818458],[.025468119987662,.019825275053848],[.025403105671008,.01990851297647],[.025337819307501,.019991537694913],[.025272261596305,.020074348320047],[.025206433239491,.020156943965039],[.025140334942028,.020239323745355],[.025073967411776,.020321486778774],[.025007331359476,.020403432185395],[.024940427498748,.02048515908765],[.024873256546079,.020566666610309],[.024805819220816,.020647953880491],[.024738116245157,.020729020027676],[.024670148344147,.020809864183709],[.024601916245669,.020890485482816],[.024533420680433,.020970883061607],[.024464662381971,.021051056059087],[.02439564208663,.02113100361667],[.024326360533561,.021210724878181],[.024256818464715,.021290218989868],[.02418701662483,.021369485100415],[.02411695576143,.021448522360944],[.024046636624808,.02152732992503],[.023976059968027,.021605906948708],[.023905226546906,.02168425259048],[.023834137120014,.021762366011328],[.023762792448662,.02184024637472],[.023691193296893,.02191789284662],[.023619340431478,.021995304595495],[.023547234621902,.02207248079233],[.023474876640361,.022149420610628],[.023402267261751,.022226123226426],[.023329407263659,.0223025878183],[.023256297426359,.022378813567377],[.023182938532797,.022454799657339],[.023109331368588,.022530545274437],[.023035476722006,.022606049607496],[.022961375383975,.022681311847926],[.022887028148061,.022756331189727],[.022812435810462,.022831106829504],[.022737599170003,.022905637966469],[.022662519028125,.022979923802453],[.022587196188874,.023053963541915],[.022511631458899,.02312775639195],[.022435825647437,.023201301562294],[.022359779566306,.023274598265338],[.0222834940299,.023347645716133],[.022206969855176,.0234204431324],[.022130207861645,.023492989734537],[.022053208871367,.023565284745628],[.02197597370894,.023637327391451],[.021898503201489,.023709116900488],[.021820798178663,.023780652503931],[.021742859472618,.023851933435691],[.021664687918017,.023922958932406],[.021586284352013,.023993728233451],[.021507649614247,.024064240580942],[.021428784546832,.02413449521975],[.02134968999435,.024204491397504],[.02127036680384,.0242742283646],[.021190815824791,.024343705374213],[.021111037909128,.024412921682298],[.02103103391121,.024481876547605],[.020950804687815,.024550569231683],[.020870351098134,.024618998998889],[.020789674003759,.024687165116394],[.020708774268678,.024755066854194],[.020627652759262,.024822703485116],[.020546310344257,.024890074284826],[.020464747894775,.024957178531837],[.020382966284284,.025024015507516],[.0203009663886,.025090584496093],[.020218749085876,.025156884784668],[.020136315256592,.025222915663218],[.020053665783549,.025288676424605],[.019970801551857,.025354166364584],[.019887723448925,.025419384781811],[.019804432364452,.025484330977848],[.019720929190419,.025549004257175],[.019637214821078,.025613403927192],[.019553290152943,.02567752929823],[.019469156084779,.025741379683559],[.019384813517595,.025804954399392],[.019300263354632,.025868252764895],[.019215506501354,.025931274102193],[.019130543865439,.025994017736379],[.019045376356769,.026056482995518],[.018960004887419,.026118669210657],[.018874430371648,.026180575715833],[.018788653725892,.026242201848076],[.01870267586875,.026303546947421],[.018616497720974,.026364610356909],[.018530120205464,.026425391422602],[.018443544247254,.026485889493583],[.018356770773502,.026546103921965],[.018269800713483,.026606034062902],[.018182634998576,.026665679274589],[.018095274562256,.026725038918274],[.018007720340083,.026784112358263],[.017919973269692,.026842898961926],[.017832034290785,.026901398099707],[.017743904345116,.026959609145127],[.017655584376488,.027017531474792],[.017567075330734,.027075164468401],[.017478378155718,.02713250750875],[.017389493801313,.027189559981742],[.017300423219401,.027246321276391],[.017211167363854,.027302790784828],[.017121727190533,.02735896790231],[.017032103657269,.027414852027226],[.016942297723858,.027470442561102],[.01685231035205,.027525738908608],[.016762142505537,.027580740477564],[.016671795149944,.027635446678948],[.016581269252819,.0276898569269],[.016490565783622,.02774397063873],[.016399685713714,.027797787234924],[.016308630016347,.027851306139149],[.016217399666655,.02790452677826],[.016125995641641,.027957448582309],[.01603441892017,.028010070984544],[.015942670482954,.028062393421421],[.015850751312545,.02811441533261],[.015758662393324,.028166136160998],[.015666404711489,.028217555352697],[.015573979255046,.028268672357047],[.015481387013797,.028319486626627],[.015388628979331,.028369997617257],[.015295706145012,.028420204788004],[.015202619505968,.028470107601191],[.015109370059084,.028519705522399],[.015015958802984,.028568998020472],[.01492238673803,.028617984567529],[.014828654866302,.028666664638963],[.014734764191593,.028715037713449],[.014640715719398,.028763103272951],[.0145465104569,.028810860802724],[.014452149412962,.028858309791325],[.014357633598114,.028905449730613],[.014262964024545,.028952280115756],[.01416814170609,.02899880044524],[.01407316765822,.029045010220868],[.01397804289803,.029090908947771],[.013882768444231,.029136496134411],[.013787345317136,.029181771292585],[.013691774538648,.029226733937433],[.013596057132255,.029271383587441],[.013500194123014,.029315719764447],[.013404186537539,.029359741993647],[.013308035403995,.029403449803598],[.013211741752084,.029446842726223],[.013115306613032,.02948992029682],[.013018731019584,.029532682054063],[.012922016005985,.029575127540008],[.012825162607977,.029617256300097],[.012728171862781,.029659067883165],[.012631044809089,.029700561841444],[.012533782487056,.029741737730567],[.012436385938281,.029782595109573],[.012338856205805,.029823133540913],[.012241194334091,.029863352590452],[.012143401369021,.029903251827477],[.012045478357878,.029942830824699],[.011947426349339,.029982089158259],[.011849246393462,.030021026407731],[.011750939541676,.030059642156129],[.011652506846768,.030097935989909],[.011553949362874,.030135907498976],[.011455268145464,.030173556276684],[.011356464251335,.030210881919845],[.011257538738598,.030247884028732],[.011158492666665,.030284562207083],[.01105932709624,.030320916062102],[.010960043089307,.03035694520447],[.010860641709118,.030392649248343],[.010761124020182,.030428027811361],[.010661491088253,.030463080514646],[.010561743980319,.030497806982812],[.010461883764593,.030532206843968],[.010361911510496,.030566279729717],[.010261828288652,.030600025275167],[.010161635170872,.030633443118931],[.010061333230142,.030666532903129],[.009960923540617,.030699294273397],[.009860407177603,.030731726878888],[.00975978521755,.030763830372273],[.009659058738038,.03079560440975],[.009558228817767,.030827048651045],[.009457296536545,.030858162759415],[.009356262975275,.030888946401653],[.009255129215945,.030919399248091],[.009153896341616,.030949520972603],[.009052565436412,.030979311252611],[.008951137585505,.031008769769084],[.008849613875105,.031037896206544],[.008747995392451,.031066690253072],[.008646283225794,.031095151600306],[.00854447846439,.031123279943448],[.008442582198486,.031151074981266],[.00834059551931,.031178536416098],[.008238519519057,.031205663953853],[.008136355290878,.031232457304017],[.008034103928871,.031258916179656],[.007931766528065,.031285040297416],[.007829344184412,.031310829377528],[.007726837994772,.031336283143813],[.007624249056906,.03136140132368],[.007521578469457,.031386183648135],[.007418827331946,.031410629851778],[.007315996744755,.031434739672811],[.007213087809115,.031458512853036],[.007110101627101,.031481949137863],[.00700703930161,.031505048276306],[.006903901936357,.031527810020993],[.006800690635862,.031550234128164],[.006697406505433,.031572320357675],[.006594050651161,.031594068473],[.006490624179905,.031615478241233],[.006387128199278,.031636549433095],[.006283563817639,.031657281822929],[.00617993214408,.031677675188707],[.006076234288412,.031697729312034],[.005972471361157,.031717443978146],[.005868644473532,.031736818975914],[.00576475473744,.031755854097848],[.005660803265456,.031774549140098],[.005556791170816,.031792903902453],[.005452719567407,.03181091818835],[.005348589569753,.031828591804869],[.005244402293001,.031845924562742],[.005140158852914,.031862916276347],[.005035860365855,.031879566763717],[.004931507948778,.031895875846539],[.004827102719212,.031911843350155],[.004722645795254,.031927469103567],[.004618138295554,.031942752939435],[.004513581339303,.031957694694082],[.004408976046222,.031972294207493],[.004304323536549,.03198655132332],[.00419962493103,.032000465888879],[.004094881350902,.032014037755158],[.003990093917884,.032027266776813],[.003885263754166,.03204015281217],[.003780391982394,.032052695723232],[.003675479725661,.032064895375674],[.003570528107494,.032076751638847],[.003465538251839,.03208826438578],[.003360511283053,.032099433493181],[.003255448325892,.032110258841438],[.003150350505494,.032120740314619],[.003045218947373,.032130877800478],[.002940054777404,.032140671190449],[.00283485912181,.032150120379653],[.002729633107153,.032159225266897],[.002624377860318,.032167985754674],[.002519094508504,.032176401749168],[.002413784179212,.03218447316025],[.002308448000231,.032192199901481],[.002203087099626,.032199581890114],[.002097702605728,.032206619047093],[.001992295647121,.032213311297057],[.001886867352628,.032219658568338],[.001781418851302,.03222566079296],[.00167595127241,.032231317906644],[.001570465745428,.032236629848809],[.001464963400018,.032241596562566],[.001359445366028,.032246217994727],[.00125391277347,.032250494095799],[.001148366752513,.03225442481999],[.001042808433471,.032258010125204],[.000937238946789,.032261249973045],[.00083165942303,.032264144328817],[.000726070992868,.032266693161525],[.000620474787068,.032268896443871],[.000514871936481,.032270754152261],[.00040926357203,.032272266266801],[.000303650824695,.032273432771295],[.000198034825504,.032274253653254],[92416705518e-15,.032274728903884]],f=[[.091286604111815,.000298735779793],[.091247502481454,.002688238127538],[.091145864370807,.005075898091152],[.090981759437558,.00746007928776],[.09075530015103,.009839147718664],[.090466641715108,.012211472889198],[.090115981961863,.014575428926191],[.089703561215976,.016929395692256],[.089229662130024,.019271759896156],[.088694609490769,.02160091619847],[.088098769996564,.02391526831181],[.087442552006035,.026213230094844],[.086726405258214,.028493226639351],[.085950820564309,.030753695349588],[.085116329471329,.032993087013213],[.084223503897785,.035209866863042],[.083272955741727,.037402515628894],[.082265336461381,.039569530578832],[.08120133662867,.041709426549053],[.08008168545593,.043820736961749],[.078907150296148,.045902014830227],[.077678536117054,.047951833750597],[.076396684949434,.049968788879362],[.07506247531005,.051951497896226],[.073676821599542,.053898601951466],[.072240673475749,.055808766597225],[.070755015202858,.057680682702068],[.06922086497684,.059513067348201],[.067639274227625,.061304664710718],[.066011326898512,.063054246918278],[.064338138703282,.06476061489463],[.062620856361546,.066422599180399],[.060860656812842,.068039060734572],[.059058746410016,.069608891715145],[.05721636009245,.071131016238378],[.055334760539699,.072604391116154],[.053415237306106,.07402800657093],[.051459105937014,.075400886927784],[.049467707067153,.076722091283096],[.047442405501835,.077990714149396],[.045384589281588,.079205886075941],[.043295668730857,.080366774244592],[.041177075491445,.081472583040586],[.039030261541332,.08252255459781],[.036856698199564,.083515969318206],[.034657875117883,.084452146364948],[.032435299259796,.085330444129049],[.030190493867775,.086150260669096],[.027924997419306,.086911034123781],[.025640362572491,.087612243096981],[.023338155101933,.088253407015092],[.021019952825636,.08883408645639],[.018687344523641,.089353883452193],[.016341928849164,.089812441759604],[.013985313232951,.090209447105664],[.011619112781631,.09054462740274],[.009244949170797,.090817752935],[.006864449533597,.091028636515846],[.004479245345574,.091177133616206],[.002090971306534,.091263142463585]],d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]),p=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]),y=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]),v=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]),b=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]),w=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]),k=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]),S=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]),O=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]),E=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]),I=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]),P=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]),D=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]),L=[d,d,y,b,b,k,S,S,E,E,E,P],B=[p,p,v,w,w,w,O,O,I,I,I,D],M=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]),R=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]),x=function(){for(var e=new Float32Array(428),t=0;t<428;t++)e[t]=Math.pow(2,(t-200)/4);return e}(),A=function(){for(var e=new Float32Array(8191),t=0;t<8191;t++)e[t]=Math.pow(t,4/3);return e}(),F=new Int32Array([96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]),N=function(){function e(e){this.maxBands=i[e.sampleIndex],this.nFilt=new Int32Array(8),this.length=new Array(8),this.direction=new Array(8),this.order=new Array(8),this.coef=new Array(8);for(var t=0;t<8;t++){this.length[t]=new Int32Array(4),this.direction[t]=new Array(4),this.order[t]=new Int32Array(4),this.coef[t]=new Array(4);for(var n=0;n<4;n++)this.coef[t][n]=new Float32Array(20)}this.lpc=new Float32Array(20),this.tmp=new Float32Array(20)}var _=[1,4,3],b=[2,6,5],w=[[0,-.43388373,-.7818315,-.9749279,.98480773,.86602539,.64278758,.34202015],[0,-.2079117,-.40673664,-.58778524,-.74314481,-.86602539,-.95105654,-.99452192,.99573416,.96182561,.8951633,.7980172,.67369562,.52643216,.36124167,.18374951],[0,-.43388373,.64278758,.34202015],[0,-.2079117,-.40673664,-.58778524,.67369562,.52643216,.36124167,.18374951]],i=[31,31,34,40,42,51,46,46,42,42,42,39,39];return e.prototype.decode=function(e,t){for(var n=t.windowCount,i=2===t.windowSequence?_:b,r=0;r<n;r++)if(this.nFilt[r]=e.read(i[0]))for(var o=e.read(1),a=this.nFilt[r],s=this.length[r],l=this.order[r],c=this.direction[r],u=this.coef[r],h=0;h<a;h++){if(s[h]=e.read(i[1]),20<(l[h]=e.read(i[2])))throw new Error("TNS filter out of range: "+l[h]);if(l[h]){c[h]=!!e.read(1);for(var f=e.read(1),d=o+3-f,p=2*f+o,y=w[p],v=l[h],g=u[h],m=0;m<v;m++)g[m]=y[e.read(d)]}}},e.prototype.process=function(e,t,n){for(var i=Math.min(this.maxBands,e.maxSFB),r=this.lpc,o=this.tmp,a=e.info,s=a.windowCount,l=0;l<s;l++)for(var c=a.swbCount,u=this.nFilt[l],h=this.length[l],f=this.order[l],d=this.coef[l],p=this.direction[l],y=0;y<u;y++){var v=c,c=Math.max(0,o-h[y]),g=f[y];if(0!==g){for(var m=d[y],_=0;_<g;_++){var b=-m[_];r[_]=b;for(var w=0,k=_+1>>1;w<k;w++){var C=r[w],S=r[_-1-w];r[w]=C+b*S,r[_-1-w]=S+b*C}}var T,O=a.swbOffsets[Math.min(c,i)],E=a.swbOffsets[Math.min(v,i)],I=1;if(!((T=E-O)<=0))if(p[y]&&(I=-1,O=E-1),O+=128*l,n)for(var P=0;P<T;P++,O+=I)for(var _=1;_<=Math.min(P,g);_++)t[O]-=t[O-_*I]*r[_-1];else for(var P=0;P<T;P++,O+=I){o[0]=t[O];for(var _=1;_<=Math.min(P,g);_++)t[O]+=o[_]*r[_-1];for(var _=g;0<_;_--)o[_]=o[_-1]}}}},e}();var t,n,a,s,r,g,m,_,i,o,T,C,l,c,u,h,f,d,p,y,v,b,w,k,S,O,E,I,P,D,L,B,M,R,x,A,F,N},cc._RF.pop()},{}],1:[function(e,t,n){var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}(function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}})();var c,u=[],h=!1,f=-1;function d(){h&&c&&(h=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!h){var e=l(d);h=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new y(e,t)),1!==u.length||h||l(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,t,i){var r=e("process/browser.js").nextTick,n=Function.prototype.apply,o=Array.prototype.slice,a={},s=0;function l(e,t){this._id=e,this._clearFn=t}i.setTimeout=function(){return new l(n.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new l(n.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},i.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},i._unrefActive=i.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=s++,n=!(arguments.length<2)&&o.call(arguments,1);return a[t]=!0,r(function(){a[t]&&(n?e.apply(null,n):e.call(null),i.clearImmediate(t))}),t},i.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete a[e]}},{"process/browser.js":1}],ConfigReader:[function(e,t,n){"use strict";cc._RF.push(t,"a57a7eTjf9PppHeUTACJ1RG","ConfigReader"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=s(e("CsvTableData")),o=s(e("lottery_BaseResLoad")),a=s(e("SingletonBase"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"ReadCsvRes",value:function(e,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;o.default.getInstance().LoadByKey(e,e,function(e,t){e?cc.error(e):n(this.ReadCsv(t,i))}.bind(this))}},{key:"ReadCsv",value:function(e,t){return r.default.Create(e,t)}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=l,t.exports=n.default,cc._RF.pop()},{CsvTableData:"CsvTableData",SingletonBase:"SingletonBase",lottery_BaseResLoad:"lottery_BaseResLoad"}],CsvTableData:[function(e,t,n){"use strict";cc._RF.push(t,"fd04ah5XvpAO4juXYeYRZjv","CsvTableData"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r,o,a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=e("CsvTableLine"),l=(o=s)&&o.__esModule?o:{default:o};var c=(r=i=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.title={},this.texArray=[]}return a(e,[{key:"initData",value:function(e,t){this.texArray=e.split("\r\n"),0<t&&this.texArray.splice(0,t);for(var n=this.texArray[0].split(","),i=0;i<n.length;i++)this.title[n[i]]=i;this.texArray.splice(0,1),this.texArray.splice(this.texArray.length-1,1);for(i=0;i<this.texArray.length;i++)this.texArray[i]=l.default.Create(this.title,this.texArray[i])}},{key:"getDatas",value:function(){return this.texArray}}]),e}(),i.Create=function(e,t){var n=new c;return n.initData(e,t),n},r);n.default=c,t.exports=n.default,cc._RF.pop()},{CsvTableLine:"CsvTableLine"}],CsvTableLine:[function(e,t,n){"use strict";cc._RF.push(t,"80d80G1gG9K/ZqfdQN5rNSk","CsvTableLine"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r,o,a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=e("lottery_Utils"),l=(o=s)&&o.__esModule?o:{default:o};var c=(r=i=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.title={},this.texArray=[]}return a(e,[{key:"init",value:function(e,t){this.title=e,this.texArray=t.split(",")}},{key:"getInt",value:function(e){return l.default.getInstance().getInt(this.texArray[this.title[e]])}},{key:"getIntArray",value:function(e){var t=this.texArray[this.title[e]];if(!t)return[];for(var n=(t=(t=t.replace("[","")).replace("]","")).split(";"),i=[],r=0;r<n.length;r++)i.push(l.default.getInstance().getInt(n[r]));return i}},{key:"getFloat",value:function(e){return l.default.getInstance().getFloat(this.texArray[this.title[e]])}},{key:"getFloatArray",value:function(e){var t=this.texArray[this.title[e]];if(!t)return[];for(var n=(t=(t=t.replace("[","")).replace("]","")).split(";"),i=[],r=0;r<n.length;r++)i.push(l.default.getInstance().getFloat(n[r]));return i}},{key:"getString",value:function(e){return this.texArray[this.title[e]]}}]),e}(),i.Create=function(e,t){for(var n=new c;t.includes(" ");)t=t.replace(" ","");return n.init(e,t),n},r);n.default=c,t.exports=n.default,cc._RF.pop()},{lottery_Utils:"lottery_Utils"}],GameStart:[function(t,e,n){"use strict";cc._RF.push(e,"c60d75qnF9Mf410p2lmP1d/","GameStart");var r=s(t("./Data/lottery_MsgStation")),i=s(t("./Data/lottery_animDataMgr")),o=(s(t("./UI/view_videoPlay/lottery_VideoPlayCtr")),s(t("./UI/view_login/lottery_loginViewCtr"))),a=s(t("./Data/lottery_lotteryData"));function s(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,loadingProgress:cc.ProgressBar,loadingStr:cc.Label},start:function(){this._GameStart()},_GameStart:function(){var e=this;cc.sys.isBrowser&&t("AAC")(window),cc.loader.loadRes("config",this.setLoadingProgress.bind(this),function(e,t){if(e)cc.error(e);else{var n=r.default.getInstance(),i=a.default.getInstance().isLocal?t.local:t.work;n.httpServer=i.HttpServer,n.socketIP=i.SocketIP,n.socketPort=i.SocketPort}}),i.default.getInstance().init(this.setLoadingProgress.bind(this),function(){o.default.getInstance().Open(),e.loadingNode.active=!1})},setLoadingProgress:function(e,t){var n=e/t;!this.loadingStr.node.active&&(this.loadingStr.node.active=!0),this.loadingProgress.progress=n,this.loadingStr.string=(100*n).toFixed(2)+"%"}}),document.exitFullscreen=function(e){},cc.director.setClearColor(new cc.Color(0,0,0,0)),cc.macro.ENABLE_TRANSPARENT_CANVAS=!0,cc.game.setFrameRate(30),cc._RF.pop()},{"./Data/lottery_MsgStation":"lottery_MsgStation","./Data/lottery_animDataMgr":"lottery_animDataMgr","./Data/lottery_lotteryData":"lottery_lotteryData","./UI/view_login/lottery_loginViewCtr":"lottery_loginViewCtr","./UI/view_videoPlay/lottery_VideoPlayCtr":"lottery_VideoPlayCtr",AAC:"AAC"}],ProjectEnum:[function(e,t,n){"use strict";cc._RF.push(t,"7e1dbNH9CVL8rHeYjZPqV1c","ProjectEnum"),t.exports={moduleEnum:cc.Enum({None:0,NeedHide:1,HideOther:2,NeedHideOther:3})},cc._RF.pop()},{}],SingletonBase:[function(e,t,n){"use strict";cc._RF.push(t,"a21f1rcO7BFzo1H+EFHmE5v","SingletonBase"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r,o,a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=e("../Core/lottery_CoreMgr"),l=(o=s)&&o.__esModule?o:{default:o};var c=!1,u=(r=i=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!c)throw new Error("Can't new on singleton!")}return a(e,[{key:"_onDestroyObject",value:function(){}}],[{key:"getInstance",value:function(){return this._singleInstance||(c=!0,this._singleInstance=this._onNewObject(),this._AddToCoreMgr(),c=!1),this._singleInstance}},{key:"_onNewObject",value:function(){throw new Error("must be implement!")}},{key:"_AddToCoreMgr",value:function(){l.default.RegisterSingleton(this)}},{key:"_doDestroyInstance",value:function(){var e=!1;if(this._singleInstance){e=!0;var t=this._singleInstance;this._singleInstance=null,t._onDestroyObject()}return e}},{key:"destroyInstance",value:function(){return this._doDestroyInstance()}}]),e}(),i._singleInstance=null,i.lottery_CoreMgr=null,r);n.default=u,t.exports=n.default,cc._RF.pop()},{"../Core/lottery_CoreMgr":"lottery_CoreMgr"}],TouchManager:[function(e,t,n){"use strict";cc._RF.push(t,"5bfe67wbfVGtbwka/AbTYeo","TouchManager");cc._RF.pop()},{}],commonBtn:[function(e,t,n){"use strict";cc._RF.push(t,"e9a72u8Ws9I6o36DGemCV3K","commonBtn"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function n(e,t){l(this,n),this.isSelect=!1,this.downCallback=null,this.node=e,this.defaultNode=cc.find("default",this.node),this.selectNode=cc.find("select",this.node),this.downCallback=t}return o(n,[{key:"select",value:function(e){this.selectNode.active=e,this.defaultNode.active=!e,this.isSelect=e}}]),n}();n.default=c;n.radioBtn=function(e){function i(e,t){l(this,i);var n=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return n.node.on(cc.Node.EventType.TOUCH_START,n.touchStart,n),n.node.on(cc.Node.EventType.TOUCH_CANCEL,n.touchCancle,n),n.node.on(cc.Node.EventType.TOUCH_END,n.touchEnd,n),n}return s(i,c),o(i,[{key:"touchStart",value:function(){this.select(!0)}},{key:"touchCancle",value:function(){this.select(!1)}},{key:"touchEnd",value:function(){this.select(!1),this.downCallback&&this.downCallback()}}]),i}(),n.groupBtn=function(e){function r(e,t,n){l(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return i.group=null,i.node.on(cc.Node.EventType.TOUCH_END,i.touchEnd,i),i.group=n,i}return s(r,c),o(r,[{key:"touchEnd",value:function(){if(this.isSelect)this.select(!1),this.group.index=null;else{this.select(!0);var e=this.group.arr.indexOf(this);null!=this.group.index&&this.group.arr[this.group.index].select(!1),this.group.index=e,this.downCallback&&this.downCallback()}}}]),r}();cc._RF.pop()},{}],eBET:[function(e,t,n){"use strict";cc._RF.push(t,"64454RuMd5BdJMnw81rBbtX","eBET"),window.ebet={},ebet.baccarat={},ebet.NetworkStatistics=function(e){this.startTime=new Date,this.totalBytes=0,this.currentBytes=0,this._byteRate=e};var i=ebet.NetworkStatistics.prototype;i.reset=function(){this.startTime=new Date,this.totalBytes=0,this.currentBytes=0},i.receiveBytes=function(e){this.currentBytes+=e,this.totalBytes+=e},i.getNetworkStatus=function(e){e=e||1;var t=this.currentBytes;return this.currentBytes=0,t/(this._byteRate*e)},ebet.videoSize={width:864,height:480},cc._RF.pop()},{}],lottery_BaseResLoad:[function(e,t,n){"use strict";cc._RF.push(t,"7b9b15UA1BKHb89kCYdYvUo","lottery_BaseResLoad"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../../Singleton/SingletonBase"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.WaitList=[],e.DoneList=[],e.KeyList=[],e.keyDic={},e.ProgressList=[],e.TypeList=[],e.CurDownloadKey=null,e.IsLoading=!1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"_onDestroyObject",value:function(){this.IsLoading=!1,this.KeyList=[],this.keyDic={},this.WaitList=[],this.DoneList=[],this.ProgressList=[],this.TypeList=[]}},{key:"DownloadRes",value:function(){if(this.KeyList.length<=0)this.IsLoading=!1;else if(null==this.CurDownloadKey||"undefined"==this.CurDownloadKey){this.CurDownloadKey=this.KeyList[0];var n=this;this.IsLoading=!0;var e=function(e,t){e?cc.error(""+e):null!=n.DoneList[n.CurDownloadKey]&&"undefined"!=n.DoneList[n.CurDownloadKey]&&n.DoneList[n.CurDownloadKey](e,t,n.CurDownloadKey),n.KeyList.shift(),delete n.WaitList[n.CurDownloadKey],delete n.DoneList[n.CurDownloadKey],delete n.TypeList[n.CurDownloadKey],delete n.ProgressList[n.CurDownloadKey],delete n.keyDic[n.CurDownloadKey],n.CurDownloadKey=null,n.CheckUpdate()};this.TypeList[this.CurDownloadKey]&&!this.ProgressList[this.CurDownloadKey]?cc.loader.loadRes(this.WaitList[this.CurDownloadKey],this.TypeList[this.CurDownloadKey],e):!this.TypeList[this.CurDownloadKey]&&this.ProgressList[this.CurDownloadKey]?cc.loader.loadRes(this.WaitList[this.CurDownloadKey],this.ProgressList[this.CurDownloadKey],e):this.TypeList[this.CurDownloadKey]||this.ProgressList[this.CurDownloadKey]?cc.loader.loadRes(this.WaitList[this.CurDownloadKey],this.TypeList[this.CurDownloadKey],this.ProgressList[this.CurDownloadKey],e):cc.loader.loadRes(this.WaitList[this.CurDownloadKey],e)}else cc.error("")}},{key:"CheckUpdate",value:function(){0<this.KeyList.length?this.DownloadRes():this.IsLoading=!1}},{key:"LoadByKey",value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;if(!this.keyDic[e]){var o;if(!(o=i?cc.loader.getRes(t,i):cc.loader.getRes(t)))return this.keyDic[e]=!0,this.KeyList.push(e),this.WaitList[e]=t,this.DoneList[e]=n,i&&(this.TypeList[e]=i),r&&(this.ProgressList[e]=r),0==this.IsLoading&&this.DownloadRes(),null;n(null,o,e)}}},{key:"LoadResDir",value:function(e,t,n){cc.loader.loadResDir(e,t,n)}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=s,t.exports=n.default,cc._RF.pop()},{"../../Singleton/SingletonBase":"SingletonBase"}],lottery_BaseSocket:[function(e,t,n){"use strict";cc._RF.push(t,"00ddcLONStHhYIjklVF70wd","lottery_BaseSocket"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var r=e("lottery_SocketEnum"),o=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._wb_client=null,this._host="",this._port="",this._attachParam="",this._cacheMsg=[],this._is_opened=!1,this._onMessageCallback=null,this._onConnectCallback=null}return i(e,[{key:"init",value:function(e,t,n){try{this._is_opened=!1,this._host=e||this._host,this._port=t||this._port,this._attachParam=n||this._attachParam||"",this.connect()}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"connect",value:function(){try{this._is_opened=!1;var e="ws://"+this._host+":"+this._port+"/socket/video/"+this._attachParam;this._wb_client=new WebSocket(e),this._wb_client.onopen=this.onOpen.bind(this),this._wb_client.onmessage=this.onMessage.bind(this),this._wb_client.onerror=this.onError.bind(this),this._wb_client.onclose=this.onClose.bind(this)}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"onOpen",value:function(e){try{this._is_opened=!0;for(var t=0;t<this._cacheMsg.length;t++){var n=this._cacheMsg[t];this.send(n)}this._cacheMsg=[],this._onConnectCallback&&this._onConnectCallback(r.success)}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"send",value:function(e){try{this._is_opened&&1===this._wb_client.readyState?this._wb_client.send(e):this._cacheMsg.push(e)}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"onError",value:function(e){try{this._is_opened=!1,this._onConnectCallback&&this._onConnectCallback(r.error)}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"onMessage",value:function(e){this._onMessageCallback&&this._onMessageCallback(e)}},{key:"onClose",value:function(e){this._onConnectCallback&&this._onConnectCallback(r.close)}},{key:"close",value:function(){try{this._is_opened&&(this._is_opened=!1,this._wb_client.onclose=null,this._wb_client.onmessage=null,this._wb_client.onopen=null,this._wb_client.onerror=null,this._wb_client.close(1e3),this._wb_client=null)}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"RegestMessageEvent",value:function(e){this._onMessageCallback=e}},{key:"RegisterConnectEvent",value:function(e){this._onConnectCallback=e}}]),e}();n.default=o,t.exports=n.default,cc._RF.pop()},{lottery_SocketEnum:"lottery_SocketEnum"}],lottery_BaseUrlLoad:[function(e,t,n){"use strict";cc._RF.push(t,"92a07KQTwBPbI9o886t3R0x","lottery_BaseUrlLoad"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../../Singleton/SingletonBase"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.keyList=[],e.urlList=[],e.callbackList=[],e.suffixList=[],e.curKey="",e.curUrl="",e.curCallback=null,e.curSuffix="",e.isLoading=!1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"LoadUrl",value:function(e,t,n,i){this.keyList.push(e),this.urlList.push(t),this.suffixList.push(n),this.callbackList.push(i),this.load()}},{key:"loadHead",value:function(){this.isLoading=!0,this.curKey=this.keyList.splice(0,1)[0],this.curUrl=this.urlList.splice(0,1)[0],this.curCallback=this.callbackList.splice(0,1)[0],this.curSuffix=this.suffixList.splice(0,1)[0],cc.loader.load({url:this.curUrl,type:this.curSuffix},this.loadCallback.bind(this))}},{key:"load",value:function(){this.isLoading||this.loadHead()}},{key:"loadCallback",value:function(e,t){this.curCallback(e,t,this.curKey),0<this.urlList.length?this.loadHead():this.isLoading=!1}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=s,t.exports=n.default,cc._RF.pop()},{"../../Singleton/SingletonBase":"SingletonBase"}],lottery_CoreMgr:[function(e,t,n){"use strict";cc._RF.push(t,"cbad6kKNv1JpoOehhoYtuUM","lottery_CoreMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i,r,o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var a=(r=i=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e)}return o(e,null,[{key:"RegisterSingleton",value:function(e){this.singletonList.push(e)}},{key:"Destroy",value:function(){for(var e=0;e<this.singletonList.length;e++){this.singletonList[e].destroyInstance()}}}]),e}(),i.singletonList=[],r);n.default=a,t.exports=n.default,cc._RF.pop()},{}],lottery_EventDefine:[function(e,t,n){"use strict";var i,r;cc._RF.push(t,"35ab2EJFY5FJ6gmZ41vWrxD","lottery_EventDefine"),Object.defineProperty(n,"__esModule",{value:!0});n.lottery_EventDefine=(r=i=function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e)},i.loginView={keyboradNum:"KEYBORADNUM"},i.sys={loadingOvertime:"LOADINGOVERTIME"},i.VIDEOFLOW={RESTART:"RESTART",BALLINFO:"BALLINFO"},i.URL_CHANGE="URL_CHANGE",r);cc._RF.pop()},{}],lottery_GlobalMsg:[function(e,t,n){"use strict";cc._RF.push(t,"034c1NR1WpKFqKEkHhf9DFr","lottery_GlobalMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../../Singleton/SingletonBase"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.m_Callbacks={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"_onDestroyObject",value:function(){this.m_Callbacks={}}},{key:"Register",value:function(e,t,n){try{null==this.m_Callbacks[e]&&(this.m_Callbacks[e]=[]),this.m_Callbacks[e].push({callback:t,uuid:n})}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"Unregister",value:function(e,t){try{if(null==this.m_Callbacks[e])return void cc.log("Unregister "+e+" failed! case it is null!");if(t)for(var n=0;n<this.m_Callbacks[e].length;n++){if(this.m_Callbacks[e][n].uuid==t){this.m_Callbacks[e].splice(n,1);break}}else delete this.m_Callbacks[e]}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"Send",value:function(e,t){if(null!=this.m_Callbacks[e])for(var n=0;n<this.m_Callbacks[e].length;n++){var i=this.m_Callbacks[e][n];i.callback&&i.callback(t)}else cc.log("this.m_Callbacks[msgkey] == null:"+e+"---------------------------------")}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=s,t.exports=n.default,cc._RF.pop()},{"../../Singleton/SingletonBase":"SingletonBase"}],lottery_HttpUtils:[function(e,t,n){"use strict";cc._RF.push(t,"da0308tgH5H7LXia2go6YN/","lottery_HttpUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../../Singleton/SingletonBase"),a=(i=o)&&i.__esModule?i:{default:i};var s=cc.Enum({Undefined:0,Text:1,Binary:2}),l=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._reqListTimes={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"httpGets",value:function(t,e,n){try{var i=new XMLHttpRequest,r=this;i.onload=function(){r.getRequestEnd(i,t,e,n)},i.onerror=function(e){r.getError(n,t)},i.responseType="arraybuffer",i.open("GET",t,!0),i.send()}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"getError",value:function(e,t){try{e&&e(!1,t)}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"getRequestEnd",value:function(e,t,n,i){try{if(4==e.readyState&&200<=e.status&&e.status<400){var r=null;r=n==s.Binary?e.response:e.responseText,i(!0,r)}else this.getRequestFailed(t,datatype,i)}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"getRequestFailed",value:function(e,t,n){try{this._reqListTimes[e]||(this._reqListTimes[e]=0),4<=this._reqListTimes[e]?n&&n(!1):(this._reqListTimes[e]++,this.httpGets(e,t,n))}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"serializePost",value:function(e){try{if("string"==typeof e)return e;var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"httpPost",value:function(t,e,n,i){try{var r=null,o=new XMLHttpRequest,a=this;o.onreadystatechange=function(){4==o.readyState&&(clearTimeout(r),200<=o.status&&o.status<400?n&&(o.responseText&&"string"==typeof o.responseText?n(JSON.parse(o.responseText)):n(o.responseText)):a.getError(i,t))},o.onerror=function(e){a.getError(i,t)},o.open("POST",t,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.timeout=1e4,o.send(this.serializePost(e)),r=setTimeout(function(){o.abort()},o.timeout)}catch(e){cc.log(cc.js.getClassName(this)+":"+e.message)}}},{key:"ajaxGet",value:function(e,t,n,i,r){var o={};o.type=(i||"GET").toUpperCase(),o.dataType=o.dataType||"json",o.async=o.async||!0,o.timeout=o.timeout||1500;var a,s,l=r||"";(a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(4==a.readyState){var e=a.status;clearTimeout(s),200<=e&&e<300?t&&t(JSON.parse(a.responseText),a.responseXML):n&&n(e)}},"GET"==o.type?(a.open("GET",e+"?"+l,o.async),a.send(null)):"POST"==o.type&&(a.open("POST",o.url,o.async),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(l)),s=setTimeout(function(){a.abort()},o.timeout)}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=l,t.exports=n.default,cc._RF.pop()},{"../../Singleton/SingletonBase":"SingletonBase"}],lottery_Keyboard:[function(e,t,n){"use strict";cc._RF.push(t,"90a16dcoilHRYpJd88crC/i","lottery_Keyboard"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r,o,h,a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=e("./commonBtn"),l=e("../../Data/lottery_EventDefine");function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c,u,d,p,y,v,g=cc._decorator,m=g.ccclass,_=(i=(0,g.property)(cc.Node),m((o=function(e){function u(){var e,t,n,i,r,o,a;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,u);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=f(this,(e=u.__proto__||Object.getPrototypeOf(u)).call.apply(e,[this].concat(l))),r="content",a=i=t=n,(o=h)&&Object.defineProperty(i,r,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0}),n.keyBoardArr=[1,2,3,4,5,6,7,8,9,0,-1],n.itemArr=[],f(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,cc.Component),a(u,[{key:"onLoad",value:function(){for(var e in this.keyBoardArr){var t=this.content.children[e];this.itemArr.push(new s.radioBtn(t,this.numKeyDown.bind(this,e)))}}},{key:"numKeyDown",value:function(e){cc.systemEvent.emit(l.lottery_EventDefine.loginView.keyboradNum,this.keyBoardArr[e])}}]),u}(),c=o.prototype,u="content",d=[i],p={enumerable:!0,initializer:function(){return null}},v={},Object.keys(p).forEach(function(e){v[e]=p[e]}),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=d.slice().reverse().reduce(function(e,t){return t(c,u,e)||e},v),y&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(y):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(c,u,v),v=null),h=v,r=o))||r);n.default=_,t.exports=n.default,cc._RF.pop()},{"../../Data/lottery_EventDefine":"lottery_EventDefine","./commonBtn":"commonBtn"}],lottery_LanguageLabel:[function(e,t,n){"use strict";cc._RF.push(t,"e9a7cv5Iq1B+qByHFfiaEs6","lottery_LanguageLabel");var i,r=e("lottery_LanguageManager"),o=(i=r)&&i.__esModule?i:{default:i};cc.Class({extends:e("lottery_LanguageTool"),editor:!1,properties:{Label:{default:null,type:cc.Label,tooltip:""}},onLoad:function(){this._super(),null==this.Label&&(this.Label=this.node.getComponent(cc.Label)),this.UpdateText()},UpdateText:function(){if(this.languageID){this.languageManager=this.languageManager||o.default.getInstance();var e=this.languageManager.GetLanguageText(this.languageID);if(this.args&&0<this.args.length)for(var t=0;t<this.args.length;t++){var n=this.args[t];e=e.replace("{"+t+"}",n)}this.Label.string=e}}}),cc._RF.pop()},{lottery_LanguageManager:"lottery_LanguageManager",lottery_LanguageTool:"lottery_LanguageTool"}],lottery_LanguageManager:[function(e,t,n){"use strict";cc._RF.push(t,"ce9a2TeQ5xPnZ6m949OSXON","lottery_LanguageManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=a(e("SingletonBase")),o=a(e("../Core/ResHandle/lottery_BaseResLoad"));function a(e){return e&&e.__esModule?e:{default:e}}var s=cc.Enum({none:0,cn:1,en:2}),l=["cn","enus"],c=["",""],u=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.curLanguageID=0,e.languageDic={},e.changeEvent={},e.LanguageEnum=s,e.languageNam=c,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"loadLanguage",value:function(){var n=this,e="Config/language/Manage_"+l[this.curLanguageID-1];o.default.getInstance().LoadByKey(l[this.curLanguageID-1],e,function(e,t){e||(n.languageDic=JSON.parse(t),n.callEvent())})}},{key:"callEvent",value:function(){for(var e in this.changeEvent)this.changeEvent[e](this.curLanguageID);var t=new cc.Event.EventCustom("InitLanguageCallBack",!1);cc.systemEvent.dispatchEvent(t)}},{key:"InitLanguage",value:function(e){e=e||s.cn,this.curLanguageID!==e&&(this.curLanguageID=e,this.loadLanguage())}},{key:"Register",value:function(e,t,n){this.changeEvent[e]=n?t.bind(n):t}},{key:"UnRegister",value:function(e){delete this.changeEvent[e]}},{key:"GetLanguageText",value:function(e){return this.languageDic[e]&&this.languageDic[e]||e}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=u,t.exports=n.default,cc._RF.pop()},{"../Core/ResHandle/lottery_BaseResLoad":"lottery_BaseResLoad",SingletonBase:"SingletonBase"}],lottery_LanguageRichTextKey:[function(e,t,n){"use strict";cc._RF.push(t,"610capX0hRBtJk5RIplMKp7","lottery_LanguageRichTextKey");var i,r=e("lottery_BaseResLoad"),s=(i=r)&&i.__esModule?i:{default:i};cc.Class({extends:e("lottery_LanguageTool"),editor:!1,properties:{Label:{default:null,type:cc.RichText,tooltip:""},textCache:{default:{},visible:!1}},onLoad:function(){this._super(),null==this.Label&&(this.Label=this.node.getComponent(cc.RichText))},SetLanguageID:function(e){this.languageID!==e&&(this.languageID=e,this.languageID&&this.UpdateText())},UpdateText:function(){var o=this,a=this.languageManager.GetLanguageText(this.languageID),e=cc.lottery.Helper;this.textCache[a]?this.Label.string=this.textCache[a]:s.default.getInstance().LoadByKey(a,e.Res.ConfigPath+"RuleText/"+a,function(e,t,n){if(o.args&&0<o.args.length)for(var i=0;i<o.args.length;i++){var r=o.args[i];t=t.replace("{"+i+"}",r)}o.textCache[a]=t,o.Label.string=t})}}),cc._RF.pop()},{lottery_BaseResLoad:"lottery_BaseResLoad",lottery_LanguageTool:"lottery_LanguageTool"}],lottery_LanguageRichText:[function(e,t,n){"use strict";cc._RF.push(t,"6d6cejC/hJBA7UnpzSU6xem","lottery_LanguageRichText"),cc.Class({extends:e("lottery_LanguageTool"),editor:!1,properties:{Label:{default:null,type:cc.RichText,tooltip:""},constStrArr:[],keyArr:[]},onLoad:function(){this._super(),null==this.Label&&(this.Label=this.node.getComponent(cc.RichText))},UpdateText:function(){if(this.languageManager||(this.languageManager=cc.lottery.LanguageManager),this.languageID&&(this.keyArr=[[this.languageID]],this.constStrArr=[[""]]),this.constStrArr.length){for(var e="",t=0;t<this.constStrArr.length;t++)for(var n=this.constStrArr[t],i=this.keyArr[t]||[],r=0;r<n.length;r++){e+=n[r];var o=i[r]||"";if(o){for(var a=this.languageManager.GetLanguageText(o),s=this.args.length?this.args[t][r]:[],l=0;l<s.length;l++){var c=s[l];a=a.replace("{"+l+"}",c)}e+=a}}this.Label.string=e}},setLanguageId:function(e,t){this.constStrArr=e,this.keyArr=t,this.UpdateText()},changeLanguage:function(e){this.node.active?(this.curLanguageEnum=this.changeLanguageEnum,this.UpdateText()):this.changeLanguageEnum=e},SetArgs:function(e){this.args=e,this.UpdateText()}}),cc._RF.pop()},{lottery_LanguageTool:"lottery_LanguageTool"}],lottery_LanguageTool:[function(e,t,n){"use strict";cc._RF.push(t,"f8e2838WyNMeKTSJmJqKvFJ","lottery_LanguageTool");var i,r=e("lottery_LanguageManager"),o=(i=r)&&i.__esModule?i:{default:i};cc.Class({extends:cc.Component,properties:{languageID:{default:"",tooltip:"key"},languageManager:{default:null,visible:!1},curLanguageEnum:{default:0,visible:!1},changeLanguageEnum:{default:1,visible:!1},args:{default:[],visible:!1}},onLoad:function(){this.languageManager=o.default.getInstance(),this.languageManager.Register(this.node.uuid,this.changeLanguage,this)},onEnable:function(){this.curLanguageEnum!==this.changeLanguageEnum&&this.changeLanguage(this.changeLanguageEnum)},onDestroy:function(){this.languageManager.UnRegister(this.node.uuid)},changeLanguage:function(e){this.node.active?(this.curLanguageEnum=this.changeLanguageEnum,this.languageID&&this.UpdateText()):this.changeLanguageEnum=e},UpdateText:function(){},SetLanguageID:function(e){this.languageID=e,this.languageID&&this.UpdateText()},SetArgs:function(){this.args=arguments,this.languageID&&this.UpdateText()}}),cc._RF.pop()},{lottery_LanguageManager:"lottery_LanguageManager"}],lottery_Login:[function(e,t,n){"use strict";cc._RF.push(t,"886598LgnxP26wzdlv4VBYl","lottery_Login"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r,o,a,s,l,c=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),u=e("../tools/commonBtn"),h=e("../../Data/lottery_EventDefine"),f=p(e("../../Data/lottery_MsgStation")),d=p(e("../tools/lottery_helper"));function p(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(n,i,e,t,r){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(n,i,e)||e},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(n,i,o),o=null),o}var b=cc._decorator,w=b.ccclass,k=b.property,C=(i=k(cc.Node),r=k(cc.Node),w((a=function(e){function a(){var e,t,n;v(this,a);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=n=g(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(r)))).btnGruop={arr:[],index:null},y(n,"content",s,n),y(n,"sumbitBtn",l,n),g(n,t)}return m(a,cc.Component),c(a,[{key:"onLoad",value:function(){for(var e=0,t=this.content.children.length;e<t;e++)this.btnGruop.arr.push(new S(this.content.children[e],function(){},this.btnGruop));this.sumbitBtn.on(cc.Node.EventType.TOUCH_END,this.submitInfor,this)}},{key:"onEnable",value:function(){cc.systemEvent.on(h.lottery_EventDefine.loginView.keyboradNum,this.setContent,this)}},{key:"onDisable",value:function(){cc.systemEvent.off(h.lottery_EventDefine.loginView.keyboradNum,this.setContent,this)}},{key:"submitInfor",value:function(){var e=this.btnGruop.arr[0].editbox.string,t=this.btnGruop.arr[1].editbox.string;""==e?d.default.getInstance().showTips(""):""==t?d.default.getInstance().showTips(""):f.default.getInstance().onSendEnterLogin(e,t)}},{key:"setContent",value:function(e){if(null!=this.btnGruop.index){var t=this.btnGruop.arr[this.btnGruop.index],n=e.getUserData();if(-1!=n)t.editbox.string+=n,t.delBtnNode.active=!0;else{var i=t.editbox.string;i=i.substr(0,i.length-1),t.editbox.string=i,t.delBtnNode.active=!!i.length}}}}]),a}(),s=_(a.prototype,"content",[i],{enumerable:!0,initializer:function(){return null}}),l=_(a.prototype,"sumbitBtn",[r],{enumerable:!0,initializer:function(){return null}}),o=a))||o);n.default=C;var S=function(e){function r(e,t,n){v(this,r);var i=g(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,n));return i.node.off(cc.Node.EventType.TOUCH_END,i.touchEnd,i),i.editbox=cc.find("editbox",i.node).getComponent(cc.EditBox),i.delBtnNode=cc.find("deleteBtn",i.node),i.delBtnNode.on(cc.Node.EventType.TOUCH_END,i.delBtnDown,i),i.editbox.node.on("text-changed",i.editBoxChange,i),i.editbox.node.on("editing-did-began",i.editBoxBegin,i),i}return m(r,u.groupBtn),c(r,[{key:"editBoxChange",value:function(){this.delBtnNode.active=""!=this.editbox.string}},{key:"editBoxBegin",value:function(){this.isSelect||this.touchEnd(),this.delBtnNode.active=""!=this.editbox.string}},{key:"delBtnDown",value:function(){this.editbox.string="",this.delBtnNode.active=!1,this.touchEnd()}}]),r}();t.exports=n.default,cc._RF.pop()},{"../../Data/lottery_EventDefine":"lottery_EventDefine","../../Data/lottery_MsgStation":"lottery_MsgStation","../tools/commonBtn":"commonBtn","../tools/lottery_helper":"lottery_helper"}],lottery_MsgStation:[function(e,t,n){"use strict";cc._RF.push(t,"3b143SzPsNCcJ/WU7ozXQgC","lottery_MsgStation"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();n.simulationAward=function(){setTimeout(function(){f.default.getInstance().OnMessageHandle({type:4}),setTimeout(function(){m.getInstance().lotteryOpeningOrClosed(0),setTimeout(function(){m.getInstance().setJianQi({expect:11,nestExpect:12})},1e4)},1e4)},5e3)};var r=a(e("../Singleton/SingletonBase")),o=a(e("../Manager/lottery_NetManager")),s=a(e("../Manager/lottery_SocketManager")),l=a(e("../Manager/lottery_SockMsgDefine")),c=a(e("../Core/Event/lottery_GlobalMsg")),u=e("./lottery_EventDefine"),h=a(e("../UI/tools/lottery_helper")),f=a(e("../UI/view_videoSys/lottery_VideoSysCtr")),d=a(e("../UI/view_login/lottery_loginViewCtr")),p=a(e("../UI/view_videoPlay/lottery_VideoPlayCtr")),y=a(e("../UI/view_videoSys/videoMsgFactory")),v=a(e("./lottery_lotteryData"));function a(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function a(){var e,t,n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=n=g(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(r)))).httpServer="",n.socketIP="",n.socketPort="",n.loging=!1,g(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,r.default),i(a,[{key:"noticeInit",value:function(){var e=s.default.getInstance();e.On(l.default.DOWN.SC_OK,this.socketConnect,this),e.On(l.default.DOWN.SC_VideoMsg,this.videoMsg,this),e.On(l.default.DOWN.SC_KaiPan,this.lotteryOpeningOrClosed,this),e.On(l.default.DOWN.SC_JianQi,this.setJianQi,this),e.On(l.default.DOWN.SC_JIANQIU,this.lotteryResults,this),e.On(l.default.DOWN.SC_VideoUrl,this.lotteryVideoUrlChange,this)}},{key:"sysEventInit",value:function(){c.default.getInstance().Register(u.lottery_EventDefine.sys.loadingOvertime,this.loadingOvertime)}},{key:"onSendEnterLogin",value:function(e,t){h.default.getInstance().showLoading(),o.default.getInstance().HttpPost(this.httpServer+"dealer/login/video/check",{userName:e,password:t},function(e,t){if(h.default.getInstance().showLoading(!1),e)h.default.getInstance().showTips("");else switch(t.code){case 1:v.default.getInstance().updataData(t.data),console.log(t.data),d.default.getInstance().OnMessageHandle({type:1,data:v.default.getInstance().roleList});break;case 0:h.default.getInstance().showTips("");break;default:h.default.getInstance().showTips("")}})}},{key:"onSendLotteryChoice",value:function(e){h.default.getInstance().showLoading(),v.default.getInstance().lotteryCode=e,s.default.getInstance().Connect(this.socketIP,this.socketPort,v.default.getInstance().userId)}},{key:"onSendLinkHeGuan",value:function(){h.default.getInstance().showLoading();var e={codeBack:2020,data:{lotteryCode:v.default.getInstance().lotteryCode}};s.default.getInstance().Send(JSON.stringify(e)),f.default.getInstance().OnMessageHandle({type:1})}},{key:"onSendLinkHeGuanSuccess",value:function(){h.default.getInstance().showLoading(!1),f.default.getInstance().OnMessageHandle({type:2})}},{key:"onFullPlay",value:function(){p.default.getInstance().Close(),f.default.getInstance().Open(),screenfull.request(document.getElementById("Cocos2dGameContainer"))}},{key:"onBackToSys",value:function(){h.default.getInstance().showLoading(!1),p.default.getInstance().Open(),f.default.getInstance().Close()}},{key:"onSendLogoutContent",value:function(){s.default.getInstance().close(),p.default.getInstance().Close(),d.default.getInstance().Open()}},{key:"socketConnect",value:function(e){console.log(""),this.getVideoUrl(),d.default.getInstance().Close(),p.default.getInstance().Open(),h.default.getInstance().showLoading(!1)}},{key:"videoMsg",value:function(e){1==e?f.default.getInstance().OnMessageHandle({type:2}):0==e&&f.default.getInstance().OnMessageHandle({type:3})}},{key:"lotteryOpeningOrClosed",value:function(e){console.log(e),0==e?y.default.ins().changePeriod(-1):y.default.ins().changePeriod(2),cc.systemEvent.emit(u.lottery_EventDefine.VIDEOFLOW.RESTART)}},{key:"setJianQi",value:function(e){v.default.getInstance().expect=e.expect,v.default.getInstance().nestExpect=e.nestExpect,y.default.ins().changePeriod(0),cc.systemEvent.emit(u.lottery_EventDefine.VIDEOFLOW.RESTART),y.default.ins().changePeriod(-1)}},{key:"lotteryOpenAward",value:function(){y.default.ins().changePeriod(0),cc.systemEvent.emit(u.lottery_EventDefine.VIDEOFLOW.RESTART)}},{key:"lotteryReadyAward",value:function(e){y.default.ins().countDownTime=e}},{key:"lotteryResults",value:function(e){console.log(e),cc.systemEvent.emit(u.lottery_EventDefine.VIDEOFLOW.BALLINFO,e)}},{key:"lotteryVideoUrlChange",value:function(e){v.default.getInstance().videoUrl=JSON.parse(e.videoUrl),console.log(v.default.getInstance().videoUrl)}},{key:"getVideoUrl",value:function(){var e={};e.codeBack=l.default.DOWN.SC_VideoUrl,e.data={type:"GET",lotteryCode:v.default.getInstance().lotteryCode},s.default.getInstance().Send(JSON.stringify(e))}},{key:"loadingOvertime",value:function(){console.log("")}}],[{key:"_onNewObject",value:function(){var e=new a;return e.noticeInit(),e.sysEventInit(),e}}]),a}();n.default=m,cc._RF.pop()},{"../Core/Event/lottery_GlobalMsg":"lottery_GlobalMsg","../Manager/lottery_NetManager":"lottery_NetManager","../Manager/lottery_SockMsgDefine":"lottery_SockMsgDefine","../Manager/lottery_SocketManager":"lottery_SocketManager","../Singleton/SingletonBase":"SingletonBase","../UI/tools/lottery_helper":"lottery_helper","../UI/view_login/lottery_loginViewCtr":"lottery_loginViewCtr","../UI/view_videoPlay/lottery_VideoPlayCtr":"lottery_VideoPlayCtr","../UI/view_videoSys/lottery_VideoSysCtr":"lottery_VideoSysCtr","../UI/view_videoSys/videoMsgFactory":"videoMsgFactory","./lottery_EventDefine":"lottery_EventDefine","./lottery_lotteryData":"lottery_lotteryData"}],lottery_NetManager:[function(e,t,n){"use strict";cc._RF.push(t,"40803HW+gtHOLqXquc0cFQO","lottery_NetManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=c(e("SingletonBase")),o=c(e("lottery_RunInBackground")),a=c(e("lottery_BaseUrlLoad")),s=c(e("lottery_HttpUtils")),l=c(e("lottery_TimeMgr"));function c(e){return e&&e.__esModule?e:{default:e}}var u=void 0,h=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.curServerTimeStamp=0,e.changeServerTimerID=0,e.serverTimeChangeEvent={},e.httpPostList=[],e.openHttpPost=!1,e.showTipsFunc=null,e.hideTipsFunc=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"RunInBackground",value:function(e){}},{key:"HttpPostFunc",value:function(){var n=this,i=this.httpPostList[0],r=function(){n.httpPostList.splice(0,1),n.hideTipsFunc&&n.hideTipsFunc(),n.httpPostList.length<=0?n.openHttpPost=!1:n.HttpPostFunc()};s.default.getInstance().httpPost(""+i.url,i.params,function(e){var t=null;1==e.state&&(t=e.errorMessage),e.thisTime&&n.FreshServerTimeStamp(e.thisTime),u=e.token||e.logintoken||u,i.callback(t,e),r.call(this)}.bind(this),function(e,t){i.showErrorTips&&this.ShowErrorTips(),i.callback("error",null),r.call(this)}.bind(this))}},{key:"ShowErrorTips",value:function(){}},{key:"AddServerTime",value:function(){for(var e in this.curServerTimeStamp+=1,this.serverTimeChangeEvent){(0,this.serverTimeChangeEvent[e])(this.curServerTimeStamp)}}},{key:"FreshServerTimeStamp",value:function(e){this.curServerTimeStamp=Math.floor(e/1e3);var t=e%1e3;t=1-t/1e3,0!==this.changeServerTimerID&&(l.default.getInstance().closeTimer(this.changeServerTimerID),this.changeServerTimerID=0),this.changeServerTimerID=l.default.getInstance().openTimer(this.AddServerTime,1,0,t,this)}},{key:"InitUrl",value:function(e,t){o.default.getInstance().RegestRunInBackground("NetManager",this.RunInBackground,this)}},{key:"HttpPost",value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];t.token&&""!=t.token&&(u=t.token);var r={url:e,params:t,callback:n,showErrorTips:i};this.httpPostList.push(r),this.showTipsFunc&&this.showTipsFunc(),this.openHttpPost||(this.openHttpPost=!0,this.HttpPostFunc())}},{key:"AjaxGet",value:function(e,t,n,i,r){s.default.getInstance().ajaxGet(e,t,n,i,r)}},{key:"RegestServerTimeChangeEvent",value:function(e,t,n){t=n?t.bind(n):t,(this.serverTimeChangeEvent[e]=t)(this.curServerTimeStamp)}},{key:"UnRegestServerTimeChangeEvent",value:function(e){this.serverTimeChangeEvent[e]&&delete this.serverTimeChangeEvent[e]}},{key:"LoadUrl",value:function(e,t,n,i){a.default.getInstance().LoadUrl(e,""+t,n,i)}},{key:"SetShowWaitPanelFunc",value:function(e){this.showTipsFunc=e}},{key:"SetHideWaitPanelFunc",value:function(e){this.hideTipsFunc=e}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=h,t.exports=n.default,cc._RF.pop()},{SingletonBase:"SingletonBase",lottery_BaseUrlLoad:"lottery_BaseUrlLoad",lottery_HttpUtils:"lottery_HttpUtils",lottery_RunInBackground:"lottery_RunInBackground",lottery_TimeMgr:"lottery_TimeMgr"}],lottery_RunInBackground:[function(e,t,n){"use strict";cc._RF.push(t,"8c74cz+yWZOXqGRqI2GNwpl","lottery_RunInBackground");var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("SingletonBase"),a=(i=o)&&i.__esModule?i:{default:i};var s={},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"_onDestroyObject",value:function(){cc.game.off(cc.game.EVENT_HIDE,this._goToBackground,this),cc.game.off(cc.game.EVENT_SHOW,this._goToFront,this)}},{key:"_goToBackground",value:function(){this.CallRunCallback(!1)}},{key:"_goToFront",value:function(){this.CallRunCallback(!0)}},{key:"CallRunCallback",value:function(e){for(var t in s){(0,s[t])(e)}}},{key:"RegestRunInBackground",value:function(e,t,n){s[e]=n?t.bind(n):t}},{key:"UnregestRunInBackground",value:function(e){s[e]&&delete s[e]}}],[{key:"_onNewObject",value:function(){var e=new t;return cc.game.on(cc.game.EVENT_HIDE,e._goToBackground,e),cc.game.on(cc.game.EVENT_SHOW,e._goToFront,e),e}}]),t}();t.exports=l,cc._RF.pop()},{SingletonBase:"SingletonBase"}],lottery_ScrollViewNormalExtend:[function(e,t,n){"use strict";cc._RF.push(t,"b73fe6vxO5DiaPQP9pffi+a","lottery_ScrollViewNormalExtend");var i=0,r=0;cc.Class({extends:cc.ScrollView,editor:!1,properties:{itemNode:{default:null,type:cc.Node,tooltip:"node"},itemprefab:{default:null,type:cc.Prefab,tooltip:""},viewMask:{type:cc.Node,default:null,tooltip:"node"},spacing:{default:3,tooltip:""},mDirect:{default:"x",visible:!1},mValue:{default:"width",visible:!1},mAnchor:{default:"anchorX",visible:!1},dataCount:{default:0,visible:!1},maxItemCount:{default:3,visible:!1},curItemCount:{default:0,visible:!1},curShowItemIndex:{default:[],visible:!1},showTopPos:{default:0,visible:!1},showDownPos:{default:0,visible:!1},hideTopPos:{default:0,visible:!1},hideDownPos:{default:0,visible:!1},itemActiveList:{default:[],visible:!1},itemDeactivePool:{default:null,type:cc.NodePool,visible:!1},lastContentPos:{default:0,visible:!1},checkdelta:{default:0,visible:!1},itemway:{default:-1,visible:!1},itemSynPos:{default:new cc.Vec2(0,0),visible:!1},cloneItem:{default:null,visible:!1}},onLoad:function(){this.cloneItem=this.itemNode||this.itemprefab,this.itemDeactivePool=[];for(var e=0;e<3;e++){var t=cc.instantiate(this.cloneItem);t.active=!1,this.content.addChild(t),this.itemDeactivePool.push(t)}this.curShowItemIndex=[0,0],this.vertical=!this.horizontal,this.mDirect=this.horizontal?"x":"y",this.mValue=this.horizontal?"width":"height",this.mAnchor=this.horizontal?"anchorX":"anchorY",this.itemway=this.horizontal?1:-1,this.lastContentPos=this.content[this.mDirect],this.CalculateRangePos()},update:function(e){this._super(e),(this.isScrolling()||this.isAutoScrolling())&&this.UpdateItemPos()},CalculateRangePos:function(){this.checkdelta=.25*this.spacing,this.maxItemCount=Math.floor(this.viewMask[this.mValue]/this.spacing)+3,this.showTopPos=this.lastContentPos-this.itemway*this.spacing,this.showDownPos=this.lastContentPos+this.itemway*(this.viewMask[this.mValue]+.5*this.spacing),this.hideTopPos=this.lastContentPos-1.5*this.itemway*this.spacing,this.hideDownPos=this.lastContentPos+this.itemway*(this.viewMask[this.mValue]+1.5*this.spacing)},GetItem:function(){var e=this.itemDeactivePool.pop();return e||(e=cc.instantiate(this.cloneItem),this.content.addChild(e)),e.active=!0,e},PopItem:function(){if(!(this.curItemCount>=this.maxItemCount)){var e=this.GetItem();this.itemActiveList.push(e),this.itemSynPos[this.mDirect]=this.itemway*this.curShowItemIndex[1]*this.spacing,e.setPosition(this.itemSynPos),this.freshItemCallback&&this.freshItemCallback(this.curShowItemIndex[1],e),this.curShowItemIndex[1]++,this.curItemCount++}},PushItem:function(){var e=this.itemActiveList.pop();this.itemDeactivePool.push(e),this.curShowItemIndex[1]--,this.curItemCount--},UnshiftItem:function(){var e=this.GetItem();this.itemActiveList.unshift(e),this.curShowItemIndex[0]--,this.itemSynPos[this.mDirect]=this.itemway*this.curShowItemIndex[0]*this.spacing,e.setPosition(this.itemSynPos),this.freshItemCallback&&this.freshItemCallback(this.curShowItemIndex[0],e),this.curItemCount++},ShiftItem:function(){var e=this.itemActiveList.shift();e.active=!1,this.itemDeactivePool.push(e),this.curShowItemIndex[0]++,this.curItemCount--},CheckTopPop:function(){this.horizontal?this.content[this.mDirect]+this.itemActiveList[0][this.mDirect]<this.hideTopPos&&this.ShiftItem():this.content[this.mDirect]+this.itemActiveList[0][this.mDirect]>this.hideTopPos&&this.ShiftItem()},CheckTopPush:function(){0!=this.curShowItemIndex[0]&&(this.horizontal?this.content[this.mDirect]+this.itemActiveList[0][this.mDirect]>this.showTopPos&&this.UnshiftItem():this.content[this.mDirect]+this.itemActiveList[0][this.mDirect]<this.showTopPos&&this.UnshiftItem())},CheckDownPop:function(){this.horizontal?this.content[this.mDirect]+this.itemActiveList[this.curItemCount-1][this.mDirect]>this.hideDownPos&&this.PushItem():this.content[this.mDirect]+this.itemActiveList[this.curItemCount-1][this.mDirect]<this.hideDownPos&&this.PushItem()},CheckDownPush:function(){this.curShowItemIndex[1]!=this.dataCount&&(this.horizontal?this.content[this.mDirect]+this.itemActiveList[this.curItemCount-1][this.mDirect]<this.showDownPos&&this.PopItem():this.content[this.mDirect]+this.itemActiveList[this.curItemCount-1][this.mDirect]>this.showDownPos&&this.PopItem())},UpdateItemPos:function(){if(i=this.content[this.mDirect]-this.lastContentPos,!(Math.abs(i)<this.checkdelta)){for(r=Math.ceil(Math.abs(i)/this.spacing);0<r;)r--,this.horizontal?i<0&&this.curShowItemIndex[1]<this.dataCount?(this.CheckTopPop(),this.CheckDownPush()):0<i&&0<this.curShowItemIndex[0]&&(this.CheckDownPop(),this.CheckTopPush()):0<i&&this.curShowItemIndex[1]<this.dataCount?(this.CheckTopPop(),this.CheckDownPush()):i<0&&0<this.curShowItemIndex[0]&&(this.CheckDownPop(),this.CheckTopPush());this.lastContentPos=this.content[this.mDirect]}},InitItemData:function(e,t,n){this.freshItemCallback=n?t.bind(n):t,this.dataCount=e,this.content[this.mValue]=this.dataCount*this.spacing,e>this.maxItemCount&&(e=this.maxItemCount);for(var i=0;i<e;i++)this.PopItem()},AddItemData:function(){this.curShowItemIndex[1]==this.dataCount&&this.PopItem(),this.dataCount++,this.content[this.mValue]=this.dataCount*this.spacing},AddItemDataNum:function(e){for(var t=0;t<e;t++)this.AddItemData()},DeleteItem:function(e){this.stopAutoScroll(),e<this.curShowItemIndex[0]&&(this.content[this.mDirect]-=this.spacing);for(var t=(e-=this.curShowItemIndex[0])<0?0:e;t<this.itemActiveList.length;t++){var n=this.itemActiveList[t];this.freshItemCallback(this.curShowItemIndex[0]+t,n)}this.dataCount--,this.content[this.mValue]=this.dataCount*this.spacing,this.content[this.mValue]<this.content[this.mDirect]+this.viewMask[this.mValue]&&this.scrollToBottom()},UpdateItem:function(e){if(this.curShowItemIndex[0]<=e<=this.curShowItemIndex[1]&&this.freshItemCallback){var t=e-this.curShowItemIndex[0];this.freshItemCallback(e,this.itemActiveList[t])}},UnRegestUpdateItem:function(){this.freshItemCallback=null},ClearData:function(e){this.stopAutoScroll(),this.horizontal?this.itemSynPos[this.mDirect]=-this.viewMask[this.mValue]*this.viewMask[this.mAnchor]:this.itemSynPos[this.mDirect]=this.viewMask[this.mValue]*(1-this.viewMask[this.mAnchor]),this.content.setPosition(this.itemSynPos);for(var t=0;t<this.itemActiveList.length;t++){var n=this.itemActiveList[t];n.active=!1,this.itemDeactivePool.push(n)}this.itemActiveList.splice(0,this.curItemCount),this.curItemCount=0,this.content.height=0,this.curShowItemIndex=[0,0],this.lastContentPos=this.itemSynPos[this.mDirect],e&&e()},SpacingChanged:function(e){var t=this;this.itemActiveList.length<=0||this.ClearData(function(){t.CalculateRangePos(),t.InitItemData(t.dataCount,t.freshItemCallback)})},setItemNode:function(e){this.content.removeAllChildren(),this.itemNode=e,this.cloneItem=this.itemNode||this.itemprefab,this.itemDeactivePool=[];for(var t=0;t<3;t++){var n=cc.instantiate(this.cloneItem);n.active=!1,this.content.addChild(n),this.itemDeactivePool.push(n)}this.curShowItemIndex=[0,0],this.vertical=!this.horizontal,this.mDirect=this.horizontal?"x":"y",this.mValue=this.horizontal?"width":"height",this.mAnchor=this.horizontal?"anchorX":"anchorY",this.itemway=this.horizontal?1:-1,this.lastContentPos=this.content[this.mDirect],this.CalculateRangePos()}}),cc._RF.pop()},{}],lottery_SockMsgDefine:[function(e,t,n){"use strict";cc._RF.push(t,"7559b64Ak9Pk6xZqCTrxev3","lottery_SockMsgDefine");t.exports={DOWN:{SC_OK:"1",SC_VideoMsg:"2020",SC_KaiPan:"2010",SC_JianQi:"1014",SC_JIANQIU:"1013",SC_VideoUrl:"2015",SC_OpenLotteryByHand:"2012",SC_UpData:"2011",SC_LoginManeger:"2008",SC_ISSUE_DATA_BACK:"0106",SC_ForceDealerDownProcess:"0105",SC_LotteryLssueCanOpenProcess:"2013",SC_GetChatMsg:"2014"},UP:{Heart:"9999",CS_KaiPan:"2010",CS_OpenLotteryByHand:"2012",CS_UpData:"2011",CS_LoginManeger:"2008",CS_LotteryLssueCanOpenProcess:"2013",CS_IMFindAllRoomProcess:"2014"},MsgEventKey:"ServerToClientSocketEventKey",LongConnect:{Connect:1e3,Disconnect:1001}},cc._RF.pop()},{}],lottery_SocketEnum:[function(e,t,n){"use strict";cc._RF.push(t,"dd672IdqHhF86NMFXS6dy8k","lottery_SocketEnum");var i=cc.Enum({none:0,success:1,error:2,close:3});t.exports=i,cc._RF.pop()},{}],lottery_SocketManager:[function(e,t,n){"use strict";cc._RF.push(t,"530deDHGW9H155PxgMRr8id","lottery_SocketManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=l(e("SingletonBase")),o=l(e("lottery_BaseSocket")),a=l(e("lottery_TimeMgr")),s=l(e("lottery_SockMsgDefine"));function l(e){return e&&e.__esModule?e:{default:e}}var c=e("lottery_SocketEnum"),u="192.168.0.158",h="7050",f="",d=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.heartTime=25,e.heartTimerID=0,e.reConnectTimerID=0,e.isreconnect=!1,e.curSocketState=c.none,e.socketEventDic={},e.loadingShowFunc=null,e.loadingHideFunc=null,e.reConnectSocketNum=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"_onDestroyObject",value:function(){this.curSocketState===c.success&&this.BaseSocketIns.close()}},{key:"OnMessage",value:function(e){var t=null;e.data&&(t=JSON.parse(e.data));var n=t.codeBack;s.default.UP.Heart,1==t.code?this.socketEventDic[n]&&this.socketEventDic[n](t.data):t.code}},{key:"OnConnect",value:function(e){switch(e){case c.success:this.loadingHideFunc&&this.loadingHideFunc(),this.reConnectSocketNum=0,this.isreconnect=!1,0!==this.reConnectTimerID&&(a.default.getInstance().closeTimer(this.reConnectTimerID),this.reConnectTimerID=0);break;case c.error:case c.close:this.socketEventDic[s.default.LongConnect.Disconnect]&&this.socketEventDic[s.default.LongConnect.Disconnect](),this.ReConnect()}this.curSocketState=e}},{key:"HeartOpen",value:function(){var t=this;this.HeartClose(),this.heartTimerID=a.default.getInstance().openTimer(function(){var e={};e.codeBack=s.default.UP.Heart,e.data={},t.Send(JSON.stringify(e),!1)},this.heartTime,-1,this.heartTime)}},{key:"HeartClose",value:function(){0!==this.heartTimerID&&a.default.getInstance().closeTimer(this.heartTimerID)}},{key:"ReConnect",value:function(){this.loadingShowFunc&&this.loadingShowFunc(),this.curSocketState==c.success&&this.BaseSocketIns.close();0===this.reConnectTimerID&&(this.reConnectTimerID=a.default.getInstance().openTimer(function(){if(this.reConnectSocketNum=this.reConnectSocketNum+1,this.reConnectTimerID=0,3<=this.reConnectSocketNum)return this.reConnectSocketNum=0,a.default.getInstance().closeTimer(this.reConnectTimerID),void this.close();this.Connect(u,h,f)}.bind(this),0,1,5))}},{key:"Connect",value:function(e,t,n){u=e||u,h=t||h,f=n||f,n&&""!=n&&this.BaseSocketIns.init(u,h,f)}},{key:"Send",value:function(e){return(!this.curSocketState||this.curSocketState==c.success)&&(this.BaseSocketIns.send(e),!0)}},{key:"On",value:function(e,t,n){this.socketEventDic[e]=n?t.bind(n):t}},{key:"close",value:function(){this.HeartClose(),this.BaseSocketIns.close()}},{key:"SetLoadingShowAndHideFunc",value:function(e,t){this.loadingShowFunc=e,this.loadingHideFunc=t}}],[{key:"_onNewObject",value:function(){var e=new t;return e.BaseSocketIns=new o.default,e.BaseSocketIns.RegestMessageEvent(e.OnMessage.bind(e)),e.BaseSocketIns.RegisterConnectEvent(e.OnConnect.bind(e)),e}}]),t}();n.default=d,t.exports=n.default,cc._RF.pop()},{SingletonBase:"SingletonBase",lottery_BaseSocket:"lottery_BaseSocket",lottery_SockMsgDefine:"lottery_SockMsgDefine",lottery_SocketEnum:"lottery_SocketEnum",lottery_TimeMgr:"lottery_TimeMgr"}],lottery_TimeMgr:[function(e,t,n){"use strict";cc._RF.push(t,"d970b3lD4dBTopig9yDZ6He","lottery_TimeMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../../Singleton/SingletonBase"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.timerList=[],e.timerID=0,e.isOpenTimer=!1,e.timerIndex=!1,e.activeTimerIDDic={},e.intervalID=0,e.intervalTime=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"_onDestroyObject",value:function(){clearInterval(this.intervalID),this.clearTimer()}},{key:"updateTimer",value:function(){if(this.isOpenTimer)for(this.timerIndex=this.timerList.length-1;0<=this.timerIndex;this.timerIndex--){var e=this.timerList[this.timerIndex];e.isPause||(e.timer+=this.intervalTime,e.timer>=e.delay&&(e.callback(),e.repeat--,!e.isEndless&&e.repeat<=0?(this.timerList.splice(this.timerIndex,1),this.timerList.length<=0&&(this.isOpenTimer=!1)):e.timer=e.timer-e.interval))}}},{key:"getTimerID",value:function(){for(this.timerID=this.timerID+1,999999999<=this.timerID&&(this.timerID=1);this.activeTimerIDDic[this.timerID];)this.timerID=this.timerID+1,999999999<=this.timerID&&(this.timerID=1);return this.timerID}},{key:"openTimer",value:function(e,t,n,i,r){var o={id:this.getTimerID(),callback:e.bind(r),interval:t,repeat:n,curRepeat:n,delay:i,isEndless:!(0<n),timer:0,isPause:!1};return n<=0&&(this.activeTimerIDDic[o.id]=!0),this.timerList.push(o),this.isOpenTimer||(this.isOpenTimer=!0),o.id}},{key:"closeTimer",value:function(e){for(this.timerIndex=this.timerList.length-1;0<=this.timerIndex;this.timerIndex--){if(this.timerList[this.timerIndex].id===e){this.timerList.splice(this.timerIndex,1);break}}this.activeTimerIDDic[e]&&delete this.activeTimerIDDic[e]}},{key:"pauseTimer",value:function(e){for(this.timerIndex=this.timerList.length-1;0<=this.timerIndex;this.timerIndex--){var t=this.timerList[this.timerIndex];t.id===e&&(t.isPause=!0)}}},{key:"resumeTimer",value:function(e){for(this.timerIndex=this.timerList.length-1;0<=this.timerIndex;this.timerIndex--){var t=this.timerList[this.timerIndex];t.id===e&&(t.isPause=!1)}}},{key:"resetTImer",value:function(e,t,n,i){for(this.timerIndex=this.timerList.length-1;0<=this.timerIndex;this.timerIndex--){var r=this.timerList[this.timerIndex];r.id===e&&(r.repeat=n||r.curRepeat,r.timer=0,r.delay=t||r.delay,r.interval=i||r.interval)}}},{key:"clearTimer",value:function(){this.isOpenTimer=!1,this.timerList=[]}}],[{key:"_onNewObject",value:function(){var e=new t;return e.intervalTime=1/cc.game.config.frameRate,e.intervalID=setInterval(e.updateTimer.bind(e),1e3*e.intervalTime),e}}]),t}();n.default=s,t.exports=n.default,cc._RF.pop()},{"../../Singleton/SingletonBase":"SingletonBase"}],lottery_TypeSelect:[function(e,t,n){"use strict";cc._RF.push(t,"64cf7/gow5Ks4K3/ONRKjYS","lottery_TypeSelect"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r,o,a,s,l,c,u,h,f,d=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),p=e("../tools/commonBtn"),y=(m(p),m(e("../../Data/lottery_MsgStation"))),v=m(e("../../Core/Tools/lottery_Utils")),g=m(e("../tools/lottery_helper"));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function C(n,i,e,t,r){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(n,i,e)||e},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(n,i,o),o=null),o}var S=cc._decorator,T=S.ccclass,O=S.property,E={CP1001:{title:"EBet ",spriteName:"lottery_pc28",lotteryCode:"CP1001"},CP1002:{title:"EBET 3D",spriteName:"lottery_3d",lotteryCode:"CP1002"},CP1003:{title:"EBet 3",spriteName:"lottery_k3",lotteryCode:"CP1003"},CP1004:{title:"EBet PK10",spriteName:"lottery_pk10",lotteryCode:"CP1004"},CP1005:{title:"EBET 115",spriteName:"lottery_11x5",lotteryCode:"CP1005"}},I=(i=O(cc.Node),r=O(cc.Node),o=O(cc.Node),a=O(cc.Node),T((l=function(e){function a(){var e,t,n;b(this,a);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return _(t=n=w(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(r))),"selectItem",c,n),_(n,"itemPrefab",u,n),_(n,"closeBtn",h,n),_(n,"submitBtn",f,n),n.btnGroup={arr:[],index:null},w(n,t)}return k(a,cc.Component),d(a,[{key:"onLoad",value:function(){this.closeBtn.on(cc.Node.EventType.TOUCH_END,this.closeBtnDown,this),this.submitBtn.on(cc.Node.EventType.TOUCH_END,this.submitBtnDown,this)}},{key:"show",value:function(e){var n=this,t=this.node.active=!0,i=!(this.lotteryData=[]),r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;E[s]&&this.lotteryData.push(E[s])}}catch(e){i=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw r}}var l=0;this.btnGroup.index=null,this.btnGroup.arr.forEach(function(e){var t=n.lotteryData[l++];t?e.updateData(t):e.destroy()});for(var c=this.lotteryData[l];c;){var u=cc.instantiate(this.itemPrefab);u.active=!0,this.btnGroup.arr.push(new P(c,u,function(){},this.btnGroup)),this.selectItem.addChild(u),c=this.lotteryData[++l]}}},{key:"submitBtnDown",value:function(){null==this.btnGroup.index?g.default.getInstance().showTips(""):y.default.getInstance().onSendLotteryChoice(this.lotteryData[this.btnGroup.index].lotteryCode)}},{key:"closeBtnDown",value:function(){this.node.active=!1}}]),a}(),c=C(l.prototype,"selectItem",[i],{enumerable:!0,initializer:function(){return null}}),u=C(l.prototype,"itemPrefab",[r],{enumerable:!0,initializer:function(){return null}}),h=C(l.prototype,"closeBtn",[o],{enumerable:!0,initializer:function(){return null}}),f=C(l.prototype,"submitBtn",[a],{enumerable:!0,initializer:function(){return null}}),s=l))||s);n.default=I;var P=function(e){function o(e,t,n,i){b(this,o);var r=w(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t,n,i));return r.nameLable0=cc.find("name",r.defaultNode).getComponent(cc.Label),r.nameLable1=cc.find("name",r.selectNode).getComponent(cc.Label),r.icon=cc.find("icon",r.node).getComponent(cc.Sprite),r.updateData(e),r}return k(o,p.groupBtn),d(o,[{key:"updateData",value:function(e){this.select(!1),this.nameLable0.string=e.title,this.nameLable1.string=e.title,v.default.getInstance().setSprite(this.icon,e.spriteName,"texture1")}},{key:"clean",value:function(){this.node.destroy()}}]),o}();t.exports=n.default,cc._RF.pop()},{"../../Core/Tools/lottery_Utils":"lottery_Utils","../../Data/lottery_MsgStation":"lottery_MsgStation","../tools/commonBtn":"commonBtn","../tools/lottery_helper":"lottery_helper"}],lottery_Utils:[function(e,t,n){"use strict";cc._RF.push(t,"e2450y3eltGF4GQQpR5Pf1o","lottery_Utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=a(e("../../Singleton/SingletonBase")),o=a(e("../ResHandle/lottery_BaseResLoad"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"addClickEvent",value:function(e,t,n,i){var r=new cc.Component.EventHandler;r.target=t,r.component=n,r.handler=i,e.getComponent(cc.Button).clickEvents.push(r)}},{key:"addSlideEvent",value:function(e,t,n,i){var r=new cc.Component.EventHandler;r.target=t,r.component=n,r.handler=i,e.getComponent(cc.Slider).slideEvents.push(r)}},{key:"getInt",value:function(e){if(!e)return 0;var t=Number.parseInt(e);return t||(t=0),t}},{key:"getFloat",value:function(e){if(!e)return 0;var t=Number.parseFloat(e);return t||(t=0),t}},{key:"getRoundNum",value:function(e,t,n){if(e=parseFloat(e+""),n)return e.toFixed(t);var i=e+"";return-1==i.indexOf(".")?parseInt(i):e.toFixed(t)}},{key:"check",value:function(e,t){return null==e||null==e?(console.log("obj: "+e+" is null:"+t),t):e}},{key:"checkBL",value:function(e){return null!=e&&""!==e}},{key:"checkNumber",value:function(e){return"number"==typeof e}},{key:"checkBoolean",value:function(e){return"boolean"==typeof e}},{key:"checkString",value:function(e){return"string"==typeof e}},{key:"checkNull",value:function(e){return null==e}},{key:"checkObjIsEmpty",value:function(e){var t=!0;for(var n in e){t=!1;break}return t}},{key:"dateFormatByType",value:function(e,t){var n=function(e){return e<10?"0"+e:""+e};return t.includes("dd")&&(t=t.replace("dd",n(Math.floor(e/86400))),e%=86400),t.includes("hh")&&(t=t.replace("hh",n(Math.floor(e/3600))),e%=3600),t.includes("mm")&&(t=t.replace("mm",n(Math.floor(e/60))),e%=60),t.includes("ss")&&(t=t.replace("ss",n(e))),t}},{key:"getShortTime",value:function(e,t){var n=new Date(e),i="";if(t.includes("YY")){var r=n.getFullYear();t=t.replace("YY",r)}if(t.includes("MM")){var o=n.getMonth();i=(o+1<10?"0":"")+(o+1),t=t.replace("MM",i)}if(t.includes("dd")){var a=n.getDate();i=(a<10?"0":"")+a,t=t.replace("dd",i)}if(t.includes("hh")){var s=n.getHours();i=(s<10?"0":"")+s,t=t.replace("hh",i)}if(t.includes("mm")){var l=n.getMinutes();i=(l<10?"0":"")+l,t=t.replace("mm",i)}if(t.includes("ss")){var c=n.getSeconds();i=(c<10?"0":"")+c,t=t.replace("ss",i)}return t}},{key:"getDecimalNum",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:".",n=(e+"").split(t);return n[1]?n[1].length:0}},{key:"formatMoneyShow",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:",",i=e+"",r=i.split("."),o="",a=r[0].length,s=a%t,l=s||t;o+=(s?i.substr(0,s):i.substr(0,t))+(t<a?n:"");for(var c=l;c<a;c+=t)o+=i.substr(c,t)+(c<a-t?n:"");return o+(r[1]?"."+r[1]:"")}},{key:"makeDir",value:function(e){var t=e.split("/");if(null==t)return!1;for(var n="",i=0;i<t.length-1;i++)n=n+t[i]+"/",jsb.fileUtils.createDirectory(n);return!0}},{key:"getColorByString",value:function(e){return e.length<6?(cc.error("length < 6"),cc.Color.WHITE):cc.Color.BLACK.fromHEX(e)}},{key:"FixedNumber",value:function(e,t){return t=Math.pow(10,t),e=Math.floor(e*t)/t}},{key:"setSprite",value:function(e,t,i){var r=this;if(i&&!this.atlasDic[i])return!this.atlasEventDic[i]&&(this.atlasEventDic[i]=[]),this.atlasEventDic[i].push(function(){r.setSprite(e,t,i)}),void o.default.getInstance().LoadByKey(i,"Altas/"+i,function(e,t){if(e)cc.warn(""+i+"    "+e);else if(r.atlasDic[i]=t,r.atlasEventDic[i]){for(var n=0;n<r.atlasEventDic[i].length;n++){(0,r.atlasEventDic[i][n])()}delete r.atlasEventDic[i]}},cc.SpriteAtlas);e.spriteFrame=this.atlasDic[i].getSpriteFrame(t)}}],[{key:"_onNewObject",value:function(){var e=new t;return e.atlasDic=[],e.atlasEventDic=[],e}}]),t}();n.default=s,t.exports=n.default,cc._RF.pop()},{"../../Singleton/SingletonBase":"SingletonBase","../ResHandle/lottery_BaseResLoad":"lottery_BaseResLoad"}],lottery_VideoPlayCtr:[function(e,t,n){"use strict";cc._RF.push(t,"66716CAhodG6bH29Oi9HDXU","lottery_VideoPlayCtr"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../lottery_viewCtrBase"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Init(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"AddEvent",value:function(){}},{key:"RemoveEvent",value:function(){}},{key:"_OnMessageHandle",value:function(e){return e}},{key:"OnInit",value:function(){this.moduleName="videoPlayPre"}},{key:"OnOpen",value:function(){}},{key:"OnClose",value:function(){}},{key:"OnDestroy",value:function(){}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=s,t.exports=n.default,cc._RF.pop()},{"../lottery_viewCtrBase":"lottery_viewCtrBase"}],lottery_VideoPlayView:[function(e,t,n){"use strict";cc._RF.push(t,"1e147zuNC5KEJeTE9e0szXx","lottery_VideoPlayView");var i=e("../../Data/lottery_MsgStation"),r=l(i),o=l(e("../videoCom/lottery_videoCom")),a=l(e("../../Data/lottery_lotteryData")),s=e("../../Data/lottery_EventDefine");function l(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:e("lottery_viewBaseComponent"),properties:{exitBtn:cc.Node,videoPlayBtn:cc.Node,videoCanvas:[o.default],inputEvents:cc.Node,bigCanvas:cc.Sprite,loadNodes:[cc.Node]},OnInit:function(){var i=this;this.moduleName="videoSysPre",this.exitBtn.off(cc.Node.EventType.TOUCH_END,this.exitBtnDown,this),this.videoPlayBtn.off(cc.Node.EventType.TOUCH_END,this.videoPlayBtnDown,this),cc.systemEvent.off(s.lottery_EventDefine.URL_CHANGE,this.videoUrlChange,this),this.exitBtn.on(cc.Node.EventType.TOUCH_END,this.exitBtnDown,this),this.videoPlayBtn.on(cc.Node.EventType.TOUCH_END,this.videoPlayBtnDown,this),cc.systemEvent.on(s.lottery_EventDefine.URL_CHANGE,this.videoUrlChange,this);var e=function(e){if(e){e.stopAllActions();var t=cc.callFunc(function(){e.rotation+=30,e.rotation%=360}.bind(i)),n=cc.repeatForever(cc.sequence(cc.delayTime(.1),t));e.runAction(n)}},t=!0,n=!1,r=void 0;try{for(var o,a=this.loadNodes[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){e(o.value)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}this.videoUrlChange()},OnShow:function(){},OnHide:function(){console.log("111")},OnDispose:function(){console.log("2222")},_onMessageHandel:function(e){},initVideo:function(){var n=["ws://47.90.11.101:8081/lobbyB/L01","ws://47.90.11.101:8081/lobbyB/L01-1"];this.videoCanvas.forEach(function(e,t){e.setUrl(n[t])})},exitBtnDown:function(){r.default.getInstance().onSendLogoutContent()},videoPlayBtnDown:function(){r.default.getInstance().onFullPlay(),a.default.getInstance().simulated&&(0,i.simulationAward)()},videoUrlChange:function(){var e=a.default.getInstance().videoUrl;this.videoCanvas[0].setUrl(e.master.HD),this.videoCanvas[1].setUrl(e.vice.HD)},screenBtnDown:function(e,t){this.videoCanvas[t].loadOver&&(this.videoCanvas[t].changeTargetSprite(this.bigCanvas),this.inputEvents.active=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.escEvent,this))},exitScreen:function(){this.bigCanvas.spriteFrame=null,this.inputEvents.active=!1,cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.escEvent,this)},escEvent:function(e){switch(e.keyCode){case cc.KEY.escape:this.exitScreen()}}}),cc._RF.pop()},{"../../Data/lottery_EventDefine":"lottery_EventDefine","../../Data/lottery_MsgStation":"lottery_MsgStation","../../Data/lottery_lotteryData":"lottery_lotteryData","../videoCom/lottery_videoCom":"lottery_videoCom",lottery_viewBaseComponent:"lottery_viewBaseComponent"}],lottery_VideoSysCtr:[function(e,t,n){"use strict";cc._RF.push(t,"d2eabdnkCBF4JiXAqL5LNTM","lottery_VideoSysCtr"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../lottery_viewCtrBase"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Init(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"AddEvent",value:function(){}},{key:"RemoveEvent",value:function(){}},{key:"_OnMessageHandle",value:function(e){return e}},{key:"OnInit",value:function(){this.moduleName="videoSysPre"}},{key:"OnOpen",value:function(){}},{key:"OnClose",value:function(){}},{key:"OnDestroy",value:function(){}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=s,t.exports=n.default,cc._RF.pop()},{"../lottery_viewCtrBase":"lottery_viewCtrBase"}],lottery_VideoSysView:[function(e,t,n){"use strict";cc._RF.push(t,"f66096bEQRH5JfPsMdzxTeL","lottery_VideoSysView");var i=a(e("../../Data/lottery_MsgStation")),r=a(e("./lottery_videoFlow")),o=a(e("./lottery_VideoSysCtr"));function a(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:e("lottery_viewBaseComponent"),properties:{tips:[cc.Node],bg:cc.Node,backBtn:cc.Node,videoFlow:r.default},OnInit:function(){this.moduleName="videoSysPre"},OnShow:function(){i.default.getInstance().onSendLinkHeGuan()},onEnable:function(){this.backBtn.on(cc.Node.EventType.TOUCH_END,this.backBtnDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.escEvent,this)},onDisable:function(){this.backBtn.off(cc.Node.EventType.TOUCH_END,this.backBtnDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.escEvent,this)},OnHide:function(){},OnDispose:function(){},_onMessageHandel:function(e){switch(e.type){case 1:this.tips[0].active=!0,this.tips[1].active=!1,this.tips[2].active=!1,this.backBtn.active=!0;break;case 2:this.tips[0].active=!1,this.tips[1].active=!0,this.tips[2].active=!1,setTimeout(function(){o.default.getInstance().OnMessageHandle({type:4})},500);break;case 3:this.tips[0].active=!1,this.tips[1].active=!1,this.tips[2].active=!0;break;case 4:this.tips[0].active=!1,this.tips[1].active=!1,this.tips[2].active=!1,this.bg.active=!1,this.backBtn.active=!1,this.videoFlow.startPlay();break;default:console.log(e)}},backBtnDown:function(){i.default.getInstance().onBackToSys()},escEvent:function(e){switch(e.keyCode){case cc.KEY.escape:console.log(""),this.videoFlow.stopPlay(),this.backBtnDown()}}}),cc._RF.pop()},{"../../Data/lottery_MsgStation":"lottery_MsgStation","./lottery_VideoSysCtr":"lottery_VideoSysCtr","./lottery_videoFlow":"lottery_videoFlow",lottery_viewBaseComponent:"lottery_viewBaseComponent"}],lottery_animCom:[function(e,t,n){"use strict";cc._RF.push(t,"4438bDJHCVDn4Xpt7DtTzyX","lottery_animCom"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r,o,a,s,l,c,u,h,f,d,p,y,v=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),g=e("../../Data/lottery_animDataMgr"),m=(y=g)&&y.__esModule?y:{default:y};function _(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(n,i,e,t,r){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(n,i,e)||e},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(n,i,o),o=null),o}var k=cc._decorator,C=k.ccclass,S=k.property,T=(i=S(cc.Integer),r=S(cc.Boolean),o=S(cc.Boolean),a=S(cc.Sprite),s=S({type:cc.String,tooltip:"animMgr"}),C((c=function(e){function a(){var e,t,n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return _(t=n=b(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(r))),"frameRate",u,n),_(n,"isLoop",h,n),_(n,"isPlaying",f,n),_(n,"targetSprite",d,n),_(n,"folderName",p,n),n.frameSpriteArr=[],n.nowTime=0,n.startTime=0,n.frameTime=0,n.playFinishCallBack=null,n.loadFail=!1,b(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,cc.Component),v(a,[{key:"onLoad",value:function(){this.frameTime=1/this.frameRate,this.folderName&&(this.frameSpriteArr=m.default.getInstance().resDir[this.folderName]),!this.frameSpriteArr&&(this.frameSpriteArr=[]),!this.targetSprite&&(this.targetSprite=this.node.getComponent(cc.Sprite))}},{key:"update",value:function(e){if(this.loadFail){if(this.frameSpriteArr=m.default.getInstance().resDir[this.folderName],!this.frameSpriteArr||!this.frameSpriteArr.length)return;return this.targetSprite.spriteFrame=this.frameSpriteArr[Math.floor(this.startTime/this.frameTime)],this.nowTime=this.startTime,this.isPlaying=!0,void(this.loadFail=!1)}if(this.isPlaying){this.nowTime+=e;var t=Math.floor(this.nowTime/this.frameTime);t>=this.frameSpriteArr.length&&(this.isLoop?(t=0,this.nowTime=this.startTime):(this.isPlaying=!1,this.nowTime=this.startTime,t=this.frameSpriteArr.length-1,this.playFinishCallBack&&this.playFinishCallBack(this.folderName))),this.targetSprite.spriteFrame=this.frameSpriteArr[t]}}},{key:"quickClosePlay",value:function(){this.isPlaying=!1,this.playFinishCallBack&&this.playFinishCallBack()}},{key:"setData",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(""!=e){this.folderName=e,this.isLoop=n,this.startTime=t,this.nowTime=this.startTime;var i=m.default.getInstance().resDir[e];i&&0!=i.length?(this.isPlaying=!0,this.frameSpriteArr=i,this.targetSprite.spriteFrame=this.frameSpriteArr[Math.floor(this.nowTime/this.frameTime)]):this.loadFail=!0}}},{key:"setFinshCallBack",value:function(e){this.playFinishCallBack=e}},{key:"setLoop",value:function(e){this.isLoop=e}}]),a}(),u=w(c.prototype,"frameRate",[i],{enumerable:!0,initializer:function(){return 25}}),h=w(c.prototype,"isLoop",[r],{enumerable:!0,initializer:function(){return!1}}),f=w(c.prototype,"isPlaying",[o],{enumerable:!0,initializer:function(){return!1}}),d=w(c.prototype,"targetSprite",[a],{enumerable:!0,initializer:function(){return null}}),p=w(c.prototype,"folderName",[s],{enumerable:!0,initializer:function(){return String}}),l=c))||l);n.default=T,t.exports=n.default,cc._RF.pop()},{"../../Data/lottery_animDataMgr":"lottery_animDataMgr"}],lottery_animDataMgr:[function(e,t,n){"use strict";cc._RF.push(t,"9656dWpypdDY6LABBUL88zL","lottery_animDataMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../Singleton/SingletonBase"),s=(i=o)&&i.__esModule?i:{default:i};function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function a(){var e,t,n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=n=l(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(r)))).resDir={},n.resUrl="Altas/little/",l(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,s.default),r(a,[{key:"init",value:function(e,s){var l=this;cc.loader.loadResDir(this.resUrl,cc.SpriteFrame,e,function(e,t,n){if(e)console.log("",e);else{for(var i=0,r=n.length;i<r;i++){var o=n[i].split("/"),a=o[o.length-2];!l.resDir[a]&&(l.resDir[a]=[]),l.resDir[a].push(t[i])}s&&s(),console.log(l.resUrl,"")}})}},{key:"loadResDir",value:function(e,t,n){}},{key:"releaseResDir",value:function(e){cc.loader.releaseResDir(this.resUrl+e),this.resDir[e].length=0}}],[{key:"_onNewObject",value:function(){return new a}}]),a}();n.default=a,t.exports=n.default,cc._RF.pop()},{"../Singleton/SingletonBase":"SingletonBase"}],lottery_helper:[function(e,t,n){"use strict";cc._RF.push(t,"ccc9dInMLNIEb8D8aS5NRmy","lottery_helper"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=o(e("../../Singleton/SingletonBase")),s=o(e("../../Core/ResHandle/lottery_BaseResLoad"));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"showTips",value:function(t){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.tipsLayer?this.tipsLayer.showTips(t,i):this.addPrefabToNode("Prefab/tipsLayer",cc.find("Canvas"),1e3,function(e){n.tipsLayer=e.getComponent("lottery_tipsLayer"),n.tipsLayer.showTips(t,i)})}},{key:"showLoading",value:function(){var t=this;!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?this.loadingLayer?this.loadingLayer.startPlay():this.addPrefabToNode("Prefab/loadingLayer",cc.find("Canvas"),1e3,function(e){t.loadingLayer=e.getComponent("lottery_loadingTip"),t.loadingLayer.startPlay()}):this.loadingLayer&&this.loadingLayer.stopPlay()}},{key:"addPrefabToNode",value:function(i){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:cc.director.getScene(),o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=arguments[3];s.default.getInstance().LoadByKey(i,i,function(e,t){if(e)cc.lottery.AppLogMgr.log("addPrefabToNode func load "+i+" err");else{var n=cc.instantiate(t);r.addChild(n,o),a&&a(n)}})}}],[{key:"_onNewObject",value:function(){var e=new t;return e.Res={},e.TipsLayer=null,e}}]),t}();n.default=a,t.exports=n.default,cc._RF.pop()},{"../../Core/ResHandle/lottery_BaseResLoad":"lottery_BaseResLoad","../../Singleton/SingletonBase":"SingletonBase"}],lottery_loadingTip:[function(e,t,n){"use strict";cc._RF.push(t,"e33feBHdpNENK+x0MTBTqqY","lottery_loadingTip"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r,o,a,s,l,c,u=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),h=e("../../Core/Event/lottery_GlobalMsg"),f=(c=h)&&c.__esModule?c:{default:c},d=e("../../Data/lottery_EventDefine");function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(n,i,e,t,r){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(n,i,e)||e},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(n,i,o),o=null),o}var g=cc._decorator,m=g.ccclass,_=g.property,b=(i=_(cc.Integer),r=_(cc.Node),m((a=function(e){function a(){var e,t,n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return p(t=n=y(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(r))),"playLongTime",s,n),p(n,"actionNode",l,n),n.timeId=null,y(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,cc.Component),u(a,[{key:"onEnable",value:function(){this.startAction()}},{key:"onDisable",value:function(){this.actionNode.stopAllActions()}},{key:"startPlay",value:function(){var e=this;this.node.active=!0,this.timeId=setTimeout(function(){e.node.active=!1,f.default.getInstance().Send(d.lottery_EventDefine.sys.loadingOvertime)},this.playLongTime)}},{key:"stopPlay",value:function(){this.node.active=!1,clearTimeout(this.timeId),this.timeId=null}},{key:"startAction",value:function(){var e=cc.callFunc(function(){this.actionNode.rotation+=30,this.actionNode.rotation%=360}.bind(this)),t=cc.repeatForever(cc.sequence(cc.delayTime(.1),e));this.actionNode.runAction(t)}}]),a}(),s=v(a.prototype,"playLongTime",[i],{enumerable:!0,initializer:function(){return 5e3}}),l=v(a.prototype,"actionNode",[r],{enumerable:!0,initializer:function(){return null}}),o=a))||o);n.default=b,t.exports=n.default,cc._RF.pop()},{"../../Core/Event/lottery_GlobalMsg":"lottery_GlobalMsg","../../Data/lottery_EventDefine":"lottery_EventDefine"}],lottery_loginViewCom:[function(e,t,n){"use strict";cc._RF.push(t,"23138QenuxKYLVcYADpQWXk","lottery_loginViewCom"),cc.Class({extends:e("lottery_viewBaseComponent"),properties:{},OnInit:function(){this.moduleName="loginPre",this.loginJs=cc.find("lotteryLoginIn",this.node).getComponent("lottery_Login"),this.lotteryTypeJs=cc.find("lotteryTypeSelect",this.node).getComponent("lottery_TypeSelect")},OnShow:function(){},OnHide:function(){},OnDispose:function(){},_onMessageHandel:function(e){switch(e.type){case 1:this.lotteryTypeJs.show(e.data)}}}),cc._RF.pop()},{lottery_viewBaseComponent:"lottery_viewBaseComponent"}],lottery_loginViewCtr:[function(e,t,n){"use strict";cc._RF.push(t,"4614c+qU1RG4bcvRIPulV/n","lottery_loginViewCtr"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../lottery_viewCtrBase"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Init(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"AddEvent",value:function(){}},{key:"RemoveEvent",value:function(){}},{key:"_OnMessageHandle",value:function(e){return e}},{key:"OnInit",value:function(){this.moduleName="loginPre"}},{key:"OnOpen",value:function(){}},{key:"OnClose",value:function(){}},{key:"OnDestroy",value:function(){}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=s,t.exports=n.default,cc._RF.pop()},{"../lottery_viewCtrBase":"lottery_viewCtrBase"}],lottery_lotteryData:[function(e,t,n){"use strict";cc._RF.push(t,"3a25ejkyPJAeYuwhgger7cr","lottery_lotteryData"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../Singleton/SingletonBase"),s=(i=o)&&i.__esModule?i:{default:i},l=e("./lottery_EventDefine");function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function a(){var e,t,n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=n=c(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(r)))).simulated=!1,n.isLocal=!0,n.userId=null,n.userName=null,n.roleList=null,n.lotteryCode=null,n.expect=1115,n.nestExpect=1116,n.awardTime=0,n.awardResult=[1,2,3],n._videoUrl={master:{HD:"rtmp://test.xshny.com:1935/lobby/L01",SD:"rtmp://test.xshny.com:1935/lobby/L01_ff"},vice:{HD:"rtmp://test.xshny.com:1935/lobby/L01-1",SD:"rtmp://test.xshny.com:1935/lobby/L01-1_ff"}},c(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,s.default),r(a,[{key:"updataData",value:function(e){for(var t in e)this.hasOwnProperty(t)&&(this[t]=e[t])}},{key:"videoUrl",set:function(e){this._videoUrl!=e&&(this._videoUrl=e,cc.systemEvent.emit(l.lottery_EventDefine.URL_CHANGE))},get:function(){return this._videoUrl}}],[{key:"_onNewObject",value:function(){return new a}}]),a}();n.default=a,t.exports=n.default,cc._RF.pop()},{"../Singleton/SingletonBase":"SingletonBase","./lottery_EventDefine":"lottery_EventDefine"}],lottery_tipsLayer:[function(e,t,n){"use strict";cc._RF.push(t,"94994Cu96BF+qWuQUi7D+Rg","lottery_tipsLayer"),Object.defineProperty(n,"__esModule",{value:!0});var i,r,o,h,a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s,l,c,u,d,p,y=cc._decorator,v=y.ccclass,g=(i=(0,y.property)(cc.Label),v((o=function(e){function u(){var e,t,n,i,r,o,a;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,u);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=f(this,(e=u.__proto__||Object.getPrototypeOf(u)).call.apply(e,[this].concat(l))),r="strLable",a=i=t=n,(o=h)&&Object.defineProperty(i,r,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0}),f(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,cc.Component),a(u,[{key:"showTips",value:function(e){this.node.active=!0,this.node.opacity=255,this.node.stopAllActions(),this.strLable.string=e,this.tipsToDisappear()}},{key:"tipsToDisappear",value:function(){var e=cc.fadeOut(.5),t=cc.callFunc(function(){this.node.active=!1},this);this.action=cc.sequence(cc.delayTime(1),e,t),this.node.runAction(this.action)}}]),u}(),s=o.prototype,l="strLable",c=[i],u={enumerable:!0,initializer:function(){return null}},p={},Object.keys(u).forEach(function(e){p[e]=u[e]}),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=c.slice().reverse().reduce(function(e,t){return t(s,l,e)||e},p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(s,l,p),p=null),h=p,r=o))||r);n.default=g,t.exports=n.default,cc._RF.pop()},{}],lottery_videoCom:[function(e,t,n){"use strict";cc._RF.push(t,"17386MsSe5G86awSSJn46en","lottery_videoCom"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r,o,a,s,l,c,u=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),h=e("./videoShader1"),f=(c=h)&&c.__esModule?c:{default:c};function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(n,i,e,t,r){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(n,i,e)||e},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(n,i,o),o=null),o}var v=cc._decorator,g=v.ccclass,m=v.property,_=(i=m(cc.String),r=m(cc.Sprite),g((a=function(e){function a(){var e,t,n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return d(t=n=p(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(r))),"currentUrl",s,n),d(n,"targetSprite",l,n),n.texureImag=null,n.targetSpriteFrame=null,n._socketController=null,p(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,cc.Component),u(a,[{key:"onLoad",value:function(){cc.game.on(cc.game.EVENT_HIDE,this.gameHideClose,this),cc.game.on(cc.game.EVENT_SHOW,this.gameShowReOpen,this),this.init()}},{key:"onEnable",value:function(){this.gameShowReOpen()}},{key:"onDisable",value:function(){this.gameHideClose()}},{key:"init",value:function(){cc._renderType!=cc.game.RENDER_TYPE_CANVAS?(!this.targetSprite&&(this.targetSprite=this.node.getComponent(cc.Sprite)),!this.targetSprite&&(this.targetSprite=this.node.addComponent(cc.Sprite)),this.VideoShader=new f.default,this.VideoShader.ShaderEffect(this.targetSprite.node),this.texureImag=new cc.Texture2D,this.targetSpriteFrame=new cc.SpriteFrame(this.texureImag),this.targetSprite.spriteFrame=this.targetSpriteFrame):console.log("canvas")}},{key:"setUrl",value:function(e){this.targetSprite.spriteFrame=null,this.currentUrl=e,this._socketController?this.node.active&&(this._socketController._packageCache.clear(),this._socketController.setUrl(this.currentUrl)):(this._socketController=new lottery.video.VideoSocketController(this.currentUrl,!1,!0),this._socketController.onPictureDecoded=this.onPictureDecoded.bind(this))}},{key:"changeTargetSprite",value:function(e){e.spriteFrame=new cc.SpriteFrame(this.texureImag),this.VideoShader.ShaderEffect(e.node),e.node.height=1080,e.node.width=1980}},{key:"onPictureDecoded",value:function(e,t,n,i,r){this.targetSprite.spriteFrame||(this.targetSprite.spriteFrame=this.targetSpriteFrame),this.VideoShader._currentBuffer=e,this.texureImag.initWithData(e,t,n,i,r)}},{key:"gameHideClose",value:function(){this._socketController&&this._socketController.close()}},{key:"gameShowReOpen",value:function(){this._socketController&&(this._socketController._currentUrl=this.currentUrl,this._socketController.reOpen())}},{key:"update",value:function(e){this._socketController&&this._socketController.onRenderingBefore&&(this._socketController.onRenderingBefore(e),this.VideoShader.Myrendering(ebet.videoSize))}},{key:"onDestroy",value:function(){cc.game.off(cc.game.EVENT_HIDE,this.gameHideClose),cc.game.off(cc.game.EVENT_SHOW,this.gameShowReOpen),this._socketController.close(),this._socketController=null}}]),a}(),s=y(a.prototype,"currentUrl",[i],{enumerable:!0,initializer:function(){return"ws://ws4.jiasula.info:8081/lobbyB/B15/19148936/6eca0113e34c41c1f45a5f9eaf13429c"}}),l=y(a.prototype,"targetSprite",[r],{enumerable:!0,initializer:function(){return null}}),o=a))||o);n.default=_,t.exports=n.default,cc._RF.pop()},{"./videoShader1":"videoShader1"}],lottery_videoFlow:[function(e,t,n){"use strict";cc._RF.push(t,"92475oPjPZPAolWmujV2XKY","lottery_videoFlow"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r,o,a,s,l,c,u,h,f,d,p,y,v,g,m,_,b,w=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),k=D(e("./videoMsgFactory")),C=D(e("../../Core/Tools/lottery_Utils")),S=D(e("../animCom/lottery_animCom")),T=D(e("../../Data/lottery_lotteryData")),O=e("timers"),E=D(e("../videoCom/lottery_videoCom")),I=e("../../Data/lottery_EventDefine"),P=D(e("../../Data/lottery_MsgStation"));function D(e){return e&&e.__esModule?e:{default:e}}function L(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(n,i,e,t,r){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(n,i,e)||e},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(n,i,o),o=null),o}var R=cc._decorator,x=R.ccclass,A=R.property,F=(i=A([cc.VideoPlayer]),r=A([cc.Node]),o=A(cc.Node),a=A(S.default),s=A(cc.Animation),l=A([cc.Animation]),c=A(E.default),u=A([cc.Sprite]),x((f=function(e){function a(){var e,t,n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=n=B(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(r)))).msgFuncDefine=["firstStage","secondStage","thirdStage","fourStage","fiveStage","sixStage","waitStage","fengPan"],L(n,"videoArr",d,n),L(n,"qiShuArr",p,n),L(n,"nodeItem",y,n),L(n,"littleCom",v,n),L(n,"startLottery",g,n),L(n,"balls",m,n),L(n,"videoStream",_,n),L(n,"countDownArr",b,n),n.msgList=[],n.totalTime=60,n.nowMsgPos=0,n.isPlayCountDown=!1,B(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,cc.Component),w(a,[{key:"start",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.videoArr[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;o.node.on("completed",this.animFinshCallBack.bind(this)),o.node.active=!1}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}var a=document.getElementsByClassName("cocosVideo"),s=!0,l=!1,c=void 0;try{for(var u,h=a[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var f=u.value;f.muted=!0,f.style.zIndex="-1"}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}this.videoStream.node.opacity=0,this.videoStream.setUrl(T.default.getInstance().videoUrl.master.HD),cc.systemEvent.on(I.lottery_EventDefine.VIDEOFLOW.RESTART,this.startPlay,this)}},{key:"startPlay",value:function(){this.msgList=k.default.ins().msgList,this.animFinshCallBack()}},{key:"stopPlay",value:function(){this.videoStream.pause()}},{key:"animFinshCallBack",value:function(){if(this.isPlayCountDown)this.videoArr[5].play();else{console.log(""),this.unscheduleAllCallbacks(),this.stageFinsh&&this.stageFinsh();var e=this.msgList.shift();e?this[this.msgFuncDefine[e.type-1]](e.data):(console.log(""),this.startPlay())}}},{key:"firstStage",value:function(e){var t=this,n=T.default.getInstance().expect,i=T.default.getInstance().nestExpect;this.setQiShu(n,this.qiShuArr[0],!0),this.setQiShu(n,this.qiShuArr[1],!1),this.setQiShu(i,this.qiShuArr[2],!0),this.videoArr[0].node.active=!0,this.videoArr[0].play(),this.qiShuArr[0].active=!0;var r=this.qiShuArr[0].getComponent(cc.Animation);r.play();var o=void 0;e&&(o=setTimeout(function(){t.animFinshCallBack()},e)),this.stageFinsh=function(){r.stop(),t.qiShuArr[0].active=!1,t.videoArr[0].stop(),t.videoArr[0].node.active=!1,o&&clearTimeout(o)}}},{key:"secondStage",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;this.videoArr[1].node.active=!0,this.videoArr[1].currentTime=10<=t?-1:10-t,this.videoArr[1].play(),this.stageFinsh=function(){e.videoArr[1].stop(),e.videoArr[1].node.active=!1}}},{key:"thirdStage",value:function(){var n=this;this.videoStream.node.opacity=255,this.littleCom.node.active=!0,this.littleCom.setData("startLotteryBg"),cc.systemEvent.on(I.lottery_EventDefine.VIDEOFLOW.BALLINFO,this.setOneBallFly,this),this.littleCom.setFinshCallBack(function(){if(n.littleCom.setData("startLotteryBgLoop",0,!0),n.startLottery.node.active=!0,n.startLottery.play(),T.default.getInstance().simulated)var e=0,t=(0,O.setInterval)(function(){2<=e&&(0,O.clearInterval)(t),P.default.getInstance().lotteryResults({index:e++,openCode:1})},2e3)}),this.stageFinsh=function(){n.littleCom.node.active=!1,n.videoStream.node.opacity=0,cc.systemEvent.off(I.lottery_EventDefine.VIDEOFLOW.BALLINFO,n.setOneBallFly,n)}}},{key:"fourStage",value:function(e){var o=this;this.videoArr[2].node.active=!0,this.videoArr[2].play(),this.balls[0].play("ball_1"),this.balls[1].play("ball_2"),this.balls[2].play("ball_3"),this.startLottery.play("startLottery_qishu"),this.stageFinsh=function(){var e=!0,t=!1,n=void 0;try{for(var i,r=o.balls[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.node.active=!1}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}o.videoArr[2].stop(),o.videoArr[2].node.active=!1,o.startLottery.node.active=!1}}},{key:"fiveStage",value:function(e){var t=this;this.videoArr[3].node.active=!0,this.videoArr[3].play(),this.stageFinsh=function(){t.videoArr[3].stop(),t.videoArr[3].node.active=!1}}},{key:"sixStage",value:function(e){var t=this;this.videoArr[4].node.active=!0,this.videoArr[4].play(),this.qiShuArr[2].active=!0;var n=this.qiShuArr[2].getComponent(cc.Animation);n.play(),this.stageFinsh=function(){n.stop(),t.qiShuArr[2].active=!1,t.videoArr[4].stop(),t.videoArr[4].node.active=!1}}},{key:"waitStage",value:function(e){var t=this;this.isPlayCountDown=!0,this.videoArr[5].node.active=!0,this.videoArr[5].play(),this.countDownArr[0].node.parent.active=!0,this.setCountDown(e--);var n=(0,O.setInterval)(function(){e<0&&((0,O.clearInterval)(n),t.isPlayCountDown=!1,t.animFinshCallBack()),t.setCountDown(e--),t.countDownArr[4].node.active=!t.countDownArr[4].node.active},1e3);this.stageFinsh=function(){t.countDownArr[0].node.parent.active=!1,t.videoArr[5].stop(),t.videoArr[5].node.active=!1}}},{key:"fengPan",value:function(){var e=this;this.videoArr[6].node.active=!0,this.videoArr[6].play(),this.stageFinsh=function(){e.videoArr[6].node.active=!1,e.videoArr[6].stop()}}},{key:"setQiShu",value:function(e,n){var i=this,t=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];n.removeAllChildren();var r=(e+"").split(""),o=function(e){var t=cc.instantiate(i.nodeItem);C.default.getInstance().setSprite(t.getComponent(cc.Sprite),e,"LEDAtlas"),n.addChild(t)};if(t){var a=!0,s=!1,l=void 0;try{for(var c,u=r[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){o("wz_sz_"+c.value)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}o("wz_qi")}else{var h=!0,f=!1,d=void 0;try{for(var p,y=r[Symbol.iterator]();!(h=(p=y.next()).done);h=!0){o("wz_xsz_"+p.value)}}catch(e){f=!0,d=e}finally{try{!h&&y.return&&y.return()}finally{if(f)throw d}}o("wz_qi_2")}}},{key:"setCountDown",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:60,t=Math.floor(e/60),n=e-60*t;t=(t+"").split(""),n=(n+"").split(""),1==t.length&&t.unshift(0),1==n.length&&n.unshift(0),C.default.getInstance().setSprite(this.countDownArr[0],t[0],"countDown"),C.default.getInstance().setSprite(this.countDownArr[1],t[1],"countDown"),C.default.getInstance().setSprite(this.countDownArr[2],n[0],"countDown"),C.default.getInstance().setSprite(this.countDownArr[3],n[1],"countDown")}},{key:"setOneBallFly",value:function(e){var t=this,n=e.detail.index,i=e.detail.openCode;C.default.getInstance().setSprite(this.balls[n].getComponent(cc.Sprite),"cq_"+i,"LEDAtlas"),this.balls[n].node.active=!0,this.balls[n].play(),2==n&&(console.log(""),setTimeout(function(){t.animFinshCallBack()},2e3))}}]),a}(),d=M(f.prototype,"videoArr",[i],{enumerable:!0,initializer:function(){return[]}}),p=M(f.prototype,"qiShuArr",[r],{enumerable:!0,initializer:function(){return[]}}),y=M(f.prototype,"nodeItem",[o],{enumerable:!0,initializer:function(){return null}}),v=M(f.prototype,"littleCom",[a],{enumerable:!0,initializer:function(){return null}}),g=M(f.prototype,"startLottery",[s],{enumerable:!0,initializer:function(){return null}}),m=M(f.prototype,"balls",[l],{enumerable:!0,initializer:function(){return[]}}),_=M(f.prototype,"videoStream",[c],{enumerable:!0,initializer:function(){return null}}),b=M(f.prototype,"countDownArr",[u],{enumerable:!0,initializer:function(){return[]}}),h=f))||h);n.default=F,t.exports=n.default,cc._RF.pop()},{"../../Core/Tools/lottery_Utils":"lottery_Utils","../../Data/lottery_EventDefine":"lottery_EventDefine","../../Data/lottery_MsgStation":"lottery_MsgStation","../../Data/lottery_lotteryData":"lottery_lotteryData","../animCom/lottery_animCom":"lottery_animCom","../videoCom/lottery_videoCom":"lottery_videoCom","./videoMsgFactory":"videoMsgFactory",timers:2}],lottery_videoPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"ec489AXB/JE4psnehsRYfnc","lottery_videoPlayer"),cc.Class({extends:cc.Component,properties:{arr:Array(cc.RawAsset)},start:function(){}}),cc._RF.pop()},{}],lottery_viewBaseComponent:[function(e,t,n){"use strict";cc._RF.push(t,"b20fc4421BAlJJeQExdyc5k","lottery_viewBaseComponent");var i=o(e("../Core/Event/lottery_GlobalMsg")),r=o(e("../Manager/lottery_viewComponentManager"));function o(e){return e&&e.__esModule?e:{default:e}}var a=cc.Enum({none:0,init:1,close:2,open:3});cc.Class({extends:cc.Component,properties:{moduleName:{default:"",visible:!1},curStatus:{default:a.none}},Init:function(){this.curStatus>=a.init||(this.curStatus=a.init,this.OnInit())},Show:function(){this.curStatus!==a.open&&(this.curStatus=a.open,i.default.getInstance().Register(this.moduleName,this._onMessageHandel.bind(this),this.node.uuid),this.OnShow(),this.node.active=!0)},Hide:function(){this.curStatus===a.open&&this.curStatus!==a.close&&(this.curStatus=a.close,i.default.getInstance().Unregister(this.moduleName,this.node.uuid),r.default.getInstance().Close(this.moduleName),this.OnHide(),this.node.active=!1)},Dispose:function(){this.curStatus!==a.none&&(this.curStatus=a.none,this.OnDispose())},OnInit:function(){},OnShow:function(){},OnHide:function(){},OnDispose:function(){},_onMessageHandel:function(e){return e.type,!1}}),cc._RF.pop()},{"../Core/Event/lottery_GlobalMsg":"lottery_GlobalMsg","../Manager/lottery_viewComponentManager":"lottery_viewComponentManager"}],lottery_viewComponentManager:[function(e,t,n){"use strict";cc._RF.push(t,"93602ATse5N3rN/gbFycFIN","lottery_viewComponentManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=a(e("../Singleton/SingletonBase")),o=a(e("../Core/Event/lottery_GlobalMsg")),s=a(e("lottery_BaseResLoad"));function a(e){return e&&e.__esModule?e:{default:e}}var l=0,c="ViewOpenEventKey",u="ViewCloseEventKey",h=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.panelDic={},e.canvas=null,e.curOpenPanelName="",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"_onDestroyObject",value:function(){this.ChangeScene()}},{key:"OpenByPrefab",value:function(e,t,n){var i=cc.instantiate(t);null==this.canvas&&(this.canvas=cc.find("Canvas")),i.parent=this.canvas,i.setPosition(0,0);var r=i.getComponent("lottery_viewBaseComponent");(this.panelDic[e]=r).Init(i,e),null!=n&&"function"==typeof n&&n(r)}},{key:"OpenPanel",value:function(e){var t=this.panelDic[e];t.Show(),t.node.zIndex=l,l++,this.curOpenPanelName=e}},{key:"ClosePanel",value:function(e){var t=this.panelDic[e];t.Hide(),l--,(t=this.panelDic[this.curOpenPanelName]).node.zIndex=l,l++,o.default.getInstance().Send(u,e)}},{key:"DeletePanel",value:function(e){var t=this.panelDic[e];t&&t.node&&(t.node.removeFromParent(!1),delete this.panelDic[e]),l--,t=this.panelDic[this.curOpenPanelName],l++,o.default.getInstance().Send(u,e)}},{key:"Open",value:function(i,r){var o=this,a=function(e){o.OpenPanel(i),null!=r&&"function"==typeof r&&r(e)};if(null==this.panelDic[i]){s.default.getInstance().LoadByKey(i,"Prefab/"+i,function(e,t,n){e?(cc.log(" err:"+e),r()):o.OpenByPrefab(i,t,a)})}else a(this.panelDic[i])}},{key:"Close",value:function(e){this.DeletePanel(e)}},{key:"CloseAllView",value:function(){for(var e in this.panelDic){var t=this.panelDic[e];t.node.active&&t.onClose()}}},{key:"ChangeScene",value:function(){for(var e in this.panelDic){this.panelDic[e].onDestroy()}this.panelDic={},this.canvas=null,this.curOpenPanelName=""}},{key:"RegisterClosePanelEvent",value:function(e,t){o.default.getInstance().Register(u,e,t)}},{key:"UnRegisterClosePanelEvent",value:function(e){o.default.getInstance().Unregister(u,e)}},{key:"RegisterOpenPanelEvent",value:function(e,t){o.default.getInstance().Register(c,e,t)}},{key:"UnRegisterOpenPanelEvent",value:function(e){o.default.getInstance().Unregister(c,e)}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=h,t.exports=n.default,cc._RF.pop()},{"../Core/Event/lottery_GlobalMsg":"lottery_GlobalMsg","../Singleton/SingletonBase":"SingletonBase",lottery_BaseResLoad:"lottery_BaseResLoad"}],lottery_viewCtrBase:[function(e,t,n){"use strict";cc._RF.push(t,"e1ed0pvlLBFJYSfFqw/QN9G","lottery_viewCtrBase"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=l(e("../Singleton/SingletonBase")),o=l(e("../Core/Event/lottery_GlobalMsg")),a=l(e("../Manager/lottery_viewComponentManager")),s=l(e("../Manager/lottery_viewCtrManager"));function l(e){return e&&e.__esModule?e:{default:e}}var c=e("ProjectEnum").moduleEnum,u=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.ModuleStatus=cc.Enum({none:0,init:1,close:2,open:3}),e.moduleName="",e.curModuleStatus=0,e.openStatus=c.None,e.viewNode="",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"_onDestroyObject",value:function(){this.Destroy()}},{key:"Init",value:function(){this.curModuleStatus>=this.ModuleStatus.init||(this.curModuleStatus=this.ModuleStatus.init,this.AddEvent(),this.OnInit(),s.default.getInstance().AddViewCtr(this))}},{key:"Open",value:function(){var t=this;this.curModuleStatus!==this.ModuleStatus.open&&(this.curModuleStatus=this.ModuleStatus.open,s.default.getInstance().OpenViewCtr(this),a.default.getInstance().Open(this.moduleName,function(e){t.viewNode=e.node,t.OnOpen()}))}},{key:"Close",value:function(){this.curModuleStatus===this.ModuleStatus.open&&this.curModuleStatus!==this.ModuleStatus.close&&(this.curModuleStatus=this.ModuleStatus.close,s.default.getInstance().CloseViewCtr(this),a.default.getInstance().Close(this.moduleName),this.OnClose())}},{key:"Destroy",value:function(){this.curModuleStatus!==this.ModuleStatus.none&&(this.curModuleStatus=this.ModuleStatus.none,this.RemoveEvent(),s.default.getInstance().RemoveViewCtr(this),this.OnDestroy())}},{key:"OnMessageHandle",value:function(e){var t=this._OnMessageHandle(e);this.curModuleStatus===this.ModuleStatus.open&&o.default.getInstance().Send(this.moduleName,t)}},{key:"getViewNode",value:function(){return this.viewNode}},{key:"showViewNode",value:function(){this.viewNode&&(this.viewNode.active=!0)}},{key:"hideViewNode",value:function(){this.viewNode&&(this.viewNode.active=!1)}},{key:"AddEvent",value:function(){}},{key:"RemoveEvent",value:function(){}},{key:"_OnMessageHandle",value:function(e){return _date}},{key:"OnInit",value:function(){}},{key:"OnOpen",value:function(){}},{key:"OnClose",value:function(){}},{key:"OnDestroy",value:function(){}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=u,t.exports=n.default,cc._RF.pop()},{"../Core/Event/lottery_GlobalMsg":"lottery_GlobalMsg","../Manager/lottery_viewComponentManager":"lottery_viewComponentManager","../Manager/lottery_viewCtrManager":"lottery_viewCtrManager","../Singleton/SingletonBase":"SingletonBase",ProjectEnum:"ProjectEnum"}],lottery_viewCtrManager:[function(e,t,n){"use strict";cc._RF.push(t,"9f92b2KaZlLgZuCVrY4fAAQ","lottery_viewCtrManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=a(e("../Singleton/SingletonBase")),o=a(e("./lottery_viewComponentManager"));function a(e){return e&&e.__esModule?e:{default:e}}var s=e("ProjectEnum").moduleEnum,l=function(e){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.OpenModuleDic={},e.openModuleStack=[],o.default.getInstance().RegisterClosePanelEvent(e.OnViewCloseMessageHandle.bind(e),"viewCtrCloseTag"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"OnViewCloseMessageHandle",value:function(e){this.OpenModuleDic[e]&&this.OpenModuleDic[e].Close()}},{key:"AddViewCtr",value:function(e){this.OpenModuleDic[e.moduleName]=e}},{key:"RemoveViewCtr",value:function(e){this.OpenModuleDic[e.moduleName]&&delete this.OpenModuleDic[e.moduleName]}},{key:"OpenViewCtr",value:function(e){if(e.openStatus!=s.None){var t=this.openModuleStack.indexOf(e.moduleName);if(0<=t&&this.openModuleStack.splice(t,1),e.openStatus!==s.NeedHide)for(var n=0;n<this.openModuleStack.length;n++){var i=this.openModuleStack[n];this.OpenModuleDic[i].Close()}this.openModuleStack.push(e.moduleName)}}},{key:"CloseViewCtr",value:function(e){if(e.openStatus!==s.None){var t=this.openModuleStack.indexOf(e.moduleName);if(e.openStatus===s.HideOther&&t===this.openModuleStack.length-1){this.openModuleStack.pop();for(var n=null,i=this.openModuleStack.length-1;0<=i&&((n=this.OpenModuleDic[this.openModuleStack[i]]).Open(),n.openStatus===s.NeedHide);i--);}}}}],[{key:"_onNewObject",value:function(){return new t}}]),t}();n.default=l,t.exports=n.default,cc._RF.pop()},{"../Singleton/SingletonBase":"SingletonBase","./lottery_viewComponentManager":"lottery_viewComponentManager",ProjectEnum:"ProjectEnum"}],"screenfull.d":[function(e,t,n){"use strict";cc._RF.push(t,"1d9aeCfvVBH+JD6rwxy4R5u","screenfull.d"),t.exports=screenfull,cc._RF.pop()},{}],"screenfull.min":[function(e,t,n){"use strict";var o,i,r,a,s;cc._RF.push(t,"bba35rlgr5FE5JZwXnohWS8","screenfull.min"),o="undefined"!=typeof window&&void 0!==window.document?window.document:{},i=void 0!==t&&t.exports,r=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=t.length,r={};n<i;n++)if((e=t[n])&&e[1]in o){for(n=0;n<e.length;n++)r[t[0][n]]=e[n];return r}return!1}(),a={change:r.fullscreenchange,error:r.fullscreenerror},s={request:function(i){return new Promise(function(e,t){var n=function(){this.off("change",n),e()}.bind(this);this.on("change",n),i=i||o.documentElement,Promise.resolve(i[r.requestFullscreen]()).catch(t)}.bind(this))},exit:function(){return new Promise(function(e,t){if(this.isFullscreen){var n=function(){this.off("change",n),e()}.bind(this);this.on("change",n),Promise.resolve(o[r.exitFullscreen]()).catch(t)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,t){var n=a[e];n&&o.addEventListener(n,t,!1)},off:function(e,t){var n=a[e];n&&o.removeEventListener(n,t,!1)},raw:r},r?(Object.defineProperties(s,{isFullscreen:{get:function(){return Boolean(o[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return o[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(o[r.fullscreenEnabled])}}}),i?t.exports=s:window.screenfull=s):i?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1},cc._RF.pop()},{}],videoMsgFactory:[function(e,t,n){"use strict";cc._RF.push(t,"f15eby+4WRKSav4FU+tqeCy","videoMsgFactory"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){r(this,e),this.stanardFlow=[[1],[2],[3],[4],[5],[6,7]],this._msgList=[],this.period=2}return i(e,[{key:"firstToDay",value:function(){this._msgList=this.anlyArr([[1,1e4]])}},{key:"endToDay",value:function(){this._msgList=[]}},{key:"commonToDay",value:function(){this._msgList=this.anlyArr(this.stanardFlow)}},{key:"closePanToDay",value:function(){this._msgList=this.anlyArr([[8,3e3]])}},{key:"anlyArr",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=arguments[0][Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.push(new s(a[0],a[1]))}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}return e}},{key:"changePeriod",value:function(e){this.period=e}},{key:"msgList",get:function(){switch(this.period){case-1:this.firstToDay();break;case 0:this.commonToDay();break;case 1:this.endToDay();break;case 2:this.closePanToDay();break;default:this._msgList=[]}return this._msgList}},{key:"countDownTime",set:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this._msgList[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(2==a.type)return void(a.data=e)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}console.log("")}}],[{key:"ins",value:function(){return this._root||(this._root=new e),this._root}}]),e}();n.default=o;var s=function e(t,n){r(this,e),this.type=t,this.data=n};t.exports=n.default,cc._RF.pop()},{}],videoShader1:[function(e,t,n){"use strict";cc._RF.push(t,"7bd80SK0Q9KHKq5aiUgfW0C","videoShader1"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var r=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._currentBuffer=null,this.shaderPos=[],this.shaderPos=[o++,o++]}return i(e,[{key:"MycreateTexture",value:function(){var e=cc._renderContext,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t}},{key:"ShaderEffect",value:function(e){var t=new cc.GLProgram;cc.sys.isNative?t.initWithString(a,s):(t.initWithVertexShaderByteArray(a,s),t.addAttribute(cc.macro.ATTRIBUTE_NAME_POSITION,cc.macro.VERTEX_ATTRIB_POSITION),t.addAttribute(cc.macro.ATTRIBUTE_NAME_COLOR,cc.macro.VERTEX_ATTRIB_COLOR),t.addAttribute(cc.macro.ATTRIBUTE_NAME_TEX_COORD,cc.macro.VERTEX_ATTRIB_TEX_COORDS)),t.link(),t.updateUniforms();var n=cc._renderContext;t._uniforms[1]=n.getUniformLocation(t._programObj,"YTexture"),t._uniforms[2]=n.getUniformLocation(t._programObj,"CBTexture"),t._uniforms[3]=n.getUniformLocation(t._programObj,"CRTexture"),t.setUniformLocationWith1i(t._uniforms[1],0),t.setUniformLocationWith1i(t._uniforms[2],this.shaderPos[0]),t.setUniformLocationWith1i(t._uniforms[3],this.shaderPos[1]),this.setProgram(e.getComponent(cc.Sprite)._sgNode,t),this._texture1=this.MycreateTexture(),this._texture2=this.MycreateTexture(),this._texture3=this.MycreateTexture()}},{key:"Myrendering",value:function(e){var t=e,n=t.width*t.height,i=n>>2,r=this._currentBuffer;if(r){var o=r.subarray(0,n),a=r.subarray(n,n+i),s=r.subarray(n+i,n+2*i);gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,this._texture1),gl.texImage2D(gl.TEXTURE_2D,0,gl.LUMINANCE,t.width>>1,t.height>>1,0,gl.LUMINANCE,gl.UNSIGNED_BYTE,o),gl.activeTexture(gl["TEXTURE"+this.shaderPos[0]]),gl.bindTexture(gl.TEXTURE_2D,this._texture2),gl.texImage2D(gl.TEXTURE_2D,0,gl.LUMINANCE,t.width>>1,t.height>>1,0,gl.LUMINANCE,gl.UNSIGNED_BYTE,a),gl.activeTexture(gl["TEXTURE"+this.shaderPos[1]]),gl.bindTexture(gl.TEXTURE_2D,this._texture3),gl.texImage2D(gl.TEXTURE_2D,0,gl.LUMINANCE,t.width>>1,t.height>>1,0,gl.LUMINANCE,gl.UNSIGNED_BYTE,s),s=a=o=null}}},{key:"setProgram",value:function(e,t){if(cc.sys.isNative){var n=cc.GLProgramState.getOrCreateWithGLProgram(t);e.setGLProgramState(n)}else e.setShaderProgram(t);var i=e.children;if(i)for(var r=0;r<i.length;r++)this.setProgram(i[r],t)}}]),e}();n.default=r;var o=1,a="\n    attribute vec4 a_position;\n    attribute vec2 a_texCoord;\n    attribute vec4 a_color;\n    varying vec2 v_texCoord;\n    varying lowp vec4 v_fragmentColor;\n    void main()\n    {\n        gl_Position = CC_PMatrix * a_position;\n        v_fragmentColor = a_color;\n        v_texCoord = a_texCoord;\n    }",s="\n    #ifdef GL_ES\n    precision mediump float;\n    #endif\n    varying vec4 v_fragmentColor;\n    varying vec2 v_texCoord;\n    uniform sampler2D YTexture;\n    uniform sampler2D CBTexture;\n    uniform sampler2D CRTexture;\n    const mat4 YUV2RGB = mat4(1.1643828125, 0, 1.59602734375, -.87078515625,\n           1.1643828125, -.39176171875, -.81296875, .52959375,\n           1.1643828125, 2.017234375, 0, -1.081390625,\n           0, 0, 0, 1);\n    const mat4 YUV2RGB2 = mat4(1.000000,    1.000000,    1.000000,    0.000000,\n        0.000000,    -0.34414,    1.177200,    0.000000,\n        1.402000,    -0.71414,    0.000000,    0.000000,\n        0.000000,    0.000000,    0.000000,    1.000000);\n    void main()\n    {\n        float y = texture2D(YTexture, v_texCoord).r;\n        float cr = texture2D(CBTexture, v_texCoord).r;\n        float cb = texture2D(CRTexture, v_texCoord).r;\n        gl_FragColor = v_fragmentColor * vec4(y, cr, cb, 1.0) *YUV2RGB ;\n    }";t.exports=n.default,cc._RF.pop()},{}],videoSocketController1:[function(e,t,n){"use strict";cc._RF.push(t,"4b3801LxMZGK6M0kM8Tq7LA","videoSocketController1");var i={video:{}};(function(a){var r=!0;a.VideoSocketController=function(e,t,n){var i=this;this._currentUrl=e,this._currentFPS=c,this.audioPlayer=AV.Player.fromBufferSource(),this.timerId&&clearInterval(this.timerId),this.timerId=setInterval(function(){i.decodeFromQueueTimer()},30),this._useWorker=void 0===t?a.USE_WORKER:t,this._useGL=void 0===n?cc._renderType===cc._RENDER_TYPE_WEBGL:n,this.reuseMemory=!1,this.transferMemory=!1,this._lastBuffer=null,this._lastTimestamp=null,this._decoder=new Decoder({rgb:!this._useGL,reuseMemory:this.reuseMemory}),this._statistics=new ebet.NetworkStatistics(37500),this._client=new WebSocket(e),this._client.onopen=o.bind(this),this._client.onerror=s.bind(this),this.onOpen=null,this.onClose=null,this.onError=null,this._decodeVideo=null,this._videoCache=[],this.onPictureDecoded=null,this._packageCache=null,this._setupWorker()};var o=function(e){this._client.binaryType="arraybuffer",this._client.onmessage=n.bind(this),this._client.onclose=t.bind(this),this.onOpen&&this.onOpen(e)},t=function(e){cc.log("The video WebSocket connection has been closed."),console.log(e.currentTarget.url,this._currentUrl),this.onClose&&this.onClose(e)},n=function(e){var t,n=new Uint8Array(e.data),i=this.WSHeader(n);switch(0!==i.type&&(t=this.intFromBytes(n.subarray(8,12)),this._statistics.receiveBytes(n.length),n=new Uint8Array(e.data,12,n.length-12)),i.type){case 1:if(0===n[0]&&0===n[1]&&0===n[2]&&1===n[3])this._lastBuffer&&this._decodeVideo(this._lastTimestamp,this._lastBuffer),this._lastBuffer=n,this._lastTimestamp=t;else{cc.log("receive a split data");var r=new Uint8Array(this._lastBuffer.length+n.length);r.set(this._lastBuffer),r.set(n,this._lastBuffer.length),this._decodeVideo(t,r),this._lastBuffer=null}break;case 2:this._packageCache.pushAAC(t,n);break;case 255:switch(String.fromCharCode.apply(String,n)){case"video streaming server error.":this._lastBuffer=!1}}},s=function(e){cc.log("the video connection has an error",e),this.onError&&this.onError(e)},e=a.VideoSocketController.prototype;function l(e,t){return e.timestamp-t.timestamp}e.recycleMemory=function(){},e.WSHeader=function(e){var t={type:0,size:0};if(85===e[0]&&71===e[1]&&73===e[2]){switch(e[3]){case 1:t.type=1;break;case 2:t.type=2;break;case 255:t.type=255}0<t.type&&(t.size=this.intFromBytes(e.subarray(4,8)))}return t},e.NALU=function(e){var t=parseInt(e,16).toString(2);if(t.length<8)for(var n=7;n>=t.length-1;n--)t="0"+t;var i={ForbiddenZero:0,RefIdc:0,UnitType:0},r=[];for(var n in t)r[n]=parseInt(t[n]);i.ForbiddenZero=r[0];var o=2*r[1]+r[2];i.RefIdc=o;var a=3;for(n=4;0<=n;n--)i.UnitType+=r[a]<<n,a++;return i},e.intFromBytes=function(e){for(var t=0,n=0;n<e.length;++n)t+=e[n],n<e.length-1&&(t<<=8);return t},e.onRenderingBefore=function(e){},e.decodeFromQueueTimer=function(){var e=this._packageCache,t=(new Date).getTime();if(this._lastTickMs){var n=t-this._lastTickMs;this._lastTickMs=t;var i=e.getDecodeH264Buffer(n);if(i){this._decoder.decode(i.buffer);var r=e.getDecodeAACBuffer();r&&this.audioPlayer.asset.source.add(r.buffer)}}else this._lastTickMs=t},e._setupWorker=function(){var o=this,n=function(e,t,n,i,r){o.onPictureDecoded&&o.onPictureDecoded(e,t,n,i,r)};if(this._useWorker){var r=this.worker=new Worker("lib/H264Decoder.js");r.addEventListener("message",function(e){cc.log(e);var t=e.data;t.consoleLog?cc.log(t.consoleLog):n.call(o,new Uint8Array(t.buf,0,t.length),0,t.width,t.height,t.infos)},!1),r.postMessage({type:"Broadway.js - Worker init",options:{rgb:!o._useGL,reuseMemory:o.reuseMemory}}),this.transferMemory?this.decode=function(e,t){r.postMessage({buf:e.buffer,offset:e.byteOffset,length:e.length,info:t},[e.buffer])}:this._decodeVideo=function(e,t,n){var i=new Uint8Array(t.length);i.set(t,0,t.length),r.postMessage({buf:i.buffer,offset:0,length:t.length,info:n},[i.buffer])},this.reuseMemory&&(this.recycleMemory=function(e){r.postMessage({reuse:e.buffer},[e.buffer])})}else this._packageCache=new a.H264Cache,this._decoder.onPictureDecoded=n,this._decodeVideo=function(e,t,n){0===e?this._decoder.decode(t):this._packageCache.pushH264(e,t)}},e.setUrl=function(e){e!==this._currentUrl&&this._client.close(),this._currentUrl=e,this._currentUrl&&this.reOpen()},e.getUrl=function(){return this._currentUrl},e.close=function(){this._currentUrl=null,this._client.close(),this._packageCache.clear(),r=!0},e.reOpen=function(){this._currentUrl&&(this._client=new WebSocket(this._currentUrl),this._client.onopen=o.bind(this),this._client.onerror=s.bind(this),this.audioPlayer=AV.Player.fromBufferSource())},e.getState=function(){return this._client?this._client.readyState:-1},e.getNetworkStatus=function(){return this._statistics.getNetworkStatus()},a.H264Package=function(e,t){this.timestamp=e,this.buffer=t,this.bufferSize=t.byteLength,this.keyframe=34917===new Uint16Array(t.buffer,16,1)[0]},a.H264Cache=function(){this._videoCache=[],this._audioCache=[],this.receivedKeyframe=!1,this._deltaTime=0};var i=a.H264Cache.prototype;i.clear=function(){this._videoCache.length=0,this._audioCache.length=0,this.receivedKeyframe=!1,this.lastPlayedTimestamp=0,this._deltaTime=0},i.sortCaches=function(){this._videoCache.sort(l),this._audioCache.sort(l)};var c=1e3/30;i.getDecodeH264Buffer=function(e){if(this._deltaTime+=e,this._deltaTime<this._currentFPS)return null;this._deltaTime%=this._currentFPS;var t=this._videoCache;if(t.length<5)return null;5==t.length&&r&&(r=!1),t.sort(l);var n=this._searchVideoKeyframe();n||(n=t.shift());var i=0;return n.timestamp<this.lastPlayedTimestamp?null:(i=t.length<5?0:t.length<10?.1*c:t.length<15?.25*c:t.length<20?.3*c:t.length<30?.4*c:t.length<60?.5*c:t.length<100?.6*c:.7*c,this._currentFPS=c-i,this.lastPlayedTimestamp=n.timestamp,n)},i._searchVideoKeyframe=function(){var e=this._videoCache;if(e.length<120)return null;for(var t=-1,n=0;n<e.length;n++)e[n].keyframe&&(t=n);if(-1!==t&&120<t){var i=e[t];return e.splice(0,t+1),i}return null},i.pushH264=function(e,t){if(!this.getPackageByTimestamp(this._videoCache,e))if(this.receivedKeyframe)e>this.lastPlayedTimestamp?this._videoCache.push(new a.H264Package(e,t)):2e3<this.lastPlayedTimestamp-e&&(this.lastPlayedTimestamp=0);else{var n=new a.H264Package(e,t);n.keyframe&&(this.receivedKeyframe=!0,this.lastPlayedTimestamp=e,this._videoCache.push(n))}},i.getPackageByTimestamp=function(e,t){if(!e||0===e.length)return null;for(var n=0;n<e.length;n++)if(e[n].timestamp===t)return e[n];return null},i.getDecodeAACBuffer=function(){var e=this._audioCache,t=this.lastPlayedTimestamp;if(0===e.length)return null;for(;0!==e.length;){var n=e[0];return null==n?null:0<=n.timestamp-t&&n.timestamp-t<=c?e.shift():(n.timestamp<t&&e.shift(),null)}return null},i.skipAACBuffer=function(e){var t=this._audioCache;if(0!==t.length){t.sort(l);for(var n=-1,i=0;i<t.length;i++)if(t[i].timestamp>e){n=i;break}0<n&&t.splice(0,n)}},i.pushAAC=function(e,t){if(!this.getPackageByTimestamp(this._audioCache,e)){var n=new a.H264Package(e,t);this._audioCache.push(n)}}})((window.lottery=i).video),cc._RF.pop()},{}]},{},["ConfigReader","CsvTableData","CsvTableLine","lottery_GlobalMsg","lottery_BaseSocket","lottery_HttpUtils","lottery_SocketEnum","lottery_BaseResLoad","lottery_BaseUrlLoad","lottery_TimeMgr","TouchManager","lottery_Utils","lottery_CoreMgr","lottery_EventDefine","lottery_MsgStation","lottery_animDataMgr","lottery_lotteryData","GameStart","lottery_LanguageLabel","lottery_LanguageRichText","lottery_LanguageRichTextKey","lottery_LanguageTool","lottery_LanguageManager","lottery_NetManager","lottery_RunInBackground","lottery_SockMsgDefine","lottery_SocketManager","lottery_viewComponentManager","lottery_viewCtrManager","ProjectEnum","SingletonBase","lottery_ScrollViewNormalExtend","screenfull.d","screenfull.min","lottery_animCom","lottery_viewBaseComponent","lottery_viewCtrBase","commonBtn","lottery_Keyboard","lottery_helper","lottery_loadingTip","lottery_tipsLayer","lottery_videoCom","videoShader1","videoSocketController1","lottery_Login","lottery_TypeSelect","lottery_loginViewCom","lottery_loginViewCtr","lottery_VideoPlayCtr","lottery_VideoPlayView","lottery_VideoSysCtr","lottery_VideoSysView","lottery_videoFlow","lottery_videoPlayer","videoMsgFactory","eBET","AAC"]);
//# sourceMappingURL=project.js.map